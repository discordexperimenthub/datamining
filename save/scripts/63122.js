(this.webpackChunkdiscord_app = this.webpackChunkdiscord_app || []).push([
  ["63122"],
  {
    437087: function (e, t, n) {
      var i = {
        "./ggsans-400-normal.woff2": "899626",
        "./ggsans-400-normalitalic.woff2": "722885",
        "./ggsans-500-medium.woff2": "830979",
        "./ggsans-500-mediumitalic.woff2": "224548",
        "./ggsans-600-semibold.woff2": "493126",
        "./ggsans-600-semibolditalic.woff2": "533844",
        "./ggsans-700-bold.woff2": "200683",
        "./ggsans-700-bolditalic.woff2": "764930",
        "./ggsans-800-extrabold.woff2": "839050",
        "./ggsans-800-extrabolditalic.woff2": "991878",
      };
      function a(e) {
        if (!n.o(i, e))
          return Promise.resolve().then(function () {
            var t = Error("Cannot find module '" + e + "'");
            throw ((t.code = "MODULE_NOT_FOUND"), t);
          });
        var t = i[e];
        return n.el(t).then(function () {
          return n.t(t, 17);
        });
      }
      (a.keys = function () {
        return Object.keys(i);
      }),
        (a.id = "437087"),
        (e.exports = a);
    },
    915934: function (e, t, n) {
      "use strict";
      e.exports = n.p + "2a9096474ecb8192b3ce.webp";
    },
    217696: function (e, t, n) {
      "use strict";
      e.exports = n.p + "e8a673421a7098cdcdeb.webp";
    },
    766249: function (e, t, n) {
      "use strict";
      e.exports = n.p + "15fa601cc9c87bee2e26.webp";
    },
    512772: function (e, t, n) {
      "use strict";
      e.exports = n.p + "e0fe5bc7745f71705066.webp";
    },
    947146: function (e, t, n) {
      "use strict";
      e.exports = n.p + "e3fc64532265764e1d67.webp";
    },
    301071: function (e, t, n) {
      "use strict";
      e.exports = n.p + "2f906bd6a510974effa3.webp";
    },
    162551: function (e, t, n) {
      "use strict";
      e.exports = n.p + "3ea3e47f993b5620ea25.webp";
    },
    698060: function (e, t, n) {
      "use strict";
      e.exports = n.p + "a0e8219e310053130cba.webp";
    },
    541272: function (e, t, n) {
      "use strict";
      e.exports = n.p + "1d8770de85cb6d5284a5.webp";
    },
    20995: function (e, t, n) {
      "use strict";
      e.exports = n.p + "a28b009dcc138c849209.webp";
    },
    709048: function (e, t, n) {
      "use strict";
      e.exports = n.p + "31efa1913785fddb04d9.webp";
    },
    91801: function (e, t, n) {
      "use strict";
      e.exports = n.p + "720b20f6ecb7b2995714.webp";
    },
    340431: function (e, t, n) {
      "use strict";
      e.exports = n.p + "003c16533dc9327b66d8.webp";
    },
    538184: function (e, t, n) {
      "use strict";
      e.exports = n.p + "b9ba392d5652d7047b69.webp";
    },
    974893: function (e, t, n) {
      "use strict";
      e.exports = n.p + "c53596a8aabec268677f.webp";
    },
    236734: function (e, t, n) {
      "use strict";
      e.exports = n.p + "364d22ce868c406cf13a.webp";
    },
    832254: function (e, t, n) {
      "use strict";
      e.exports = n.p + "7fdb7c4b9dac8c9db942.webp";
    },
    514594: function (e, t, n) {
      "use strict";
      e.exports = n.p + "9bcd500d06a4e99eef38.webp";
    },
    738940: function (e, t, n) {
      "use strict";
      e.exports = n.p + "1779971f835dfdb63d9f.webp";
    },
    668528: function (e, t, n) {
      "use strict";
      e.exports = n.p + "1915fd6ab8fc8ddaa1f6.ico";
    },
    322876: function (e, t, n) {
      "use strict";
      e.exports = n.p + "74208bfbaf95129f3060.png";
    },
    859612: function (e, t, n) {
      "use strict";
      e.exports = n.p + "fad1e8f9791cde986c61.woff2";
    },
    937060: function (e, t, n) {
      "use strict";
      e.exports = n.p + "1dae98f83a4f199a9aee.woff2";
    },
    899626: function (e, t, n) {
      "use strict";
      e.exports = n.p + "b9811218b3a54ad59fb2.woff2";
    },
    722885: function (e, t, n) {
      "use strict";
      e.exports = n.p + "15551c6c9d4d1a96ba76.woff2";
    },
    830979: function (e, t, n) {
      "use strict";
      e.exports = n.p + "f84e3e81b8d0718cd917.woff2";
    },
    224548: function (e, t, n) {
      "use strict";
      e.exports = n.p + "099b34f1948afe9d15e4.woff2";
    },
    493126: function (e, t, n) {
      "use strict";
      e.exports = n.p + "20ac37ed2576dd48d7dc.woff2";
    },
    533844: function (e, t, n) {
      "use strict";
      e.exports = n.p + "36a7c3603a9c96bce18d.woff2";
    },
    200683: function (e, t, n) {
      "use strict";
      e.exports = n.p + "3f46bbecb4287c0a829f.woff2";
    },
    764930: function (e, t, n) {
      "use strict";
      e.exports = n.p + "6191b2ecd48873bed773.woff2";
    },
    839050: function (e, t, n) {
      "use strict";
      e.exports = n.p + "f65e087dae83a0fdc637.woff2";
    },
    991878: function (e, t, n) {
      "use strict";
      e.exports = n.p + "d5c9d3b86fab5ccc8ef2.woff2";
    },
    721207: function (e, t, n) {
      "use strict";
      e.exports = n.p + "25f1e66664a140ac84c9.woff2";
    },
    916931: function (e, t, n) {
      "use strict";
      e.exports = n.p + "9f0adc4ecabddcd298dc.woff2";
    },
    724968: function (e, t, n) {
      "use strict";
      e.exports = n.p + "e0ece3c23b33d18f4d00.woff2";
    },
    77788: function (e, t, n) {
      "use strict";
      e.exports = n.p + "818e8d4d506064aa57a3.woff2";
    },
    657537: function (e, t, n) {
      "use strict";
      e.exports = n.p + "9a02726c2f8410020238.woff2";
    },
    905274: function (e, t, n) {
      "use strict";
      e.exports = n.p + "08b2e52c725dc0d1a24a.woff2";
    },
    930593: function (e, t, n) {
      "use strict";
      e.exports = n.p + "ee6b51adb64f6365352c.woff2";
    },
    124021: function (e, t, n) {
      "use strict";
      e.exports = n.p + "4167dc814806444a69a5.woff2";
    },
    442584: function (e, t, n) {
      "use strict";
      e.exports = n.p + "2850dd7b145576e8d7c7.woff2";
    },
    551960: function (e, t, n) {
      "use strict";
      e.exports = n.p + "8318c9f278405382203e.woff2";
    },
    511700: function (e, t, n) {
      "use strict";
      e.exports = n.p + "7645cb75533b9a614c7a.woff2";
    },
    956378: function (e, t, n) {
      "use strict";
      e.exports = n.p + "cbb17c40dc4d56e70d10.woff2";
    },
    776156: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        });
      var i = n("872717"),
        a = n("913144"),
        l = n("34966"),
        s = n("234222");
      function r() {
        let e = new Date().getMinutes();
        return "x=".concat(Math.floor(e / 5));
      }
      var o = {
        lockChangeLog(e) {
          a.default.dispatch({ type: "CHANGE_LOG_LOCK", key: e });
        },
        unlockChangeLog(e) {
          a.default.dispatch({ type: "CHANGE_LOG_UNLOCK", key: e });
        },
        markChangelogAsSeen(e, t) {
          a.default.dispatch({
            type: "CHANGE_LOG_MARK_SEEN",
            changelogId: e,
            changelogDate: t,
          });
        },
        setChangelogOverride(e) {
          a.default.dispatch({ type: "CHANGE_LOG_SET_OVERRIDE", id: e });
        },
        fetchChangelogConfig() {
          let e = s.ChangelogPlatforms.DESKTOP;
          return i.default.get({
            url: "https://cdn.discordapp.com/changelogs/config_"
              .concat(e, ".json?")
              .concat(r()),
          });
        },
        async fetchChangelog(e, t) {
          if (null != l.default.getChangelog(e, t)) return null;
          let n = s.ChangelogPlatforms.DESKTOP;
          try {
            let l = await i.default.get({
              url: "https://cdn.discordapp.com/changelogs/"
                .concat(n, "/")
                .concat(e, "/")
                .concat(t, ".json?")
                .concat(r()),
            });
            return (
              a.default.dispatch({
                type: "CHANGE_LOG_FETCH_SUCCESS",
                id: e,
                changelog: l.body,
              }),
              l.body
            );
          } catch {
            if (
              (a.default.dispatch({
                type: "CHANGE_LOG_FETCH_FAILED",
                id: e,
                locale: t,
              }),
              "en-US" !== t)
            )
              return await this.fetchChangelog(e, "en-US");
            return null;
          }
        },
      };
    },
    920842: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          fetchRTCLatencyTestRegions: function () {
            return l;
          },
          completeRTCLatencyTest: function () {
            return s;
          },
        });
      var i = n("872717"),
        a = n("913144");
      function l() {
        var e;
        return i.default.get(
          ""
            .concat(((e = "https:"), "https:"))
            .concat(window.GLOBAL_ENV.RTC_LATENCY_ENDPOINT)
        );
      }
      function s(e, t) {
        a.default.dispatch({
          type: "RTC_LATENCY_TEST_COMPLETE",
          latencyRankedRegions: e,
          geoRankedRegions: t,
        });
      }
    },
    918109: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return c;
          },
        });
      var i = n("37983"),
        a = n("884691"),
        l = n("446674"),
        s = n("77078"),
        r = n("629109"),
        o = n("135230"),
        u = n("42887"),
        d = n("782340"),
        c = () => {
          let e = (0, l.useStateFromStores)(
              [u.default],
              () => u.default.isInteractionRequired(),
              []
            ),
            t = a.useRef(null);
          function n() {
            null !== t.current &&
              ((0, s.closeModal)(t.current), (t.current = null));
          }
          function c() {
            r.default.interact();
          }
          return (
            a.useEffect(
              () => (
                e
                  ? (t.current = (0, s.openModal)(e =>
                      (0, i.jsx)(o.default, {
                        title: d.default.Messages.INTERACTION_REQUIRED_TITLE,
                        body: d.default.Messages.INTERACTION_REQUIRED_BODY,
                        onConfirm: c,
                        confirmText: d.default.Messages.OKAY,
                        ...e,
                      })
                    ))
                  : n(),
                () => {
                  n();
                }
              ),
              [e]
            ),
            null
          );
        };
    },
    185137: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return _;
          },
        }),
        n("222007");
      var i = n("37983"),
        a = n("884691"),
        l = n("446674"),
        s = n("77078"),
        r = n("363658"),
        o = n("135230"),
        u = n("42887"),
        d = n("945956"),
        c = n("568307"),
        f = n("701909"),
        E = n("49111"),
        h = n("782340"),
        _ = () => {
          let [e, t] = (0, l.useStateFromStoresArray)(
              [c.default],
              () => [c.default.canShowAdminWarning, c.default.getVisibleGame()],
              []
            ),
            n = (0, l.useStateFromStores)(
              [d.default],
              () => d.default.isConnected(),
              []
            ),
            _ = (0, l.useStateFromStores)(
              [u.default],
              () => u.default.getMode() === E.InputModes.PUSH_TO_TALK,
              []
            ),
            C = null != t && t.elevated && n && _ && e,
            S = a.useRef(null);
          function g() {
            null !== S.current &&
              ((0, s.closeModal)(S.current), (S.current = null));
          }
          return (
            a.useEffect(
              () => (
                C
                  ? (S.current = (0, s.openModal)(e =>
                      (0, i.jsx)(o.default, {
                        title: h.default.Messages.PTT_PERMISSION_TITLE,
                        body: h.default.Messages.PTT_PERMISSION_BODY.format({
                          game: null == t ? void 0 : t.name,
                        }),
                        secondaryConfirmText:
                          h.default.Messages.DONT_SHOW_AGAIN,
                        onConfirmSecondary: () =>
                          r.default.clearPTTAdminWarning(),
                        onConfirm: () =>
                          window.open(
                            f.default.getArticleURL(
                              E.HelpdeskArticles.PUSH_TO_TALK_ADMINISTRATOR_MODE
                            ),
                            "_blank"
                          ),
                        confirmText: h.default.Messages.HELP_DESK,
                        ...e,
                      })
                    ))
                  : g(),
                () => {
                  g();
                }
              ),
              [t, C]
            ),
            null
          );
        };
    },
    521735: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("918109"),
        l = n("185137"),
        s = n("564007"),
        r = n("51168"),
        o = () =>
          (0, i.jsxs)(i.Fragment, {
            children: [
              (0, i.jsx)(l.default, {}),
              (0, i.jsx)(a.default, {}),
              (0, i.jsx)(s.default, {}),
              (0, i.jsx)(r.default, {}),
            ],
          });
    },
    564007: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return h;
          },
        }),
        n("222007");
      var i = n("37983"),
        a = n("884691"),
        l = n("446674"),
        s = n("77078"),
        r = n("363658"),
        o = n("135230"),
        u = n("723872"),
        d = n("130473"),
        c = n("782340");
      let f = () => {
          r.default.clearSuppressWarning();
        },
        E = () => {
          r.default.clearSuppressWarning(!0);
        };
      var h = () => {
        let e = a.useRef(null);
        function t() {
          null !== e.current &&
            ((0, s.closeModal)(e.current), (e.current = null));
        }
        let [r, h] = (0, l.useStateFromStoresArray)(
            [d.default],
            () => [d.default.shouldShowWarning(), d.default.isAFKChannel()],
            []
          ),
          _ = a.useCallback(() => {
            let t = "",
              n = "";
            h
              ? ((t = c.default.Messages.SUPPRESSED_AFK_TITLE),
                (n = c.default.Messages.SUPPRESSED_AFK_BODY))
              : ((t = c.default.Messages.SUPPRESSED),
                (n = c.default.Messages.SUPPRESSED_PERMISSION_BODY)),
              (e.current = (0, s.openModal)(e =>
                (0, i.jsx)(o.default, {
                  title: t,
                  body: n,
                  onConfirm: f,
                  confirmText: c.default.Messages.OKAY,
                  secondaryConfirmText: c.default.Messages.DONT_SHOW_AGAIN,
                  onConfirmSecondary: E,
                  ...e,
                })
              ));
          }, [h]),
          C = a.useCallback(() => {
            (0, s.openModalLazy)(async () => {
              let { default: e } = await n
                .el("109253")
                .then(n.bind(n, "109253"));
              return t => (0, i.jsx)(e, { ...t, showHideSuppressWarning: !0 });
            }).then(t => {
              null != t && (e.current = t);
            });
          }, []);
        return (
          a.useEffect(
            () => (
              r && (0, u.isRTCConnectedInHub)() ? C() : r ? _() : t(),
              () => {
                t();
              }
            ),
            [r, _, C]
          ),
          null
        );
      };
    },
    51168: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return E;
          },
        });
      var i = n("37983"),
        a = n("884691"),
        l = n("446674"),
        s = n("77078"),
        r = n("629109"),
        o = n("363658"),
        u = n("135230"),
        d = n("622785"),
        c = n("49111"),
        f = n("782340");
      function E() {
        let e = (0, l.useStateFromStores)(
            [d.default],
            () => d.default.shouldShowWarning(),
            []
          ),
          t = a.useRef(null);
        function n() {
          null !== t.current &&
            ((0, s.closeModal)(t.current), (t.current = null));
        }
        function E() {
          o.default.clearVADWarning();
        }
        return (
          a.useEffect(
            () => (
              e
                ? (t.current = (0, s.openModal)(e =>
                    (0, i.jsx)(u.default, {
                      title: f.default.Messages.VAD_PERMISSION_TITLE,
                      body: f.default.Messages.VAD_PERMISSION_BODY,
                      onCancel: E,
                      cancelText: f.default.Messages.VAD_PERMISSION_OKAY,
                      confirmText: f.default.Messages.VAD_PERMISSION_ENABLE_PTT,
                      onConfirm: () => {
                        r.default.setMode(c.InputModes.PUSH_TO_TALK), E();
                      },
                      ...e,
                    })
                  ))
                : n(),
              () => {
                n();
              }
            ),
            [e]
          ),
          null
        );
      }
    },
    276825: function (e, t, n) {
      "use strict";
      n.r(t);
      var i = n("309557");
      n.es(i, t);
    },
    163725: function (e, t, n) {
      "use strict";
      n.r(t);
      var i = n("962821");
      n.es(i, t);
    },
    2662: function (e, t, n) {
      "use strict";
      n.r(t);
      var i = n("129611");
      n.es(i, t);
    },
    320777: function (e, t, n) {
      "use strict";
      n.r(t), n("190709"), n("996763");
      var i = n("286235");
      n("792736"),
        n("279295"),
        n("455209"),
        n("619106"),
        n("271938"),
        n("760190"),
        n("407117"),
        n("668528"),
        n("322876");
      var a = n("171718"),
        l = n("404073"),
        s = n("503586"),
        r = n("446674"),
        o = n("429030"),
        u = n("688817"),
        d = n("767251"),
        c = n("49671"),
        f = n("951212"),
        E = n("424948");
      n("762017");
      var h = n("787006"),
        _ = n("605250"),
        C = n("648387"),
        S = n("49111"),
        g = n("782340");
      (0, o.setUpdateRules)(d.default),
        (0, l.default)(g.default, a.default, c.default),
        r.default.Emitter.injectBatchEmitChanges(s.batchUpdates),
        (r.default.PersistedStore.disableWrites = __OVERLAY__),
        r.default.initialize();
      let T = window.GLOBAL_ENV.RELEASE_CHANNEL;
      new (0, _.default)().log(
        "[BUILD INFO] Release Channel: "
          .concat(T, ", Build Number: ")
          .concat("267478", ", Version Hash: ")
          .concat("19cb54ee611ae2a199de91af9cb66166628068e6")
      ),
        i.default.setTags({ appContext: S.CURRENT_APP_CONTEXT }),
        f.default.initBasic(),
        E.default.init(),
        u.FocusRingManager.init(),
        h.init(),
        (0, C.cleanupTempFiles)();
    },
    333805: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return i;
          },
        });
      var i,
        a = n("872717"),
        l = n("49111"),
        s = n("782340");
      i = class extends a.default.V6OrEarlierAPIError {
        constructor(e, t) {
          super(
            e,
            t,
            null != t
              ? s.default.Messages.FORM_ERROR_GENERIC_WITH_DETAILS.format({
                  statusPageURL: l.Links.STATUS,
                  details: "".concat(t),
                })
              : s.default.Messages.FORM_ERROR_GENERIC.format({
                  statusPageURL: l.Links.STATUS,
                })
          );
        }
      };
    },
    767251: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return r;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("404828"),
        l = n.n(a),
        s = n("77078");
      function r(e) {
        return (
          (e.paragraph = {
            ...e.paragraph,
            react: function (e, t, n) {
              return (0, i.jsx)("p", { children: t(e.content, n) }, n.key);
            },
          }),
          (e.link = {
            ...e.link,
            react: function (e, t, n) {
              let a = {};
              if (null != e.context) {
                let t = e.context[e.target];
                t && t.onClick
                  ? ((a.onClick = t.onClick),
                    (a.onContextMenu = t.onContextMenu))
                  : (a.onClick = t);
              }
              return (
                null == a.onClick && (a.href = l.sanitizeUrl(e.target)),
                (0, i.jsx)(
                  s.Anchor,
                  { title: e.title, ...a, children: t(e.content, n) },
                  n.key
                )
              );
            },
          }),
          e
        );
      }
    },
    545158: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return a;
          },
        });
      var i = n("773336");
      async function a(e, t) {
        let { default: a } = await n.el("572544").then(n.bind(n, "572544")),
          l = a(e, { skipExtensionCheck: t, analyticsLocations: [] });
        if (null != l) l(null);
        else if (i.isPlatformEmbedded) window.open(e);
        else {
          let t = document.createElement("a");
          (t.href = e),
            (t.target = "_blank"),
            (t.rel = "noreferrer noopener"),
            t.click();
        }
      }
    },
    102535: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return i;
          },
        }),
        n("222007");
      var i,
        a = n("907002");
      function l(e, t) {
        let n = e.findIndex(t);
        return n < 0 ? e.length : n;
      }
      i = class extends a.FrameLoop {
        setRAF(e, t) {
          0 !== this.id && (this._cancelAnimationFrame(this.id), (this.id = 0)),
            (this._requestAnimationFrame = e),
            (this._cancelAnimationFrame = t),
            this.loop();
        }
        constructor(...e) {
          super(...e),
            (this._requestAnimationFrame = e => requestAnimationFrame(e)),
            (this._cancelAnimationFrame = e => cancelAnimationFrame(e)),
            (this.writing = !1),
            (this.id = 0),
            (this.lastTime = 0),
            (this.animations = []),
            (this.priority = 0),
            (this.startQueue = new Set()),
            (this.frameQueue = new Set()),
            (this.writeQueue = new Set()),
            (this.timeoutQueue = []),
            (this.addAnimation = e => {
              let t = this.animations.indexOf(e);
              t < 0 &&
                ((t = this.animations.findIndex(t => t.priority > e.priority)),
                this.animations.splice(
                  0 != ~t ? t : this.animations.length,
                  0,
                  e
                ));
            }),
            (this.loop = () => {
              if (0 !== this.lastTime)
                try {
                  this.advance();
                } catch (e) {
                  console.error(e);
                } finally {
                  this.animations.length > 0 ||
                  this.startQueue.size > 0 ||
                  this.frameQueue.size > 0 ||
                  this.writeQueue.size > 0 ||
                  this.timeoutQueue.length > 0
                    ? (this.id = this._requestAnimationFrame(this.loop))
                    : ((this.lastTime = 0), (this.id = 0));
                }
            }),
            (this.startLoop = () => {
              !(this.lastTime > 0) &&
                ((this.lastTime = a.Globals.now()),
                (this.id = this._requestAnimationFrame(this.loop)));
            }),
            (this.advance = () => {
              let e = a.Globals.now();
              if (
                (this.startQueue.size > 0 &&
                  (this.startQueue.forEach(this.addAnimation),
                  this.startQueue.clear()),
                this.timeoutQueue.length > 0 &&
                  a.Globals.batchedUpdates(() => {
                    let t = l(this.timeoutQueue, t => t.time > e);
                    this.timeoutQueue.splice(0, t).forEach(e => e.handler());
                  }),
                e > this.lastTime)
              ) {
                let t = Math.min(64, e - this.lastTime);
                (this.lastTime = e),
                  a.Globals.batchedUpdates(() => {
                    this.animations.length > 0 &&
                      (a.Globals.willAdvance(this.animations),
                      (this.animations = this.animations.filter(
                        e => (
                          (this.priority = e.priority),
                          !e.idle && e.advance(t),
                          !e.idle
                        )
                      )),
                      (this.priority = 0)),
                      this.frameQueue.size > 0 &&
                        (this.frameQueue.forEach(t => t(e)),
                        this.frameQueue.clear()),
                      this.writeQueue.size > 0 &&
                        ((this.writing = !0),
                        this.writeQueue.forEach(t => t(e)),
                        this.writeQueue.clear(),
                        (this.writing = !1));
                  });
              }
            }),
            (this.start = e => {
              this.priority > e.priority
                ? this.startQueue.add(e)
                : (this.addAnimation(e), this.startLoop());
            }),
            (this.setTimeout = (e, t) => {
              let n = a.Globals.now() + t,
                i = () => {
                  let e = this.timeoutQueue.findIndex(e => e.cancel === i);
                  e >= 0 && this.timeoutQueue.splice(e, 1);
                },
                s = l(this.timeoutQueue, e => e.time > n),
                r = { time: n, handler: e, cancel: i };
              return this.timeoutQueue.splice(s, 0, r), this.startLoop(), r;
            }),
            (this.onFrame = e => {
              this.frameQueue.add(e), this.startLoop();
            }),
            (this.onWrite = e => {
              this.writing ? e(this.lastTime) : this.writeQueue.add(e);
            });
        }
      };
    },
    619106: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          frameLoop: function () {
            return l;
          },
        });
      var i = n("907002"),
        a = n("102535");
      let l = new a.default();
      i.Globals.assign({ frameLoop: l });
    },
    424948: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return h;
          },
        });
      var i = n("161778"),
        a = n("599110"),
        l = n("206230"),
        s = n("727538");
      let r = s.AccessibilityFeatureFlags.NONE,
        o = window.matchMedia("(prefers-color-scheme: dark)"),
        u = window.matchMedia("(prefers-color-scheme: light)"),
        d = window.matchMedia("(inverted-colors: inverted)"),
        c = window.matchMedia("(prefers-contrast: more)"),
        f = window.matchMedia("(forced-colors: active)");
      function E(e, t) {
        t ? (r |= e) : (r &= ~e);
      }
      var h = {
        init() {
          l.default.addChangeListener(this.handleAccessibilityStoreChanged),
            i.default.addChangeListener(this.handleAccessibilityStoreChanged),
            o.addListener(this.handlePrefersColorSchemeDarkChanged),
            this.handlePrefersColorSchemeDarkChanged(o),
            u.addListener(this.handlePrefersColorSchemeLightChanged),
            this.handlePrefersColorSchemeLightChanged(u),
            c.addListener(this.handlePrefersMoreContrastChanged),
            this.handlePrefersMoreContrastChanged(c),
            f.addListener(this.handlePrefersForcedColorsChanged),
            this.handlePrefersForcedColorsChanged(f),
            d.addListener(this.handleInvertColorsChanged),
            this.handleInvertColorsChanged(d),
            a.default.setSystemAccessibilityFeatures(this.getActiveFeatures);
        },
        getActiveFeatures: () => r,
        handlePrefersColorSchemeDarkChanged(e) {
          E(s.AccessibilityFeatureFlags.PREFERS_COLOR_SCHEME_DARK, e.matches);
        },
        handlePrefersColorSchemeLightChanged(e) {
          E(s.AccessibilityFeatureFlags.PREFERS_COLOR_SCHEME_LIGHT, e.matches);
        },
        handlePrefersMoreContrastChanged(e) {
          E(s.AccessibilityFeatureFlags.HIGH_CONTRAST, e.matches);
        },
        handlePrefersForcedColorsChanged(e) {
          E(s.AccessibilityFeatureFlags.FORCED_COLORS, e.matches);
        },
        handleInvertColorsChanged(e) {
          E(s.AccessibilityFeatureFlags.INVERT_COLORS, e.matches);
        },
        handleAccessibilityStoreChanged() {
          E(
            s.AccessibilityFeatureFlags.REDUCED_MOTION,
            l.default.useReducedMotion
          ),
            E(
              s.AccessibilityFeatureFlags.REDUCED_MOTION_FROM_USER_SETTINGS,
              "auto" !== l.default.rawPrefersReducedMotion
            ),
            E(
              s.AccessibilityFeatureFlags.FORCED_COLORS_FROM_USER_SETTINGS,
              l.default.syncForcedColors
            ),
            E(
              s.AccessibilityFeatureFlags.CHAT_FONT_SCALE_DECREASED,
              l.default.isFontScaledDown
            ),
            E(
              s.AccessibilityFeatureFlags.CHAT_FONT_SCALE_INCREASED,
              l.default.isFontScaledUp
            ),
            E(
              s.AccessibilityFeatureFlags.ZOOM_LEVEL_DECREASED,
              l.default.isZoomedOut
            ),
            E(
              s.AccessibilityFeatureFlags.ZOOM_LEVEL_INCREASED,
              l.default.isZoomedIn
            ),
            E(
              s.AccessibilityFeatureFlags.MESSAGE_GROUP_SPACING_DECREASED,
              l.default.isMessageGroupSpacingDecreased
            ),
            E(
              s.AccessibilityFeatureFlags.MESSAGE_GROUP_SPACING_INCREASED,
              l.default.isMessageGroupSpacingIncreased
            ),
            E(s.AccessibilityFeatureFlags.DARK_SIDEBAR, i.default.darkSidebar),
            E(
              s.AccessibilityFeatureFlags.SATURATION_LEVEL_DECREASED,
              l.default.saturation < 1
            ),
            E(
              s.AccessibilityFeatureFlags.ROLE_STYLE_ADJUSTED,
              "username" !== l.default.roleStyle
            ),
            E(
              s.AccessibilityFeatureFlags.SYNC_PROFILE_THEME_WITH_USER_THEME,
              l.default.syncProfileThemeWithUserTheme
            );
        },
      };
    },
    191152: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          fetchActiveChannels: function () {
            return r;
          },
        });
      var i = n("872717"),
        a = n("913144"),
        l = n("599417"),
        s = n("49111");
      async function r(e) {
        let t =
          arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
        a.default.dispatch({ type: "ACTIVE_CHANNELS_FETCH_START", guildId: e });
        try {
          var n, r;
          let l = await i.default.get({
              url: s.Endpoints.ACTIVE_CHANNELS(e),
              query: { channel_limit: t },
            }),
            o =
              null !==
                (r =
                  null === (n = l.body) || void 0 === n
                    ? void 0
                    : n.channels) && void 0 !== r
                ? r
                : [];
          return (
            a.default.dispatch({
              type: "ACTIVE_CHANNELS_FETCH_SUCCESS",
              guildId: e,
              channels: o,
            }),
            l
          );
        } catch (t) {
          throw (
            (a.default.dispatch({
              type: "ACTIVE_CHANNELS_FETCH_FAILURE",
              guildId: e,
              error: new l.default(t),
            }),
            t)
          );
        }
      }
    },
    588788: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return g;
          },
        }),
        n("222007");
      var i = n("862337"),
        a = n("689988"),
        l = n("575365"),
        s = n("42203"),
        r = n("42887"),
        o = n("945956"),
        u = n("568307"),
        d = n("101125"),
        c = n("280168"),
        f = n("316133"),
        E = n("718517"),
        h = n("716241"),
        _ = n("49111");
      let C = 1 * E.default.Millis.MINUTE;
      class S extends a.default {
        _initialize() {
          __OVERLAY__
            ? (this.stores = new Map())
            : ((this.stores = new Map()
                .set(c.default, () => this._handleSpeakingStoreChanged())
                .set(o.default, () => this._handleRTCConnectionStoreChanged())),
              this._reset());
        }
        _reset() {
          (this._currentUserSpeaking = !1),
            (this._anyoneElseSpeaking = !1),
            null != this._reportInterval &&
              (this._reportInterval.stop(), (this._reportInterval = null));
        }
        _trackStartSpeaking() {
          if (this._currentUserSpeaking) {
            let e = o.default.getChannelId(),
              t = o.default.getGuildId(),
              n = s.default.getChannel(e),
              i = null == n ? void 0 : n.isBroadcastChannel();
            (0, h.trackWithMetadata)(_.AnalyticEvents.START_SPEAKING, {
              mode: r.default.getMode(),
              priority: c.default.isCurrentUserPrioritySpeaking(),
              channel: e,
              server: t,
              channel_id: e,
              guild_id: t,
              is_broadcast: i,
              rtc_connection_id: o.default.getRTCConnectionId(),
              media_session_id: o.default.getMediaSessionId(),
              voice_state_count: f.default.countVoiceStatesForChannel(
                this._voiceChannelId
              ),
              ...this.getGameMetadata(),
              ...o.default.getPacketStats(),
            });
          }
        }
        _trackStartListening() {
          if (r.default.isDeaf() || !this._anyoneElseSpeaking) return;
          let e = o.default.getChannelId(),
            t = o.default.getGuildId(),
            n = s.default.getChannel(e),
            i = null == n ? void 0 : n.isBroadcastChannel();
          (0, h.trackWithMetadata)(_.AnalyticEvents.START_LISTENING, {
            mute: r.default.isMute(),
            anyone_priority: c.default.isAnyonePrioritySpeaking(),
            channel: e,
            server: t,
            channel_id: e,
            guild_id: t,
            is_broadcast: i,
            rtc_connection_id: o.default.getRTCConnectionId(),
            media_session_id: o.default.getMediaSessionId(),
            voice_state_count: f.default.countVoiceStatesForChannel(
              this._voiceChannelId
            ),
            ...this.getGameMetadata(),
          });
        }
        _terminate() {
          this._reset(),
            c.default.removeChangeListener(this._handleSpeakingStoreChanged),
            o.default.removeChangeListener(
              this._handleRTCConnectionStoreChanged
            );
        }
        getGameMetadata() {
          let e = d.default.findActivity(
              e => e.type === _.ActivityTypes.PLAYING
            ),
            t = u.default.getCurrentGameForAnalytics();
          return {
            game_platform: (0, l.default)(e),
            game_name: null != e ? e.name : null,
            game_exe_name: null != t ? t.exeName : null,
            game_id: null != e ? e.application_id : null,
          };
        }
        constructor(...e) {
          super(...e),
            (this._currentUserSpeaking = !1),
            (this._anyoneElseSpeaking = !1),
            (this._handleRTCConnectionStoreChanged = () => {
              let e = o.default.getChannelId();
              if (this._voiceChannelId !== e) {
                if (((this._voiceChannelId = e), null == e)) {
                  this._reset();
                  return;
                }
                null == this._reportInterval &&
                  ((this._reportInterval = new i.Interval()),
                  this._reportInterval.start(C, () => {
                    this._trackStartSpeaking(), this._trackStartListening();
                  }));
              }
            }),
            (this._handleSpeakingStoreChanged = () => {
              let e = c.default.isCurrentUserSpeaking();
              this._currentUserSpeaking !== e &&
                ((this._currentUserSpeaking = e), this._trackStartSpeaking());
              let t = c.default.isAnyoneElseSpeaking();
              this._anyoneElseSpeaking !== t &&
                ((this._anyoneElseSpeaking = t), this._trackStartListening());
            });
        }
      }
      var g = new S();
    },
    73749: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return r;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("90915"),
        l = n("759843"),
        s = n("428958");
      function r(e) {
        var t;
        let {
            impressionName: n,
            impressionProperties: r,
            disableTrack: o,
            ...u
          } = e,
          d = r;
        return (
          "function" == typeof d && (d = d(u)),
          (0, s.default)(
            { type: l.ImpressionTypes.PAGE, name: n, properties: d },
            { disableTrack: o },
            [null === (t = u.location) || void 0 === t ? void 0 : t.pathname]
          ),
          (0, i.jsx)(a.Route, { ...u })
        );
      }
    },
    154403: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return g;
          },
        }),
        n("222007");
      var i = n("37983"),
        a = n("884691"),
        l = n("414456"),
        s = n.n(l),
        r = n("446674"),
        o = n("77078"),
        u = n("368694"),
        d = n("313915"),
        c = n("578706"),
        f = n("381546"),
        E = n("655804"),
        h = n("238500"),
        _ = n("983782"),
        C = n("939011"),
        S = n("440296");
      function g() {
        let { debugTrackedData: e, impressions: t } = (0, C.useImpressionStore)(
            e => ({
              debugTrackedData: e.debugTrackedData,
              impressions: e.impressions,
            })
          ),
          n = (0, r.useStateFromStores)(
            [d.default],
            () => d.default.isAnalyticsDebuggerEnabled
          ),
          l = (0, r.useStateFromStores)(
            [u.default],
            () => u.default.isDeveloper
          ),
          [g, T] = a.useState(!1),
          { name: m, ...p } = null != e ? e : {},
          I = null != m;
        return l && n
          ? (0, i.jsx)(_.default, {
              children: (0, i.jsxs)("div", {
                className: s(S.container, {
                  [S.containerMinimized]: g,
                  [S.notTracked]: !I,
                }),
                children: [
                  (0, i.jsx)(o.Clickable, {
                    className: S.minimizeButton,
                    onClick: () => {
                      T(!g);
                    },
                    children: g
                      ? (0, i.jsx)(E.default, {})
                      : (0, i.jsx)(h.default, {}),
                  }),
                  (0, i.jsxs)("div", {
                    className: s(S.content, { [S.contentMinimized]: g }),
                    children: [
                      (0, i.jsxs)(o.Text, {
                        className: s(S.label, { [S.notTracked]: !I }),
                        variant: "text-xxs/normal",
                        children: [
                          I
                            ? (0, i.jsx)(c.default, {
                                className: S.iconTracked,
                              })
                            : (0, i.jsx)(f.default, {
                                className: S.iconNotTracked,
                              }),
                          null != m ? m : "(untracked)",
                        ],
                      }),
                      (0, i.jsx)("div", {
                        className: S.current,
                        children: JSON.stringify(p, void 0, 2),
                      }),
                      (0, i.jsx)(o.Text, {
                        className: s(S.label, { [S.notTracked]: !I }),
                        variant: "text-xxs/normal",
                        children: "impressions stack",
                      }),
                      (0, i.jsx)("div", {
                        className: S.stack,
                        children: JSON.stringify(t, void 0, 2),
                      }),
                    ],
                  }),
                ],
              }),
            })
          : null;
      }
    },
    479732: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return l;
          },
        }),
        n("222007");
      var i = n("91131"),
        a = n("802493"),
        l = new (class e {
          async getAll() {
            let e = a.default.guildsRequiringDeletedIdsSync();
            if (null == e) return new Set();
            let t = await e.getMany();
            return new Set(t.map(e => e.id));
          }
          handleConnectionOpen(e, t) {
            var n;
            let { guilds: l } = e,
              s = l.filter(e => e.unableToSyncDeletes).map(e => ({ id: e.id }));
            s.length > 0 &&
              a.default.guildsRequiringDeletedIdsSyncTransaction(t).putAll(s),
              null === (n = i.initialState.guildIdsRequiringDeletedIdsSync) ||
                void 0 === n ||
                n.forEach(e => {
                  a.default
                    .guildsRequiringDeletedIdsSyncTransaction(t)
                    .put({ id: e });
                });
          }
          handleBackgroundSync(e, t) {
            let { guilds: n } = e,
              i = n
                .filter(e => "partial" === e.data_mode && e.unableToSyncDeletes)
                .map(e => ({ id: e.id }));
            i.length > 0 &&
              a.default.guildsRequiringDeletedIdsSyncTransaction(t).putAll(i);
          }
          handleGuildCreate(e, t) {
            let { guild: n } = e;
            n.unableToSyncDeletes &&
              a.default
                .guildsRequiringDeletedIdsSyncTransaction(t)
                .put({ id: n.id });
          }
          handleDeletedEntityIds(e, t) {
            a.default
              .guildsRequiringDeletedIdsSyncTransaction(t)
              .delete(e.guild_id);
          }
          handleClear(e) {
            a.default.guildsRequiringDeletedIdsSyncTransaction(e).delete();
          }
          handleReset() {}
          constructor() {
            this.actions = {
              CLEAR_CACHES: (e, t) => this.handleClear(t),
              CLEAR_GUILD_CACHE: (e, t) => this.handleClear(t),
              BACKGROUND_SYNC: (e, t) => this.handleBackgroundSync(e, t),
              CONNECTION_OPEN: (e, t) => this.handleConnectionOpen(e, t),
              GUILD_CREATE: (e, t) => this.handleGuildCreate(e, t),
              DELETED_ENTITY_IDS: (e, t) => this.handleDeletedEntityIds(e, t),
            };
          }
        })();
    },
    805199: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return m;
          },
        });
      var i = n("446674"),
        a = n("913144"),
        l = n("697218"),
        s = n("599110"),
        r = n("719923"),
        o = n("513196"),
        u = n("49111"),
        d = n("994428"),
        c = n("646718");
      let f = {
          desktop: o.FreemiumAppIconIds.DEFAULT,
          coachmarkImpressions: 0,
        },
        E = { client: f },
        h = !1,
        _ = !0,
        C = () => {
          _ = !r.default.canUsePremiumAppIcons(l.default.getCurrentUser());
        },
        S = e => {
          if (((E.client.desktop = e), !_)) {
            var t;
            s.default.track(u.AnalyticEvents.APP_ICON_UPDATED, {
              icon_id: e,
              user_premium_tier:
                null === (t = l.default.getCurrentUser()) || void 0 === t
                  ? void 0
                  : t.premiumType,
              icon_premium_tier:
                e !== o.FreemiumAppIconIds.DEFAULT
                  ? c.PremiumTypes.TIER_2
                  : null,
            });
          }
        };
      function g() {
        _ &&
          (E.client = {
            desktop: o.FreemiumAppIconIds.DEFAULT,
            coachmarkImpressions: 2,
          }),
          (h = !1);
      }
      class T extends i.default.PersistedStore {
        initialize(e) {
          null != e && (E = e),
            this.waitFor(l.default),
            this.syncWith([l.default], C);
        }
        get isEditorOpen() {
          return h;
        }
        get isUpsellPreview() {
          return _;
        }
        getState() {
          return E;
        }
        getCurrentDesktopIcon() {
          var e;
          return null == E
            ? void 0
            : null === (e = E.client) || void 0 === e
              ? void 0
              : e.desktop;
        }
      }
      (T.displayName = "AppIconPersistedStoreState"),
        (T.persistKey = "AppIconPersistedStoreState");
      var m = new T(a.default, {
        APP_ICON_UPDATED: function (e) {
          let { id: t } = e;
          null != t && S(t);
        },
        APP_ICON_EDITOR_OPEN: function () {
          h = !0;
        },
        APP_ICON_EDITOR_CLOSE: g,
        APP_ICON_TRACK_IMPRESSION: function (e) {
          let { markAsDismissed: t } = e;
          (E.client.coachmarkImpressions += 1),
            E.client.coachmarkImpressions >= 2 &&
              (null == t || t(d.ContentDismissActionType.UNKNOWN), g());
        },
      });
    },
    513196: function (e, t, n) {
      "use strict";
      var i, a, l, s, r;
      n.r(t),
        n.d(t, {
          FreemiumAppIconIds: function () {
            return i;
          },
          PremiumAppIconIds: function () {
            return a;
          },
        }),
        ((i || (i = {})).DEFAULT = "AppIcon"),
        ((s = a || (a = {})).BRAND_DARK = "BrandDarkIcon"),
        (s.BRAND_INVERTED = "BrandInvertedIcon"),
        (s.MATTE_LIGHT = "MatteLightIcon"),
        (s.MATTE_DARK = "MatteDarkIcon"),
        (s.PASTEL = "PastelIcon"),
        (s.PIRATE = "PirateIcon"),
        (s.CAMO = "CamoIcon"),
        (s.SUNSET = "SunsetIcon"),
        (s.GALAXY = "GalaxyIcon"),
        (s.Y2K = "Y2KIcon"),
        (s.CHERRY_BLOSSOM = "CherryBlossomIcon"),
        (s.BEANIE = "BeanieIcon"),
        (s.GAMING = "GamingIcon"),
        (s.CIRCUIT = "CircuitIcon"),
        (s.HOLO_WAVES = "HoloWavesIcon"),
        (s.BLUSH = "BlushIcon"),
        (s.ANGRY = "AngryIcon"),
        (s.MANGA = "MangaIcon"),
        (s.CONTROLLER = "ControllerIcon"),
        (s.MUSHROOM = "MushroomIcon"),
        ((r = l || (l = {})).DRIP = "DripIcon"),
        (r.SLIMY = "SlimyIcon"),
        (r.ZOMBIE = "ZombieIcon"),
        (r.CLYDE_STEIN = "ClydeSteinIcon"),
        { ...i, ...a, ...l };
    },
    42723: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return s;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("605475"),
        l = n("782340");
      function s(e) {
        let { id: t, width: n = a.CUSTOM_BASE_SIZE } = e,
          s = a.ICONS_BY_ID[t];
        return null == s
          ? null
          : (0, i.jsx)("img", {
              src: s.iconSource,
              width: n,
              alt: l.default.Messages.SETTINGS_CUSTOM_APP_ICONS,
              draggable: !1,
            });
      }
    },
    605475: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          CUSTOM_BASE_SIZE: function () {
            return v;
          },
          ICONS: function () {
            return R;
          },
          ICONS_BY_ID: function () {
            return M;
          },
        });
      var i = n("917351"),
        a = n.n(i),
        l = n("915934"),
        s = n("217696"),
        r = n("766249"),
        o = n("512772"),
        u = n("947146"),
        d = n("301071"),
        c = n("162551"),
        f = n("698060"),
        E = n("541272"),
        h = n("20995"),
        _ = n("709048"),
        C = n("91801"),
        S = n("340431"),
        g = n("538184"),
        T = n("974893"),
        m = n("236734"),
        p = n("832254"),
        I = n("514594"),
        A = n("738940"),
        N = n("513196"),
        O = n("782340");
      let v = 60,
        R = [
          {
            id: N.FreemiumAppIconIds.DEFAULT,
            iconSource: s,
            name: O.default.Messages.APP_ICON_DEFAULT,
            isPremium: !1,
          },
        ].concat([
          {
            id: N.PremiumAppIconIds.BRAND_DARK,
            iconSource: u,
            name: O.default.Messages.APP_ICON_BRAND_DARK,
            isPremium: !0,
          },
          {
            id: N.PremiumAppIconIds.MANGA,
            iconSource: S,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_MANGA,
          },
          {
            id: N.PremiumAppIconIds.MATTE_DARK,
            iconSource: g,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_MATTE_DARK,
          },
          {
            id: N.PremiumAppIconIds.MATTE_LIGHT,
            iconSource: T,
            name: O.default.Messages.APP_ICON_MATTE_LIGHT,
            isPremium: !0,
          },
          {
            id: N.PremiumAppIconIds.PASTEL,
            iconSource: m,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_PASTEL,
          },
          {
            id: N.PremiumAppIconIds.PIRATE,
            iconSource: p,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_PIRATE,
          },
          {
            id: N.PremiumAppIconIds.CAMO,
            iconSource: d,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_CAMO,
          },
          {
            id: N.PremiumAppIconIds.SUNSET,
            iconSource: I,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_SUNSET,
          },
          {
            id: N.PremiumAppIconIds.GALAXY,
            iconSource: h,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_GALAXY,
          },
          {
            id: N.PremiumAppIconIds.Y2K,
            iconSource: A,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_Y2K,
          },
          {
            id: N.PremiumAppIconIds.CHERRY_BLOSSOM,
            iconSource: c,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_CHERRY_BLOSSOM,
          },
          {
            id: N.PremiumAppIconIds.BEANIE,
            iconSource: r,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_BEANIE,
          },
          {
            id: N.PremiumAppIconIds.GAMING,
            iconSource: _,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_GAMING,
          },
          {
            id: N.PremiumAppIconIds.CIRCUIT,
            iconSource: f,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_CIRCUIT,
          },
          {
            id: N.PremiumAppIconIds.HOLO_WAVES,
            iconSource: C,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_HOLO_WAVES,
          },
          {
            id: N.PremiumAppIconIds.BLUSH,
            iconSource: o,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_BLUSH,
          },
          {
            id: N.PremiumAppIconIds.ANGRY,
            iconSource: l,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_ANGRY,
          },
          {
            id: N.PremiumAppIconIds.CONTROLLER,
            iconSource: E,
            isPremium: !0,
            name: O.default.Messages.APP_ICON_CONTROLLER,
          },
        ]),
        M = a.keyBy(R, "id");
    },
    529531: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return w;
          },
        });
      var i = n("37983"),
        a = n("884691"),
        l = n("414456"),
        s = n.n(l),
        r = n("446674"),
        o = n("77078"),
        u = n("913144"),
        d = n("79112"),
        c = n("206625"),
        f = n("206230"),
        E = n("812204"),
        h = n("685665"),
        _ = n("917247"),
        C = n("635956"),
        S = n("891653"),
        g = n("697218"),
        T = n("381546"),
        m = n("599110"),
        p = n("719923"),
        I = n("805199"),
        A = n("433724"),
        N = n("49111"),
        O = n("994428"),
        v = n("646718"),
        R = n("782340"),
        M = n("739471");
      let L = () => {
          u.default.dispatch({ type: "APP_ICON_EDITOR_CLOSE" });
        },
        y = () => {
          var e, t, n;
          let a = (0, r.useStateFromStores)([g.default], () =>
              p.default.isPremium(g.default.getCurrentUser())
            ),
            l = (0, _.usePremiumTrialOffer)(),
            s =
              (null == l
                ? void 0
                : null === (e = l.subscription_trial) || void 0 === e
                  ? void 0
                  : e.sku_id) === v.PremiumSubscriptionSKUs.TIER_2;
          return (0, i.jsx)(C.default, {
            size: o.Button.Sizes.MEDIUM,
            buttonText: a
              ? R.default.Messages.BILLING_SWITCH_PLAN_UPGRADE
              : s
                ? (0, p.formatTrialCtaIntervalDuration)({
                    intervalType:
                      null == l
                        ? void 0
                        : null === (t = l.subscription_trial) || void 0 === t
                          ? void 0
                          : t.interval,
                    intervalCount:
                      null == l
                        ? void 0
                        : null === (n = l.subscription_trial) || void 0 === n
                          ? void 0
                          : n.interval_count,
                  })
                : R.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL,
            subscriptionTier: v.PremiumSubscriptionSKUs.TIER_2,
          });
        },
        D = e => {
          let { markAsDismissed: t } = e,
            n = () => {
              null == t || t(O.ContentDismissActionType.DISMISS), L();
            };
          return (0, i.jsxs)("div", {
            className: M.editorHeader,
            children: [
              (0, i.jsx)(o.Clickable, {
                className: M.closeCircleButton,
                onClick: () => n(),
                children: (0, i.jsx)(T.default, { className: M.closeCircle }),
              }),
              (0, i.jsxs)("div", {
                className: M.title,
                children: [
                  (0, i.jsx)(o.Heading, {
                    variant: "heading-lg/extrabold",
                    children: R.default.Messages.APP_ICON_PREVIEW_TITLE,
                  }),
                  (0, i.jsx)(S.default, { className: M.premiumIcon }),
                ],
              }),
            ],
          });
        },
        P = e => {
          let { isCoachmark: t, markAsDismissed: n } = e,
            a = (0, r.useStateFromStores)(
              [I.default],
              () => I.default.isUpsellPreview
            );
          return (0, i.jsxs)("div", {
            className: M.editorFooter,
            children: [
              a && (0, i.jsx)(y, {}),
              (0, i.jsx)(o.Button, {
                className: M.footerButton,
                onClick: () => {
                  null == n || n(O.ContentDismissActionType.DISMISS),
                    L(),
                    !t && d.default.open();
                },
                color: o.Button.Colors.PRIMARY,
                size: o.Button.Sizes.MEDIUM,
                children:
                  a || t
                    ? R.default.Messages.CLIENT_THEMES_EDITOR_EXIT_PREVIEW
                    : R.default.Messages
                        .CLIENT_THEMES_EDITOR_RETURN_TO_SETTINGS,
              }),
            ],
          });
        };
      function w(e) {
        let { isCoachmark: t, markAsDismissed: n } = e,
          { analyticsLocations: l, AnalyticsLocationProvider: u } = (0,
          h.default)(E.default.APP_ICON_EDITOR),
          d = (0, r.useStateFromStores)([g.default], () =>
            g.default.getCurrentUser()
          ),
          {
            isUpsellPreview: _,
            isEditorOpen: C,
            shouldEditorAnimate: S,
          } = (0, r.useStateFromStoresObject)([I.default, f.default], () => ({
            isUpsellPreview: I.default.isUpsellPreview,
            isEditorOpen: I.default.isEditorOpen,
            shouldEditorAnimate: t && !f.default.useReducedMotion,
          }));
        a.useEffect(() => {
          _ &&
            m.default.track(N.AnalyticEvents.PREMIUM_UPSELL_VIEWED, {
              type: v.PremiumUpsellTypes.APP_ICON_UPSELL,
              location_stack: l,
            });
        }, [_, l]);
        let T = (0, c.default)(null, _ ? L : N.NOOP);
        return (a.useEffect(() => {
          if (_ && !C) return L;
        }, [_, C]),
        null == d)
          ? null
          : (0, i.jsx)(u, {
              children: (0, i.jsx)("div", {
                ref: T,
                className: s(M.editor, S ? M.editorAnimate : null),
                children: (0, i.jsxs)(o.HeadingLevel, {
                  children: [
                    (0, i.jsx)(D, { markAsDismissed: n }),
                    (0, i.jsx)(o.Scroller, {
                      className: M.editorBody,
                      children: (0, i.jsx)(A.default, {
                        className: M.selectionGroup,
                      }),
                    }),
                    (0, i.jsx)(P, { markAsDismissed: n, isCoachmark: t }),
                  ],
                }),
              }),
            });
      }
    },
    762017: function (e, t, n) {
      "use strict";
      n.r(t);
      var i = n("695291");
      let a = {
        AppAnalyticsManager: {
          inlineRequire: () => n("588788").default,
          hasStoreChangeListeners: !0,
        },
        AudioSettingsManager: {
          actions: [
            "POST_CONNECTION_OPEN",
            "AUDIO_SET_LOCAL_VOLUME",
            "AUDIO_TOGGLE_LOCAL_MUTE",
            "AUDIO_TOGGLE_LOCAL_SOUNDBOARD_MUTE",
          ],
          inlineRequire: () => n("801290").default,
        },
        BlockedDomainManager: {
          inlineRequire: () => n("24966").default,
          loadAfterConnectionOpen: !0,
        },
        CallIdleManager: {
          actions: [
            "VOICE_STATE_UPDATES",
            "EMBEDDED_ACTIVITY_DISCONNECT",
            "CONNECTION_CLOSED",
          ],
          inlineRequire: () => n("357168").default,
        },
        ChangelogManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("228495").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        ChannelCallManager: {
          inlineRequire: () => n("728966").default,
          hasStoreChangeListeners: !0,
        },
        ChannelSafetyWarningsManager: {
          actions: ["CHANNEL_SELECT", "CHANNEL_UPDATES"],
          inlineRequire: () => n("578165").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        CommunicationDisabledManager: {
          inlineRequire: () => n("658536").default,
          loadAfterConnectionOpen: !0,
        },
        ContentProtectionManager: {
          inlineRequire: () => n("447868").default,
          loadRightBeforeConnectionOpen: !0,
          hasStoreChangeListeners: !0,
        },
        DeadchatPromptManager: {
          actions: ["POST_CONNECTION_OPEN", "IDLE"],
          inlineRequire: () => n("111276").default,
          loadAfterConnectionOpen: !0,
        },
        TopEmojisDataManager: {
          actions: ["EMOJI_INTERACTION_INITIATED"],
          inlineRequire: () => n("120273").default,
        },
        EmojiCaptionsDataManager: {
          actions: ["EMOJI_INTERACTION_INITIATED"],
          inlineRequire: () => n("531150").default,
        },
        EntityVersionsManager: {
          actions: ["GUILD_CREATE", "DELETED_ENTITY_IDS"],
          inlineRequire: () => n("382022").default,
          loadRightBeforeConnectionOpen: !0,
        },
        ExplicitMediaManager: {
          actions: [
            "CHANNEL_SELECT",
            "LOAD_MESSAGES_SUCCESS",
            "MESSAGE_CREATE",
            "MESSAGE_UPDATE",
            "SEARCH_FINISH",
            "MOD_VIEW_SEARCH_FINISH",
            "LOAD_FORUM_POSTS",
            "LOAD_ARCHIVED_THREADS_SUCCESS",
            "LOAD_THREADS_SUCCESS",
            "LOGOUT",
            "LOAD_PINNED_MESSAGES_SUCCESS",
            "USER_SETTINGS_PROTO_UPDATE",
            "CHANNEL_RTC_UPDATE_CHAT_OPEN",
          ],
          inlineRequire: () => n("983850").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        FeedbackManager: {
          actions: [
            "VOICE_CHANNEL_SHOW_FEEDBACK",
            "STREAM_CLOSE",
            "EMBEDDED_ACTIVITY_CLOSE",
            "VIDEO_BACKGROUND_SHOW_FEEDBACK",
            "IN_APP_REPORTS_SHOW_FEEDBACK",
          ],
          inlineRequire: () => n("828787").default,
        },
        ForumGuidelinesManager: {
          inlineRequire: () => n("706065").default,
          loadAfterConnectionOpen: !0,
        },
        ForumManager: {
          actions: ["CHANNEL_PRELOAD"],
          inlineRequire: () => n("62649").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        ForumImagePreloadManager: {
          actions: ["CHANNEL_PRELOAD"],
          inlineRequire: () => n("144320").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        ForumPostAnalyticsManager: {
          actions: ["CHANNEL_SELECT", "THREAD_CREATE"],
          inlineRequire: () => n("589641").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        FrecencyUserSettingsManager: {
          actions: [
            "POST_CONNECTION_OPEN",
            "CONNECTION_RESUMED",
            "CONNECTION_CLOSED",
          ],
          inlineRequire: () => n("679404").default,
        },
        GuildOnboardingHomeManager: {
          actions: [
            "POST_CONNECTION_OPEN",
            "CHANNEL_SELECT",
            "MESSAGE_CREATE",
            "THREAD_CREATE",
            "GUILD_MEMBER_UPDATE",
            "GUILD_DELETE",
          ],
          inlineRequire: () => n("902801").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        GuildOnboardingManager: {
          actions: ["POST_CONNECTION_OPEN", "CHANNEL_SELECT", "GUILD_DELETE"],
          inlineRequire: () => n("999243").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        GuildOnboardingUpsellManager: {
          actions: ["POST_CONNECTION_OPEN", "CHANNEL_SELECT"],
          inlineRequire: () => n("99628").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        GameConsoleManager: {
          actions: [
            "WAIT_FOR_REMOTE_SESSION",
            "POST_CONNECTION_OPEN",
            "SESSIONS_REPLACE",
            "AUDIO_TOGGLE_SELF_DEAF",
            "AUDIO_TOGGLE_SELF_MUTE",
            "VOICE_STATE_UPDATES",
            "CONSOLE_COMMAND_UPDATE",
            "PASSIVE_UPDATE_V1",
            "REMOTE_SESSION_DISCONNECT",
          ],
          inlineRequire: () => n("508412").default,
        },
        GuildHomeManager: {
          actions: ["CHANNEL_PRELOAD"],
          inlineRequire: () => n("168263").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        GuildScheduledEventManager: {
          actions: [
            "POST_CONNECTION_OPEN",
            "GUILD_DELETE",
            "GUILD_UNAVAILABLE",
            "INVITE_RESOLVE_SUCCESS",
            "CHANNEL_SELECT",
          ],
          inlineRequire: () => n("933326").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        GuildVerificationManager: {
          actions: ["INVITE_ACCEPT_SUCCESS"],
          inlineRequire: () => n("589636").default,
        },
        HangStatusManager: {
          actions: ["VOICE_CHANNEL_SELECT", "LOGOUT", "GUILD_MEMBER_UPDATE"],
          inlineRequire: () => n("360557").default,
          hasStoreChangeListeners: !0,
        },
        InteractionModalManager: {
          actions: [
            "INTERACTION_MODAL_CREATE",
            "INTERACTION_IFRAME_MODAL_CREATE",
            "INTERACTION_IFRAME_MODAL_CLOSE",
            "RPC_APP_DISCONNECTED",
          ],
          inlineRequire: () => n("858402").default,
        },
        LocalizedPricingPromoManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("53808").default,
        },
        LoginRequiredActionManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("126115").default,
        },
        MemberSafetySearchManager: {
          actions: [
            "INITIALIZE_MEMBER_SAFETY_STORE",
            "GUILD_DELETE",
            "MEMBER_SAFETY_SEARCH_STATE_UPDATE",
            "MEMBER_SAFETY_PAGINATION_UPDATE",
            "MEMBER_SAFETY_GUILD_MEMBER_SEARCH_SUCCESS",
            "MEMBER_SAFETY_GUILD_MEMBER_SEARCH_STILL_INDEXING",
            "MEMBER_SAFETY_NEW_MEMBER_TIMESTAMP_REFRESH",
          ],
          inlineRequire: () => n("804160").default,
        },
        MemberSafetyStoreBatchUpdateManager: {
          actions: [
            "INITIALIZE_MEMBER_SAFETY_STORE",
            "GUILD_MEMBER_ADD",
            "GUILD_MEMBER_UPDATE",
            "GUILD_MEMBER_REMOVE",
            "MEMBER_SAFETY_GUILD_MEMBER_SEARCH_SUCCESS",
          ],
          inlineRequire: () => n("332336").default,
        },
        MessageCodedLinkManager: {
          actions: [
            "POST_CONNECTION_OPEN",
            "MESSAGE_UPDATE",
            "LOAD_MESSAGES_SUCCESS",
            "LOAD_MESSAGES_AROUND_SUCCESS",
            "LOAD_RECENT_MENTIONS_SUCCESS",
            "LOAD_PINNED_MESSAGES_SUCCESS",
            "SEARCH_FINISH",
            "MOD_VIEW_SEARCH_FINISH",
            "GUILD_FEED_FETCH_SUCCESS",
          ],
          inlineRequire: () => n("149681").default,
        },
        MessageManager: {
          actions: [
            "APP_STATE_UPDATE",
            "OVERLAY_INITIALIZE",
            "CHANNEL_SELECT",
            "VOICE_CHANNEL_SELECT",
            "THREAD_CREATE",
            "THREAD_LIST_SYNC",
            "CHANNEL_CREATE",
            "CHANNEL_PRELOAD",
            "THREAD_CREATE_LOCAL",
            "GUILD_CREATE",
            "MESSAGE_END_EDIT",
            "LOAD_MESSAGES_SUCCESS",
            "UPLOAD_FAIL",
            "CHANNEL_DELETE",
            "THREAD_DELETE",
          ],
          inlineRequire: () => n("341329").default,
          neverLoadBeforeConnectionOpen: !0,
          hasStoreChangeListeners: !0,
          loadRightBeforeConnectionOpen: !0,
        },
        MultiAccountManager: {
          actions: ["LOGOUT"],
          inlineRequire: () => n("390680").default,
          loadAfterConnectionOpen: !0,
        },
        OverlayUsageStatsManager: {
          actions: __OVERLAY__
            ? ["MESSAGE_ACKED", "MESSAGE_CREATE"]
            : [
                "OVERLAY_FOCUSED",
                "OVERLAY_NOTIFICATION_EVENT",
                "OVERLAY_SET_UI_LOCKED",
                "OVERLAY_WIDGET_CHANGED",
                "OVERLAY_MESSAGE_EVENT_ACTION",
                "RUNNING_GAMES_CHANGE",
                "SOUNDBOARD_SET_OVERLAY_ENABLED",
                "MESSAGE_ACKED",
                "MESSAGE_CREATE",
                "WINDOW_FOCUS",
                "RTC_CONNECTION_STATE",
                "AUDIO_TOGGLE_SELF_MUTE",
              ],
          inlineRequire: () => n("488507").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        ParticipantFocusManager: {
          inlineRequire: () => n("272708").default,
          hasStoreChangeListeners: !0,
        },
        PomeloManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("485627").default,
        },
        PromotionsManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("922030").default,
        },
        RelationshipManager: {
          actions: ["RELATIONSHIP_ADD", "FRIEND_REQUEST_ACCEPTED"],
          inlineRequire: () => n("50733").default,
        },
        RTCLatencyTestManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("937827").default,
        },
        MessageRemindersManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("205277").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        MessageRemindersNotificationManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("741887").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        SearchManager: {
          actions: [
            "USER_SETTINGS_PROTO_UPDATE",
            "I18N_LOAD_SUCCESS",
            "POST_CONNECTION_OPEN",
          ],
          inlineRequire: () => n("739362").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        SelectedChannelManager: {
          actions: ["GUILD_CREATE", "CHANNEL_CREATE", "LOGOUT"],
          inlineRequire: () => n("990629").default,
        },
        SelfPresenceStoreManager: {
          inlineRequire: () => n("608421").default,
          hasStoreChangeListeners: !0,
        },
        StageChannelRequestToSpeakMessageManager: {
          actions: ["VOICE_STATE_UPDATES"],
          inlineRequire: () => n("728863").default,
        },
        StageMusicManager: {
          actions: [
            "VOICE_CHANNEL_SELECT",
            "LOGOUT",
            "STAGE_MUSIC_MUTE",
            "STAGE_MUSIC_PLAY",
            "VOICE_STATE_UPDATES",
            "AUDIO_SET_OUTPUT_VOLUME",
            "AUDIO_TOGGLE_SELF_DEAF",
          ],
          inlineRequire: () => n("924872").default,
        },
        SubscriptionRemindersManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("606162").default,
        },
        ThreadManager: {
          actions: ["CHANNEL_DELETE", "MESSAGE_CREATE"],
          inlineRequire: () => n("708130").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        UrgentSystemDMManagerBase: {
          actions: ["POST_CONNECTION_OPEN", "MESSAGE_CREATE", "CHANNEL_SELECT"],
          inlineRequire: () => n("507331").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        UserGuildSettingsManager: {
          actions: [
            "CATEGORY_COLLAPSE",
            "CATEGORY_EXPAND",
            "CATEGORY_COLLAPSE_ALL",
            "CATEGORY_EXPAND_ALL",
            "POST_CONNECTION_OPEN",
            "USER_GUILD_SETTINGS_FULL_UPDATE",
          ],
          inlineRequire: () => n("679428").default,
        },
        UserSearchManager: {
          actions: [
            "LOGOUT",
            "POST_CONNECTION_OPEN",
            "CONNECTION_OPEN_SUPPLEMENTAL",
            "OVERLAY_INITIALIZE",
            "CURRENT_USER_UPDATE",
            "GUILD_CREATE",
            "GUILD_MEMBERS_CHUNK",
            "GUILD_MEMBER_ADD",
            "GUILD_MEMBER_UPDATE",
            "RELATIONSHIP_ADD",
            "RELATIONSHIP_UPDATE",
            "RELATIONSHIP_REMOVE",
            "CHANNEL_CREATE",
            "CHANNEL_UPDATES",
            "CHANNEL_RECIPIENT_ADD",
            "PASSIVE_UPDATE_V1",
          ],
          inlineRequire: () => n("447909").default,
        },
        UserSettingsManager: {
          actions: [
            "POST_CONNECTION_OPEN",
            "OVERLAY_INITIALIZE",
            "USER_SETTINGS_PROTO_UPDATE",
          ],
          inlineRequire: () => n("761834").default,
        },
        VoiceChannelSettingsManager: {
          actions: ["CHANNEL_UPDATES", "VOICE_STATE_UPDATES"],
          inlineRequire: () => n("783252").default,
        },
        VoiceChannelNotificationsManager: {
          actions: ["VOICE_CHANNEL_SELECT"],
          inlineRequire: () => n("778727").default,
        },
        VoicePermissionManager: {
          actions: ["VOICE_CHANNEL_SELECT", "VOICE_STATE_UPDATES"],
          inlineRequire: () => n("310045").default,
        },
        VoiceProcessingErrorManager: {
          actions: ["MEDIA_ENGINE_NOISE_CANCELLATION_ERROR"],
          inlineRequire: () => n("104545").default,
        },
        HighFiveManager: {
          actions: ["VOICE_CHANNEL_EFFECT_SEND", "HIGH_FIVE_COMPLETE"],
          inlineRequire: () => n("536813").default,
        },
        NativeCrashManager: {
          actions: [
            "RTC_CONNECTION_STATE",
            "RTC_CONNECTION_VIDEO",
            "MEDIA_SESSION_JOINED",
          ],
          inlineRequire: () => n("352690").default,
        },
        GuestManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("129040").default,
        },
        ClipsManager: {
          actions: [
            "RTC_CONNECTION_FLAGS",
            "RTC_CONNECTION_USER_CREATE",
            "RTC_CONNECTION_STATE",
            "POST_CONNECTION_OPEN",
            "CLIPS_SETTINGS_UPDATE",
            "CLIPS_INIT_FAILURE",
            "STREAM_START",
            "RUNNING_GAME_TOGGLE_DETECTION",
            "RUNNING_GAMES_CHANGE",
            "CLIPS_RESTART",
            "RTC_CONNECTION_VIDEO",
            "MEDIA_ENGINE_SET_HARDWARE_H264",
          ],
          inlineRequire: () => n("332491").default,
        },
        BroadcastingManager: {
          actions: [
            "RUNNING_GAMES_CHANGE",
            "STREAM_CREATE",
            "STREAM_STOP",
            "START_BROADCAST_STREAM",
            "CALL_CREATE",
            "RTC_CONNECTION_STATE",
            "CHANNEL_DELETE",
            "MESSAGE_CREATE",
          ],
          inlineRequire: () => n("612541").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        CustomCallSoundsManager: {
          actions: [
            "RTC_CONNECTION_STATE",
            "SOUNDBOARD_MUTE_JOIN_SOUND",
            "VOICE_STATE_UPDATES",
          ],
          inlineRequire: () => n("202014").default,
        },
        NotificationMigrationManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("748021").default,
        },
        AnnouncementViewTrackingManager: {
          actions: ["CHANNEL_SELECT"],
          inlineRequire: () => n("596512").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        DetectableGamesManager: {
          actions: ["POST_CONNECTION_OPEN"],
          inlineRequire: () => n("597090").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        MidjourneyOnboardingManager: {
          actions: ["CHANNEL_CREATE"],
          inlineRequire: () => n("643857").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        QuestsManager: {
          actions: [
            "POST_CONNECTION_OPEN",
            "QUESTS_SEND_HEARTBEAT_SUCCESS",
            "QUESTS_ENROLL_SUCCESS",
            "RUNNING_GAMES_CHANGE",
            "STREAM_START",
            "STREAM_CLOSE",
          ],
          inlineRequire: () => n("319405").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        VoiceChannelGameActivityManager: {
          actions: ["RUNNING_GAMES_CHANGE", "VOICE_CHANNEL_SELECT"],
          inlineRequire: () => n("282655").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        InappropriateConversationsManager: {
          actions: ["VIBING_WUMPUS_PLAY_MUSIC", "VIBING_WUMPUS_STOP_MUSIC"],
          inlineRequire: () => n("874200").default,
          neverLoadBeforeConnectionOpen: !0,
        },
        ContentInventoryManager: {
          actions: ["POST_CONNECTION_OPEN", "CONNECTION_CLOSED"],
          inlineRequire: () => n("389295").default,
          neverLoadBeforeConnectionOpen: !0,
        },
      };
      (0, i.initialize)(a);
    },
    695291: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          initialize: function () {
            return s;
          },
        }),
        n("222007"),
        n("70102"),
        n("424973");
      var i = n("913144");
      let a = {},
        l = !1;
      function s(e) {
        for (let t in e) {
          let n = e[t];
          (function (e, t) {
            var n;
            t.actions;
          })(t, n),
            (function (e) {
              var t;
              let n = null !== (t = e.actions) && void 0 !== t ? t : [];
              for (let t of ((e.hasStoreChangeListeners ||
                e.loadAfterConnectionOpen) &&
                (!n.includes("POST_CONNECTION_OPEN") &&
                  (n = [...n, "POST_CONNECTION_OPEN"]),
                !n.includes("OVERLAY_INITIALIZE") &&
                  (n = [...n, "OVERLAY_INITIALIZE"])),
              e.loadRightBeforeConnectionOpen &&
                (!n.includes("CONNECTION_OPEN") &&
                  (n = [...n, "CONNECTION_OPEN"]),
                !n.includes("OVERLAY_INITIALIZE") &&
                  (n = [...n, "OVERLAY_INITIALIZE"])),
              n))
                !(t in a) && (a[t] = []), a[t].push(e);
            })(n);
        }
        i.default.addInterceptor(r);
      }
      function r(e) {
        if (
          (("CONNECTION_OPEN" === e.type || "OVERLAY_INITIALIZE" === e.type) &&
            (l = !0),
          e.type in a)
        ) {
          let t = [];
          for (let n of a[e.type])
            !l && n.neverLoadBeforeConnectionOpen
              ? t.push(n)
              : n.inlineRequire().initialize();
          t.length > 0 ? (a[e.type] = t) : delete a[e.type];
        }
        return !1;
      }
    },
    56676: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return c;
          },
        }),
        n("808653");
      var i = n("446674"),
        a = n("913144");
      let l = {},
        s = null,
        r = null;
      function o(e, t) {
        null == t ? e in l && delete l[e] : null != e && (l[e] = t);
      }
      function u(e) {
        let { user: t } = e;
        r = t.id;
      }
      class d extends i.default.PersistedStore {
        initialize(e) {
          null != e && (l = e);
        }
        requiredActions(e) {
          var t;
          return null !== (t = l[e]) && void 0 !== t ? t : null;
        }
        requiredActionsIncludes(e, t) {
          let n = this.requiredActions(e);
          return null != n && t.reduce((e, t) => e || n.includes(t), !1);
        }
        wasLoginAttemptedInSession(e) {
          return s === e;
        }
        getState() {
          return l;
        }
      }
      (d.displayName = "LoginRequiredActionStore"),
        (d.persistKey = "LoginRequiredActionStore");
      var c = new d(a.default, {
        LOGIN_ATTEMPTED: function (e) {
          let { required_actions: t, user_id: n } = e;
          o((s = n), t);
        },
        CONNECTION_OPEN: u,
        CURRENT_USER_UPDATE: u,
        LOGOUT: function (e) {
          let { isSwitchingAccount: t } = e;
          !t && null != r && o(r, null);
        },
        PASSWORD_UPDATED: function (e) {
          let { userId: t } = e;
          o(t, null);
        },
        MULTI_ACCOUNT_REMOVE_ACCOUNT: function (e) {
          let { userId: t } = e;
          o(t, null);
        },
      });
    },
    126115: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          LOGIN_REQUIRED_ACTIONS_MODAL_KEY: function () {
            return E;
          },
          default: function () {
            return _;
          },
        }),
        n("222007");
      var i = n("37983");
      n("884691");
      var a = n("77078"),
        l = n("437822"),
        s = n("689988"),
        r = n("697218"),
        o = n("599110"),
        u = n("197881"),
        d = n("56676"),
        c = n("49111"),
        f = n("843455");
      let E = "LOGIN_REQUIRED_ACTIONS_MODAL_KEY";
      class h extends s.default {
        handleConnectionOpen() {
          let e = r.default.getCurrentUser();
          if (null == e || u.ProcessArgs.isDisallowPopupsSet()) return;
          let t = d.default.requiredActionsIncludes(e.id, [
              c.LoginRequiredActions.UPDATE_PASSWORD,
            ]),
            s = d.default.wasLoginAttemptedInSession(e.id);
          s && t
            ? (0, a.openModalLazy)(
                async () => {
                  let { default: e } = await n
                    .el("969927")
                    .then(n.bind(n, "969927"));
                  return function (t) {
                    return (0, i.jsx)(e, {
                      ...t,
                      onSuccess: () => {
                        o.default.track(
                          c.AnalyticEvents.FORCED_UPDATE_PASSWORD_SUCCEEDED
                        ),
                          t.onClose();
                      },
                      onClose: () => {
                        t.onClose(), l.default.logout(c.Routes.LOGIN);
                      },
                      requirementsUpdated: !0,
                    });
                  };
                },
                { modalKey: E, onCloseRequest: f.NOOP_NULL, instant: !0 }
              )
            : t && l.default.logout(c.Routes.LOGIN);
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: this.handleConnectionOpen,
            });
        }
      }
      var _ = new h();
    },
    303217: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          fetchBlockedDomainList: function () {
            return f;
          },
        }),
        n("70102");
      var i = n("102053"),
        a = n("872717"),
        l = n("913144"),
        s = n("605250"),
        r = n("618421"),
        o = n("352266");
      let { WEBAPP_ENDPOINT: u } = window.GLOBAL_ENV,
        d = "https:".concat(u, "/bad-hash-delta"),
        c = new s.default("FetchBlockedDomain");
      function f() {
        return i.default.timeAsync("\uD83D\uDCBE", "fetchBlockedDomainList", E);
      }
      async function E() {
        c.verbose("Fetching blocked domain list");
        try {
          let e;
          let t = parseInt(
              (
                await a.default.get(
                  "https://cdn.discordapp.com/bad-domains/current_revision.txt"
                )
              ).text
            ),
            n = o.default.getCurrentRevision();
          if (
            (c.verbose(
              "Server revision: ".concat(t, ", Client revision: ").concat(n)
            ),
            null === n || n !== t)
          ) {
            try {
              if (null === n || n > t) {
                let e =
                  null === n ? "null" : "greater than server revision number";
                throw Error("Client revision number is " + e);
              }
              if (t - n > 15)
                throw Error(
                  "Client revision number is more than ".concat(
                    15,
                    " behind the server revision number"
                  )
                );
              let l = (await a.default.get({ url: d, query: { revision: n } }))
                .body;
              if (0 === l.ADDED.length && 0 === l.REMOVED.length) {
                c.verbose("No changes to blocked domains list.");
                return;
              }
              c.verbose(
                "Retrieved delta, domains added: "
                  .concat(l.ADDED.length, ", domains removed: ")
                  .concat(l.REMOVED.length)
              );
              let s = await i.default.timeAsync(
                "\uD83D\uDCBE",
                "getBlockedDomainList",
                () => o.default.getBlockedDomainList()
              );
              if (null === s) throw Error("Blocked domain list is null");
              c.verbose(
                "Blocked domains list length: ".concat(s.size, " before update")
              ),
                l.ADDED.forEach(e => {
                  if (s.has(e))
                    throw Error(
                      "Unable to add domain which is already in the blockedDomains set: ".concat(
                        e
                      )
                    );
                  s.add(e);
                }),
                l.REMOVED.forEach(e => {
                  if (!s.has(e))
                    throw Error(
                      "Unable to removed domain which is not in the blockedDomains set: ".concat(
                        e
                      )
                    );
                  s.delete(e);
                }),
                (e = Array.from(s)),
                c.verbose("Delta applied successfully");
            } catch (t) {
              if (
                (c.verbose(
                  "Unable to process domain list delta: ".concat(t.message)
                ),
                (0, r.isSlowNetwork)())
              ) {
                c.verbose("Slow network detected, not downloading full list");
                return;
              }
              c.verbose("Downloading the full bad domains file"),
                (e = (
                  await a.default.get({
                    url: "https://cdn.discordapp.com/bad-domains/updated_hashes.json",
                  })
                ).body);
            }
            c.verbose(
              "Blocked domains list length: ".concat(e.length, " after update")
            ),
              i.default.time("\uD83D\uDCBE", "Save Blocked Domain List", () =>
                l.default.dispatch({
                  type: "BLOCKED_DOMAIN_LIST_FETCHED",
                  list: e,
                  revision: t,
                })
              );
          }
        } catch (e) {
          c.error(e);
        }
      }
    },
    24966: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return d;
          },
        });
      var i = n("102053"),
        a = n("689988"),
        l = n("718517"),
        s = n("303217"),
        r = n("352266");
      let o = 4 * l.default.Millis.HOUR;
      class u extends a.default {
        _initialize() {
          setTimeout(
            () =>
              i.default.timeAsync("\uD83D\uDCBE", "getBlockedDomainList", () =>
                r.default.getBlockedDomainList()
              ),
            1e3
          ),
            setTimeout(
              () => (0, s.fetchBlockedDomainList)(),
              10 * l.default.Millis.SECOND
            ),
            (this.intervalID = setInterval(s.fetchBlockedDomainList, o));
        }
        _terminate() {
          clearInterval(this.intervalID);
        }
      }
      var d = new u();
    },
    612541: function (e, t, n) {
      "use strict";
      let i, a, l;
      n.r(t),
        n.d(t, {
          default: function () {
            return O;
          },
        }),
        n("222007");
      var s = n("450911"),
        r = n("267363"),
        o = n("990766"),
        u = n("689988"),
        d = n("374014"),
        c = n("845579"),
        f = n("271938"),
        E = n("42203"),
        h = n("546463"),
        _ = n("568307"),
        C = n("18494"),
        S = n("101125"),
        g = n("713726"),
        T = n("9759"),
        m = n("705565"),
        p = n("754493"),
        I = n("49111");
      let A = [];
      class N extends u.default {
        handleRunningGamesChange() {
          let e = _.default.getVisibleGame();
          if (null == e) return;
          let { canBroadcast: t } = T.default.getCurrentConfig(
              { location: "handle_running_games_change" },
              { autoTrackExposure: !1 }
            ),
            n = S.default.getBroadcast(),
            i = (0, g.getGameName)(e),
            a = null != h.default.getGameByName(i),
            l = (0, p.getIsBroadcastingToAnyone)();
          if (
            !t ||
            null != n ||
            !c.BroadcastAutoBroadcast.getSetting() ||
            !a ||
            !l
          )
            return;
          let s = null != A.find(t => t.pid === e.pid);
          if (s) return;
          A = _.default.getRunningGames();
          let r = (0, m.getCanStartBroadcast)();
          if (!r) return;
          let u = C.default.getVoiceChannelId();
          (0, o.createBroadcastChannelOrStartStream)({
            pid: e.pid,
            channelId: u,
          });
        }
        handleStreamCreate(e) {
          let { streamKey: t } = e;
          (0, g.startBroadcastForStream)(t, i);
        }
        handleStreamStop(e) {
          let { streamKey: t } = e;
          if (null == i) return;
          let n = (0, d.decodeStreamKey)(t),
            { ownerId: s, channelId: r } = n;
          if (null == s || null == r) return;
          let o = f.default.getId();
          if (s !== o) return;
          let u = E.default.getChannel(r),
            c = null != u && u.isBroadcastChannel();
          null != u &&
            s === u.ownerId &&
            c &&
            ((i = null), (a = null), (l = null), (0, g.stopBroadcast)());
        }
        handleStartBroadcastStream(e) {
          let { options: t } = e;
          (i = t.pid), (a = t.sourceId), (l = t.sourceName);
        }
        handleCallCreate(e) {
          let { channelId: t } = e;
          if (null == t || (null == i && null == a && null == l)) return;
          let n = f.default.getId(),
            s = E.default.getChannel(t);
          null != s &&
            n === s.ownerId &&
            s.isBroadcastChannel() &&
            (0, o.startStream)(null, t, { pid: i, sourceId: a, sourceName: l });
        }
        handleRTCConnectionState(e) {
          let { channelId: t, state: n } = e;
          if (n !== I.RTCConnectionStates.DISCONNECTED) return;
          let i = C.default.getChannelId(),
            a = E.default.getChannel(t);
          if (null == a || !a.isBroadcastChannel()) return;
          s.default.closePrivateChannel(t, i === t, !0);
          let l = S.default.getBroadcast();
          null != l && a.id === l.channelId && (0, g.stopBroadcast)();
        }
        handleChannelDelete(e) {
          let { channel: t } = e,
            n = S.default.getBroadcast();
          null != n && t.id === n.channelId && (0, g.stopBroadcast)();
        }
        handleMessageCreate(e) {
          let { channelId: t, guildId: n } = e;
          if (null != n) return;
          let i = E.default.getChannel(t);
          if (null == i || !i.isBroadcastChannel()) return;
          let a = C.default.getVoiceChannelId(),
            l = a !== i.id;
          l && (0, r.localAck)(t);
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              RUNNING_GAMES_CHANGE: this.handleRunningGamesChange,
              STREAM_CREATE: this.handleStreamCreate,
              STREAM_STOP: this.handleStreamStop,
              START_BROADCAST_STREAM: this.handleStartBroadcastStream,
              CALL_CREATE: this.handleCallCreate,
              RTC_CONNECTION_STATE: this.handleRTCConnectionState,
              CHANNEL_DELETE: this.handleChannelDelete,
              MESSAGE_CREATE: this.handleMessageCreate,
            });
        }
      }
      var O = new N();
    },
    503417: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return d;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("414456"),
        l = n.n(a),
        s = n("945330"),
        r = n("774223"),
        o = n("587974"),
        u = n("457774");
      function d(e) {
        let { width: t = 20, height: n = 20, className: a } = e;
        return (0, i.jsxs)("div", {
          className: l(u.icon, a),
          children: [
            (0, i.jsx)(o.default, {
              mask: o.default.Masks.STATUS_SCREENSHARE,
              width: t,
              height: n,
              children: (0, i.jsx)(r.default, { width: t, height: n }),
            }),
            (0, i.jsx)(s.default, { className: u.badge }),
          ],
        });
      }
    },
    728966: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return E;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("870696"),
        l = n("950104"),
        s = n("385649"),
        r = n("102985"),
        o = n("800762"),
        u = n("316133"),
        d = n("709681");
      let c = (0, d.createSoundForPack)(
        "call_calling",
        a.default.getSoundpack()
      );
      class f extends i.default {
        handleSoundpackUpdate() {
          c.stop(),
            (c = (0, d.createSoundForPack)(
              "call_calling",
              a.default.getSoundpack()
            ));
        }
        handleRingUpdate() {
          let e = l.default
              .getCalls()
              .filter(
                e =>
                  e.ringing.length > 0 &&
                  o.default.getCurrentClientVoiceChannelId(null) === e.channelId
              ),
            t = o.default.getCurrentClientVoiceChannelId(null),
            n = null != t && u.default.countVoiceStatesForChannel(t) >= 2;
          n ||
          !(e.length > 0) ||
          s.default.isSoundDisabled("call_calling") ||
          r.default.disableSounds
            ? c.stop()
            : c.loop();
        }
        constructor(...e) {
          super(...e),
            (this.stores = new Map()
              .set(l.default, this.handleRingUpdate)
              .set(s.default, this.handleRingUpdate)
              .set(r.default, this.handleRingUpdate)
              .set(o.default, this.handleRingUpdate)
              .set(a.default, this.handleSoundpackUpdate));
        }
      }
      var E = new f();
    },
    272708: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return r;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("945956"),
        l = n("191145");
      class s extends i.default {
        handleFocusParticipant() {
          let e = a.default.getChannelId();
          if (null != e) {
            var t, n;
            let i = l.default.getSelectedParticipantId(e),
              s = l.default.getVideoParticipants(e);
            null === (n = a.default.getRTCConnection()) ||
              void 0 === n ||
              n.setSelectedParticipant(
                null ===
                  (t = s.find(e => e.id === i && !e.localVideoDisabled)) ||
                  void 0 === t
                  ? void 0
                  : t.id
              );
          }
        }
        constructor(...e) {
          super(...e),
            (this.stores = new Map().set(
              l.default,
              this.handleFocusParticipant
            ));
        }
      }
      var r = new s();
    },
    234222: function (e, t, n) {
      "use strict";
      var i, a, l, s, r, o, u, d;
      n.r(t),
        n.d(t, {
          CHANGELOG_MODAL_KEY: function () {
            return c;
          },
          ChangelogPlatforms: function () {
            return i;
          },
          AssetType: function () {
            return a;
          },
          ChangelogLoadState: function () {
            return l;
          },
        });
      let c = "CHANGELOG_MODAL";
      ((r = i || (i = {}))[(r.DESKTOP = 0)] = "DESKTOP"),
        (r[(r.MOBILE = 1)] = "MOBILE"),
        ((o = a || (a = {}))[(o.YOUTUBE_VIDEO_ID = 0)] = "YOUTUBE_VIDEO_ID"),
        (o[(o.IMAGE = 1)] = "IMAGE"),
        ((u = l || (l = {}))[(u.NOT_LOADED = 0)] = "NOT_LOADED"),
        (u[(u.LOADED_SUCCESS = 1)] = "LOADED_SUCCESS"),
        (u[(u.LOADED_FAILURE = 2)] = "LOADED_FAILURE"),
        ((d = s || (s = {})).SPECIAL = "special"),
        (d.STANDARD = "standard");
    },
    228495: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        }),
        n("222007");
      var i = n("249654"),
        a = n("913144"),
        l = n("776156"),
        s = n("689988"),
        r = n("915639"),
        o = n("34966"),
        u = n("473006"),
        d = n("788434");
      class c extends s.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: e => this.handleConnectionOpen(e),
            }),
            (this.handleConnectionOpen = async e => {
              let t = await l.default.fetchChangelogConfig(),
                n = t.body,
                s = (0, u.getClientVersionForChangelog)(),
                c = (function (e, t) {
                  let n = 0,
                    i = null;
                  for (var [a, { min_version: l }] of Object.entries(e))
                    l <= t && l > n && ((n = l), (i = a));
                  return i;
                })(n, s);
              if (
                (a.default.dispatch({
                  type: "CHANGE_LOG_SET_CONFIG",
                  config: t.body,
                  latestChangelogId: c,
                }),
                null == c || !0 !== n[c].show_on_startup)
              )
                return;
              let f = o.default.lastSeenChangelogId(),
                E = o.default.lastSeenChangelogDate();
              if (null != f && 0 >= i.default.compare(c, f)) return;
              let h = await l.default.fetchChangelog(c, r.default.locale);
              if (null != h) {
                if (null == E || null == o.default.lastSeenChangelogDate()) {
                  l.default.markChangelogAsSeen(c, h.date);
                  return;
                }
                !o.default.isLocked() &&
                  new Date(h.date) > new Date(E) &&
                  (0, d.openChangelog)();
              }
            });
        }
      }
      var f = new c();
    },
    34966: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return T;
          },
        }),
        n("222007");
      var i = n("446674"),
        a = n("95410"),
        l = n("913144"),
        s = n("915639"),
        r = n("234222");
      let o = {},
        u = {},
        d = null,
        c = null,
        f = null,
        E = "lastChangeLogId",
        h = "lastChangeLogDate",
        _ = null,
        C = null,
        S = new Set();
      class g extends i.default.Store {
        initialize() {
          var e;
          this.waitFor(s.default),
            this.syncWith([s.default], () => !0),
            (_ = null !== (e = a.default.get(E)) && void 0 !== e ? e : null);
          let t = a.default.get(h);
          if (null != t)
            try {
              C = new Date(t);
            } catch {
              a.default.remove(h);
            }
        }
        getChangelog(e, t) {
          var n, i;
          return null !==
            (i = null === (n = o[e]) || void 0 === n ? void 0 : n[t]) &&
            void 0 !== i
            ? i
            : null;
        }
        latestChangelogId() {
          return d;
        }
        getChangelogLoadStatus(e, t) {
          var n, i;
          return null !==
            (i = null === (n = u[e]) || void 0 === n ? void 0 : n[t]) &&
            void 0 !== i
            ? i
            : r.ChangelogLoadState.NOT_LOADED;
        }
        hasLoadedConfig() {
          return null != f;
        }
        getConfig() {
          return f;
        }
        overrideId() {
          return c;
        }
        lastSeenChangelogId() {
          return _;
        }
        lastSeenChangelogDate() {
          return C;
        }
        getStateForDebugging() {
          return {
            changelogConfig: f,
            loadedChangelogs: u,
            lastSeenChangelogId: _,
            lastSeenChangelogDate: C,
          };
        }
        isLocked() {
          return S.size > 0;
        }
      }
      g.displayName = "ChangelogStore";
      var T = new g(l.default, {
        CHANGE_LOG_LOCK: function (e) {
          let { key: t } = e;
          if (S.has(t)) return !1;
          (S = new Set(S)).add(t);
        },
        CHANGE_LOG_UNLOCK: function (e) {
          let { key: t } = e;
          if (!S.has(t)) return !1;
          (S = new Set(S)).delete(t);
        },
        CHANGE_LOG_SET_CONFIG: function (e) {
          let { config: t, latestChangelogId: n } = e;
          (d = n), (f = t);
        },
        CHANGE_LOG_FETCH_SUCCESS: function (e) {
          let { id: t, changelog: n } = e;
          null == o[t] && (o[t] = {}),
            (o[t][n.locale] = {
              id: t,
              date: n.date,
              body: n.content,
              revision: 1,
              locale: n.locale,
              [n.asset_type === r.AssetType.YOUTUBE_VIDEO_ID
                ? "youtube_video_id"
                : "image"]: n.asset,
            }),
            null == u[t] && (u[t] = {}),
            (u[t][n.locale] = r.ChangelogLoadState.LOADED_SUCCESS);
        },
        CHANGE_LOG_FETCH_FAILED: function (e) {
          let { id: t, locale: n } = e;
          if (null != o[t] && null != o[t][n]) return !1;
          null == u[t] && (u[t] = {}),
            (u[t][n] = r.ChangelogLoadState.LOADED_FAILURE);
        },
        CHANGE_LOG_SET_OVERRIDE: function (e) {
          let { id: t } = e;
          c = t;
        },
        CHANGE_LOG_MARK_SEEN: function (e) {
          let { changelogId: t, changelogDate: n } = e;
          (_ = null != t ? t : null),
            (C = new Date(n)),
            a.default.set(E, t),
            a.default.set(h, n);
        },
      });
    },
    473006: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          getClientVersionForChangelog: function () {
            return a;
          },
        });
      var i = n("286235");
      function a() {
        var e;
        let t = parseInt(((e = "267478"), "267478"));
        return (
          Number.isNaN(t) &&
            (i.default.captureMessage(
              "Trying to open a changelog for an invalid build number ".concat(
                "267478"
              )
            ),
            (t = 0)),
          t
        );
      }
    },
    990629: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return E;
          },
        }),
        n("222007");
      var i = n("913144"),
        a = n("987317"),
        l = n("689988"),
        s = n("393414"),
        r = n("239380"),
        o = n("42887"),
        u = n("18494"),
        d = n("162771"),
        c = n("49111");
      class f extends l.default {
        handleGuildCreate(e) {
          let { guild: t } = e,
            n = u.default.getChannelId(c.ME),
            i = u.default.getVoiceChannelId();
          t.id === n && (0, r.transitionToGuild)(t.id);
          let l = t.id === i;
          l &&
            !1 !== t.unavailable &&
            null == i &&
            a.default.selectVoiceChannel((0, u.findFirstVoiceChannelId)(t.id));
        }
        handleChannelCreate(e) {
          let { channel: t } = e;
          if (t.type !== c.ChannelTypes.GROUP_DM) return;
          let n = t.originChannelId,
            i = u.default.getChannelId(c.NULL_STRING_GUILD_ID);
          null == d.default.getGuildId() &&
            null != n &&
            n === i &&
            (0, s.transitionTo)(c.Routes.CHANNEL(c.ME, t.id)),
            null != n &&
              n === u.default.getVoiceChannelId() &&
              a.default.selectVoiceChannel(t.id, o.default.isVideoEnabled());
        }
        handleLogout() {
          i.default.dispatch({
            type: "VOICE_CHANNEL_SELECT",
            channelId: null,
            guildId: null,
            video: !1,
            currentVoiceChannelId: null,
          });
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              GUILD_CREATE: this.handleGuildCreate,
              CHANNEL_CREATE: this.handleChannelCreate,
              LOGOUT: this.handleLogout,
            });
        }
      }
      var E = new f();
    },
    111276: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("305961"),
        l = n("718517"),
        s = n("299039"),
        r = n("388142"),
        o = n("711454"),
        u = n("578899");
      let d = 0;
      class c extends i.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: e => this.handleConnectionOpen(e),
              IDLE: () => this.handleIdleChange(),
            }),
            (this.handleConnectionOpen = e => {
              this._attemptDeadchatPrompt(),
                this._triggerGamingStatsSetupExperiment();
            }),
            (this.handleIdleChange = () => {
              Date.now() - d > l.default.Millis.HOUR &&
                this._attemptDeadchatPrompt();
            }),
            (this._attemptDeadchatPrompt = () => {
              let e = a.default.getGuilds(),
                t = s.default
                  .keys(e)
                  .filter(
                    e =>
                      u.SimpleDeadchatPromptExperiment.getCurrentConfig({
                        guildId: e,
                        location: "manager",
                      }).triggerDeadchat
                  );
              t.length > 0 &&
                ((d = Date.now()), (0, r.initiateChannelPrompts)(t));
            }),
            (this._triggerGamingStatsSetupExperiment = () => {
              let e = a.default.getGuilds();
              s.default.keys(e).forEach(e => {
                o.GamingStatsSetupExperiment.trackExposure({
                  guildId: e,
                  location: "manager",
                });
              });
            });
        }
      }
      var f = new c();
    },
    711454: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          GamingStatsSetupExperiment: function () {
            return a;
          },
        });
      var i = n("862205");
      let a = (0, i.createExperiment)({
        kind: "guild",
        id: "2023-09_gaming_stats_setup",
        label: "Gaming stats exposure setup",
        defaultConfig: { trackGamingStats: !1 },
        treatments: [
          {
            id: 1,
            label: "trigger gaming stats data",
            config: { trackGamingStats: !0 },
          },
        ],
      });
    },
    262194: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return G;
          },
        }),
        n("222007"),
        n("794252");
      var i = n("37983"),
        a = n("884691"),
        l = n("414456"),
        s = n.n(l),
        r = n("506838"),
        o = n("446674"),
        u = n("151426"),
        d = n("77078"),
        c = n("452804"),
        f = n("79112"),
        E = n("206625"),
        h = n("206230"),
        _ = n("812204"),
        C = n("685665"),
        S = n("917247"),
        g = n("635956"),
        T = n("891653"),
        m = n("697218"),
        p = n("381546"),
        I = n("599110"),
        A = n("719923"),
        N = n("32531"),
        O = n("714657"),
        v = n("770867"),
        R = n("648114"),
        M = n("49111"),
        L = n("994428"),
        y = n("646718"),
        D = n("782340"),
        P = n("537167");
      let w = () =>
          (0, i.jsx)("div", {
            className: P.editorHeader,
            children: (0, i.jsxs)("div", {
              className: P.bannerUpsell,
              children: [
                (0, i.jsx)(T.default, { className: P.premiumIcon }),
                (0, i.jsx)(d.Heading, {
                  variant: "heading-md/bold",
                  color: "always-white",
                  children:
                    D.default.Messages.CLIENT_THEMES_EDITOR_UPSELL_HEADER,
                }),
              ],
            }),
          }),
        U = e => {
          let { markAsDismissed: t } = e,
            n = (0, v.useTrackClientThemePreviewEvent)();
          return (0, i.jsxs)("div", {
            className: P.editorHeader,
            children: [
              (0, i.jsx)(d.Clickable, {
                className: P.closeCircleButton,
                onClick: () => {
                  null != t && t(L.ContentDismissActionType.DISMISS),
                    n(M.AnalyticEvents.CLIENT_THEME_PREVIEW_CLOSED),
                    (0, N.closeEditor)();
                },
                children: (0, i.jsx)(p.default, { className: P.closeCircle }),
              }),
              (0, i.jsx)(d.Heading, {
                variant: "heading-lg/extrabold",
                children: D.default.Messages.CLIENT_THEMES_EDITOR_HEADER,
              }),
            ],
          });
        },
        b = e => {
          var t, n, a;
          let { onSubscribeSuccess: l, markAsDismissed: s } = e,
            { analyticsLocations: r } = (0, C.default)(
              _.default.CLIENT_THEMES_EDITOR
            ),
            [f, E] = (0, o.useStateFromStoresArray)(
              [m.default, O.default],
              () => [
                O.default.gradientPreset,
                A.default.isPremium(m.default.getCurrentUser()),
              ]
            ),
            h = (0, S.usePremiumTrialOffer)(),
            T = (0, A.formatTrialCtaIntervalDuration)({
              intervalType:
                null == h
                  ? void 0
                  : null === (t = h.subscription_trial) || void 0 === t
                    ? void 0
                    : t.interval,
              intervalCount:
                null == h
                  ? void 0
                  : null === (n = h.subscription_trial) || void 0 === n
                    ? void 0
                    : n.interval_count,
            });
          return (0, i.jsx)(g.default, {
            size: d.Button.Sizes.MEDIUM,
            buttonText: E
              ? D.default.Messages.BILLING_SWITCH_PLAN_UPGRADE
              : (null == h
                    ? void 0
                    : null === (a = h.subscription_trial) || void 0 === a
                      ? void 0
                      : a.sku_id) === y.PremiumSubscriptionSKUs.TIER_2
                ? T
                : D.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL,
            subscriptionTier: y.PremiumSubscriptionSKUs.TIER_2,
            onSubscribeModalClose: e => {
              if (!!e)
                null == l || l(),
                  null != s && s(L.ContentDismissActionType.PRIMARY),
                  null != f &&
                    ((0, R.trackClientThemeUpdated)({
                      isPersisted: !0,
                      themeName: u.BackgroundGradientPresetId[f.id],
                      analyticsLocations: r,
                    }),
                    (0, c.saveClientTheme)({
                      backgroundGradientPresetId: f.id,
                      theme: f.theme,
                    }));
            },
          });
        },
        F = e => {
          let { markAsDismissed: t } = e,
            { isPreview: n, isCoachmark: l } = (0, o.useStateFromStoresObject)(
              [O.default],
              () => ({
                isPreview: O.default.isPreview,
                isCoachmark: O.default.isCoachmark,
              })
            ),
            [s, u] = a.useState(!1),
            c = (0, v.useTrackClientThemePreviewEvent)(),
            E = (0, r.match)({
              isPreview: n,
              isCoachmark: l,
              forceShowCloseButton: s,
            })
              .with(
                { isCoachmark: !0 },
                { forceShowCloseButton: !0 },
                () => D.default.Messages.CLOSE
              )
              .with(
                { isPreview: !0 },
                () => D.default.Messages.CLIENT_THEMES_EDITOR_EXIT_PREVIEW
              )
              .otherwise(
                () => D.default.Messages.CLIENT_THEMES_EDITOR_RETURN_TO_SETTINGS
              );
          return (0, i.jsxs)("div", {
            className: P.editorFooter,
            children: [
              n &&
                (0, i.jsx)(b, {
                  onSubscribeSuccess: () => {
                    u(!0);
                  },
                  markAsDismissed: t,
                }),
              (0, i.jsx)(d.Button, {
                className: P.footerButton,
                onClick: () => {
                  null != t && t(L.ContentDismissActionType.DISMISS),
                    c(M.AnalyticEvents.CLIENT_THEME_PREVIEW_CLOSED),
                    (0, N.closeEditor)(),
                    !l && f.default.open();
                },
                color: d.Button.Colors.PRIMARY,
                size: d.Button.Sizes.MEDIUM,
                children: E,
              }),
            ],
          });
        };
      function G(e) {
        let { markAsDismissed: t } = e,
          { analyticsLocations: n, AnalyticsLocationProvider: l } = (0,
          C.default)(_.default.CLIENT_THEMES_EDITOR),
          {
            isPreview: r,
            isCoachmark: u,
            isEditorOpen: c,
            shouldEditorAnimate: f,
          } = (0, o.useStateFromStoresObject)([O.default, h.default], () => ({
            isPreview: O.default.isPreview,
            isCoachmark: O.default.isCoachmark,
            isEditorOpen: O.default.isEditorOpen,
            shouldEditorAnimate:
              O.default.isCoachmark && !h.default.useReducedMotion,
          })),
          S = (0, v.useTrackClientThemePreviewEvent)();
        a.useEffect(() => S(M.AnalyticEvents.CLIENT_THEME_PREVIEW_VIEWED), [S]),
          a.useEffect(() => {
            r &&
              I.default.track(M.AnalyticEvents.PREMIUM_UPSELL_VIEWED, {
                type: y.PremiumUpsellTypes.PREMIUM_CLIENT_THEME_TRY_IT_OUT,
                location_stack: n,
              });
          }, [r, n]);
        let g = (0, v.useResetClientThemePreview)(),
          T = (0, E.default)(null, r ? g : M.NOOP);
        return (
          a.useEffect(() => {
            if (r && !c) return g;
          }, [r, c, g]),
          (0, i.jsx)(l, {
            children: (0, i.jsx)("div", {
              ref: T,
              className: s(P.themeEditor, f ? P.editorAnimate : null),
              children: (0, i.jsxs)(d.HeadingLevel, {
                children: [
                  u ? (0, i.jsx)(w, {}) : (0, i.jsx)(U, { markAsDismissed: t }),
                  (0, i.jsx)(d.Scroller, {
                    className: P.editorBody,
                    children: (0, i.jsxs)(R.default, {
                      type: R.ThemeSelectionGroupType.EDITOR,
                      children: [
                        !r &&
                          (0, i.jsx)(R.default.Basic, {
                            className: P.selectionGroup,
                          }),
                        (0, i.jsx)(R.default.Gradient, {
                          className: P.selectionGroup,
                        }),
                      ],
                    }),
                  }),
                  (0, i.jsx)(F, { markAsDismissed: t }),
                ],
              }),
            }),
          })
        );
      }
    },
    770867: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          useResetClientThemePreview: function () {
            return _;
          },
          useTrackClientThemePreviewEvent: function () {
            return C;
          },
        }),
        n("222007");
      var i = n("884691"),
        a = n("446674"),
        l = n("151426"),
        s = n("505093"),
        r = n("168973"),
        o = n("374363"),
        u = n("599110"),
        d = n("32531"),
        c = n("714657"),
        f = n("49111"),
        E = n("646718"),
        h = n("116319");
      let _ = () => {
          let e = (0, a.useStateFromStores)(
              [c.default],
              () => c.default.gradientPreset
            ),
            t = (0, a.useStateFromStores)(
              [r.default],
              () => r.default.useSystemTheme === h.SystemThemeState.ON
            ),
            [n, l] = (0, i.useState)(t);
          return (
            (0, i.useEffect)(() => {
              null == e && l(t);
            }, [e, t]),
            (0, i.useCallback)(() => {
              if (null != e)
                (0, d.resetPreviewClientTheme)(),
                  n && (0, s.setUseSystemTheme)(h.SystemThemeState.ON);
            }, [e, n])
          );
        },
        C = () => {
          let { previewPaneVariant: e } = (0, a.useStateFromStoresObject)(
              [c.default],
              () => ({
                previewPaneVariant: c.default.isPreview
                  ? E.AnalyticsPremiumFeatureTiers.FREE
                  : E.AnalyticsPremiumFeatureTiers.PREMIUM_STANDARD,
              })
            ),
            t = (0, a.useStateFromStores)([o.default], () => {
              var e;
              let t =
                null === (e = o.default.settings.appearance) || void 0 === e
                  ? void 0
                  : e.theme;
              return "default ".concat(
                t === l.Theme.LIGHT ? f.ThemeTypes.LIGHT : f.ThemeTypes.DARK
              );
            });
          return (0, i.useCallback)(
            n => {
              u.default.track(n, {
                preview_pane_variant: e,
                original_theme: t,
              });
            },
            [e, t]
          );
        };
    },
    111177: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return i;
          },
        }),
        n("222007");
      var i,
        a = n("773364"),
        l = n("913144"),
        s = n("689988"),
        r = n("49671"),
        o = n("374014"),
        u = n("103979"),
        d = n("271938"),
        c = n("42887"),
        f = n("945956"),
        E = n("205817"),
        h = n("599110"),
        _ = n("773336"),
        C = n("56947"),
        S = n("386045"),
        g = n("30591"),
        T = n("18346"),
        m = n("80028"),
        p = n("49111"),
        I = n("706530");
      i = class extends s.default {
        handleRTCConnectionState(e) {
          let { context: t, state: n, streamKey: i } = e;
          if (
            !(0, C.areClipsEnabled)() ||
            n !== p.RTCConnectionStates.RTC_CONNECTED
          )
            return;
          let l = d.default.getId();
          if (t === a.MediaEngineContextTypes.DEFAULT)
            return this.applyUserVoiceRecording(l);
          if (t === a.MediaEngineContextTypes.STREAM && null != i) {
            let { ownerId: e } = (0, o.decodeStreamKey)(i);
            if (e !== l) return;
            let t = E.default.getRTCConnection(i);
            if (null == t) return;
            this.applyStreamRecording(l, t);
          }
        }
        handleRTCUserCreate(e) {
          let { userId: t, context: n } = e;
          n === a.MediaEngineContextTypes.DEFAULT &&
            this.applyUserVoiceRecording(t);
        }
        handleRTCConnectionFlags(e) {
          let { userId: t, channelId: n, guildId: i } = e;
          this.maybeShowClipsWarning(t), this.applyUserVoiceRecording(t);
          let a = E.default.getRTCConnection(
            o.encodeStreamKey({
              streamType: null != i ? I.StreamTypes.GUILD : I.StreamTypes.CALL,
              ownerId: t,
              channelId: n,
              guildId: i,
            })
          );
          null != a && this.applyStreamRecording(t, a);
        }
        handleClipsInitFailure(e) {
          let { applicationName: t, errMsg: n } = e;
          h.default.track(p.AnalyticEvents.CLIPS_INIT_FAILURE, {
            application_name: t,
            error_message: n,
          });
        }
        maybeShowClipsWarning(e) {
          let t = f.default.getChannelId();
          if (
            !(null == t || S.default.getClipsWarningShown(t)) &&
            e !== d.default.getId()
          )
            S.default.isClipsEnabledForUser(e) &&
              (l.default.dispatch({
                type: "CLIPS_SHOW_CALL_WARNING",
                channelId: t,
              }),
              this.showClipsToast());
        }
        handlePostConnectionOpen() {
          if (!(0, T.default)(c.default)) return;
          this.applyNativeClipsSettings();
          let e = (0, C.areClipsEnabled)();
          if (!e) {
            let e = S.default.getSettings();
            e.clipsEnabled && this.disableClips();
            return;
          }
          (null == S.default.getHardwareClassification() ||
            null == S.default.getHardwareClassificationForDecoupled() ||
            S.default.getHardwareClassificationVersion() !==
              m.CLIPS_HARDWARE_CLASSIFICATION_VERSION) &&
            this.classifyHardwareAndTrack().then(e => {
              l.default.dispatch({
                type: "CLIPS_CLASSIFY_HARDWARE",
                classification: e,
              });
            });
        }
        handleRTCConnectionVideo(e) {
          let { userId: t, context: n, channelId: i, guildId: l } = e;
          if (
            n !== a.MediaEngineContextTypes.STREAM ||
            !(0, T.default)(c.default)
          )
            return;
          let s = E.default.getRTCConnection(
            o.encodeStreamKey({
              streamType: null != l ? I.StreamTypes.GUILD : I.StreamTypes.CALL,
              ownerId: t,
              channelId: i,
              guildId: l,
            })
          );
          null != s && this.applyStreamRecording(t, s);
        }
        async classifyHardwareAndTrack() {
          try {
            let e = await r.default.processUtils.getSystemInfo(),
              t = this.classifyHardware(e);
            return (
              h.default.track(p.AnalyticEvents.CLIPS_HARDWARE_CLASSIFICATION, {
                classification: t,
                version: m.CLIPS_HARDWARE_CLASSIFICATION_VERSION,
                gpu_models: e.gpus.map(e => {
                  let { model: t } = e;
                  return t;
                }),
              }),
              t
            );
          } catch (e) {
            return g.ClipsHardwareClassification.UNKNOWN;
          }
        }
        classifyHardware(e) {
          if ((0, _.isWindows)()) {
            let t = e.gpus.some(e => {
                let { model: t } = e;
                return m.WINDOWS_HARDWARE_AUTO_ENABLE_GPU_REGEX.test(t);
              }),
              n = e.gpus.some(e => {
                let { model: t } = e;
                return m.WINDOWS_HARDWARE_MINIMUM_GPU_REGEX.test(t);
              });
            return t
              ? g.ClipsHardwareClassification.MEETS_AUTO_ENABLE
              : n
                ? g.ClipsHardwareClassification.MEETS_MINIMUM
                : g.ClipsHardwareClassification.BELOW_MINIMUM;
          }
          if ((0, _.isMac)()) {
            let t = e.gpus.some(e => {
              let { model: t } = e;
              return m.OSX_HARDWARE_AUTO_ENABLE_GPU_REGEX.test(t);
            });
            return t
              ? g.ClipsHardwareClassification.MEETS_AUTO_ENABLE
              : g.ClipsHardwareClassification.MEETS_MINIMUM;
          }
          return g.ClipsHardwareClassification.UNKNOWN;
        }
        applyUserVoiceRecording(e) {
          if (!(0, T.default)(c.default)) return;
          let t = f.default.getRTCConnection();
          if (null == t) return;
          if (e === d.default.getId()) {
            t.setClipRecordUser(
              e,
              "audio",
              S.default.getSettings().clipsEnabled
            );
            return;
          }
          let n = S.default.isVoiceRecordingAllowedForUser(e);
          t.setClipRecordUser(e, "audio", n);
        }
        applyStreamRecording(e, t) {
          if (!(0, T.default)(c.default)) return;
          if (d.default.getId() === e) {
            let { clipsEnabled: n } = S.default.getSettings(),
              i = (0, C.areClipsEnabled)();
            t.setClipRecordUser(e, "audio", i && n),
              t.setClipRecordUser(e, "video", i && n);
            return;
          }
          let { enableViewerClipping: n, ignoreSenderPreference: i } =
            u.default.getCurrentConfig({
              location: "ClipsManager:applyStreamRecording",
            });
          if (!n) return;
          let a = i || S.default.isViewerClippingAllowedForUser(e);
          this.applyNativeClipsSettings(),
            t.setClipRecordUser(e, "audio", a),
            t.setClipRecordUser(e, "video", a);
        }
        disableClips() {}
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: e => this.handlePostConnectionOpen(),
              RTC_CONNECTION_FLAGS: e => this.handleRTCConnectionFlags(e),
              RTC_CONNECTION_USER_CREATE: e => this.handleRTCUserCreate(e),
              CLIPS_INIT_FAILURE: e => this.handleClipsInitFailure(e),
              CLIPS_SETTINGS_UPDATE: e => this.applyNativeClipsSettings(e),
              STREAM_START: () => this.applyNativeClipsSettings(),
              RUNNING_GAME_TOGGLE_DETECTION: e =>
                this.handleClipsInitOnToggleDetection(e),
              RUNNING_GAMES_CHANGE: e => this.handleClipsInitOnGamesChange(e),
              CLIPS_RESTART: () => this.fireClipsInitEvent(),
              RTC_CONNECTION_VIDEO: e => this.handleRTCConnectionVideo(e),
              RTC_CONNECTION_STATE: e => this.handleRTCConnectionState(e),
              MEDIA_ENGINE_SET_HARDWARE_H264: e =>
                this.handleMediaEngineSetHardwareH264(e),
            });
        }
      };
    },
    332491: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return C;
          },
        });
      var i = n("77078"),
        a = n("913144"),
        l = n("373469"),
        s = n("42887"),
        r = n("568307"),
        o = n("56947"),
        u = n("111177"),
        d = n("386045"),
        c = n("18346"),
        f = n("803725"),
        E = n("80028"),
        h = n("782340");
      class _ extends u.default {
        showClipsToast() {
          (0, i.showToast)({
            id: "CLIPS_IN_CALL_WARNING",
            message: h.default.Messages.CLIPS_IN_CALL_WARNING,
            type: i.ToastType.CLIP,
            options: { duration: E.CLIPS_TOAST_DURATION },
          });
        }
        applyNativeClipsSettings(e) {
          if (!(0, c.default)(s.default)) return;
          let t = (0, o.areClipsEnabled)(),
            n = d.default.getSettings(),
            i = (n.clipsEnabled || n.decoupledClipsEnabled) && t,
            a = s.default.getMediaEngine();
          if (
            (a.setClipBufferLength(i ? n.clipsLength / 1e3 : 0),
            (null == e ? void 0 : e.settings.decoupledClipsEnabled) === !0 &&
              this.fireClipsInitEvent(),
            null == e || (null == e ? void 0 : e.settings.clipsQuality) != null)
          ) {
            let { frameRate: t, resolution: i } = n.clipsQuality;
            !a.setClipsQualitySettings(
              i <= 480 ? (i / 3) * 4 : (i / 9) * 16,
              i,
              t
            ) &&
              null != e &&
              this.fireClipsInitEvent();
          }
        }
        handleClipsInitOnToggleDetection(e) {
          let t = r.default.getVisibleGame();
          null != t && t.id === e.game.id && this.fireClipsInitEvent();
        }
        handleClipsInitOnGamesChange(e) {
          let t = r.default.getVisibleGame();
          if (null == t) return;
          let n = !!e.added.find(e => e.pid === t.pid);
          n
            ? setTimeout(
                () => this.fireClipsInitEvent(),
                E.CLIPS_RUNNING_GAME_CHANGE_CLIPS_INIT_DELAY
              )
            : this.fireClipsInitEvent();
        }
        fireClipsInitEvent() {
          if (!(0, c.default)(s.default)) return;
          let e = (0, o.areClipsEnabled)(),
            t = d.default.getSettings(),
            n = t.clipsEnabled && e;
          if (!n || null != l.default.getCurrentUserActiveStream()) return;
          let i = r.default.getVisibleGame();
          (null == i ? void 0 : i.pid) != null &&
            (null == i ? void 0 : i.windowHandle) != null &&
            null != i.name &&
            "" !== i.name &&
            a.default.dispatch({
              type: "CLIPS_INIT",
              sourceId: "window:".concat(null == i ? void 0 : i.windowHandle),
              applicationName: i.name,
              quality: t.clipsQuality,
            });
        }
        handleMediaEngineSetHardwareH264(e) {
          let { enabled: t } = e;
          if (!t) {
            let { clipsEnabled: e } = d.default.getSettings();
            e && f.updateClipsEnabled({ clipsEnabled: !1 });
          }
        }
        disableClips() {
          f.updateClipsEnabled({ clipsEnabled: !1, trackAnalytics: !1 });
        }
      }
      var C = new _();
    },
    149681: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        }),
        n("222007"),
        n("70102"),
        n("913144");
      var i = n("689988");
      n("721698");
      var a = n("560208"),
        l = n("883069"),
        s = n("569808");
      n("487946"), n("337543");
      var r = n("139514"),
        o = n("312016");
      let u = new Set();
      function d(e) {
        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        if (t && !u.has(e.channel_id)) return;
        let n = (0, o.default)(e.content);
        null != n &&
          0 !== n.length &&
          n.forEach(e => {
            let { type: t, code: n } = e;
            if (t === r.CodedLinkType.INVITE);
            else if (t === r.CodedLinkType.TEMPLATE)
              null == s.default.getGuildTemplate(n) &&
                l.default.resolveGuildTemplate(n);
            else if (
              t === r.CodedLinkType.BUILD_OVERRIDE ||
              t === r.CodedLinkType.MANUAL_BUILD_OVERRIDE
            );
            else if (t === r.CodedLinkType.EVENT);
            else if (t === r.CodedLinkType.CHANNEL_LINK);
            else if (t === r.CodedLinkType.APP_DIRECTORY_PROFILE);
            else if (t === r.CodedLinkType.ACTIVITY_BOOKMARK);
            else if (t === r.CodedLinkType.EMBEDDED_ACTIVITY_INVITE);
            else if (t === r.CodedLinkType.GUILD_PRODUCT);
            else if (t === r.CodedLinkType.SERVER_SHOP);
            else if (t === r.CodedLinkType.CLYDE_PROFILE);
            else if (t === r.CodedLinkType.QUESTS_EMBED);
            else throw Error("Unknown coded link type: ".concat(t));
          });
      }
      class c extends i.default {
        handleConnectionOpen() {
          u.clear();
        }
        handleChannelSelect(e) {
          let { channelId: t } = e;
          null != t && u.add(t);
        }
        handleMessage(e) {
          let { message: t } = e;
          return d(t, !0);
        }
        handleLoadMessages(e) {
          let { channelId: t, messages: n } = e;
          u.add(t), n.forEach(e => d(e, !0));
        }
        handleLoadRecentMentions(e) {
          let { messages: t } = e;
          t.forEach(e => d(e));
        }
        handleLoadPinnedMessages(e) {
          let { messages: t } = e;
          t.forEach(e => d(e));
        }
        handleSearchFinish(e) {
          e.messages.forEach(e => {
            e.forEach(e => d(e));
          });
        }
        handleGuildFeedFetchSuccess(e) {
          let { data: t } = e;
          (0, a.getMessagesFromGuildFeedFetch)(t).forEach(e => d(e));
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: this.handleConnectionOpen,
              MESSAGE_CREATE: {
                callback: this.handleMessage,
                autoSubscribe: !1,
              },
              MESSAGE_UPDATE: this.handleMessage,
              LOAD_MESSAGES_SUCCESS: this.handleLoadMessages,
              LOAD_MESSAGES_AROUND_SUCCESS: this.handleLoadMessages,
              LOAD_RECENT_MENTIONS_SUCCESS: this.handleLoadRecentMentions,
              LOAD_PINNED_MESSAGES_SUCCESS: this.handleLoadPinnedMessages,
              SEARCH_FINISH: this.handleSearchFinish,
              MOD_VIEW_SEARCH_FINISH: this.handleSearchFinish,
              GUILD_FEED_FETCH_SUCCESS: this.handleGuildFeedFetchSuccess,
              CHANNEL_SELECT: {
                callback: this.handleChannelSelect,
                autoSubscribe: !1,
              },
            });
        }
      }
      var f = new c();
    },
    36773: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          CommonConfettiCannonContextProvider: function () {
            return u;
          },
        }),
        n("222007");
      var i = n("37983"),
        a = n("884691"),
        l = n("516555"),
        s = n("526887"),
        r = n("172858"),
        o = n("879342");
      function u(e) {
        let { children: t } = e,
          [n, u] = a.useState(null),
          [d, c] = a.useState(null),
          f = a.useRef(new Set()),
          [E, h] = a.useState(!1),
          _ = a.useCallback(e => {
            f.current.delete(e), h(f.current.size > 0);
          }, []),
          C = a.useCallback(e => (f.current.add(e), h(!0), () => _(e)), [_]),
          S = a.useCallback((e, t) => {
            for (let n of f.current) n(e, t);
          }, []);
        return (0, i.jsxs)(i.Fragment, {
          children: [
            (0, i.jsx)(s.ConfettiCannonContextProvider, {
              confettiCanvas: d,
              spriteCanvas: n,
              baseConfig: r.COMMON_CONFETTI_BASE_CONFIG,
              addClickListener: C,
              removeClickListener: _,
              children: t,
            }),
            (0, i.jsx)(l.ConfettiCanvas, {
              ref: c,
              className: o.canvas,
              environment: r.COMMON_CONFETTI_ENVIRONMENT,
              onClick: E ? S : void 0,
            }),
            (0, i.jsx)(l.SpriteCanvas, {
              ref: u,
              colors: r.COMMON_CONFETTI_COLORS,
              sprites: r.COMMON_CONFETTI_SPRITES,
              spriteWidth: r.COMMON_CONFETTI_MAX_SPRITE_SIZE,
              spriteHeight: r.COMMON_CONFETTI_MAX_SPRITE_SIZE,
            }),
          ],
        });
      }
    },
    709377: function (e, t, n) {
      "use strict";
      var i;
      n.r(t),
        n.d(t, {
          ContentInventoryFeedKey: function () {
            return i;
          },
        }),
        ((i || (i = {})).GLOBAL_FEED = "global feed");
    },
    1405: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          isEligibleForContentInventoryV1: function () {
            return l;
          },
        });
      var i = n("862205");
      let a = (0, i.createExperiment)({
        kind: "user",
        id: "2024-02_v1_content_inventory_feed",
        label: "V1 Feed of the content inventory",
        defaultConfig: { enabled: !1 },
        treatments: [{ id: 1, label: "Show feed", config: { enabled: !0 } }],
      });
      function l(e) {
        let { enabled: t } = a.getCurrentConfig(
          { location: e },
          { autoTrackExposure: !0 }
        );
        return t;
      }
    },
    68720: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          getMyContentInventory: function () {
            return s;
          },
        });
      var i = n("872717"),
        a = n("448993"),
        l = n("49111");
      let s = async () => {
        try {
          let e = await i.default.get({
            url: l.Endpoints.MY_CONTENT_INVENTORY,
          });
          return e.body;
        } catch (e) {
          throw new a.APIError(e);
        }
      };
    },
    389295: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return T;
          },
        }),
        n("222007");
      var i = n("913144"),
        a = n("689988"),
        l = n("1405"),
        s = n("68720"),
        r = n("265596"),
        o = n("709377");
      let u = o.ContentInventoryFeedKey.GLOBAL_FEED,
        d = null,
        c = !1,
        f = 0;
      function E() {
        C();
      }
      function h() {
        _();
      }
      function _() {
        clearTimeout(d), (d = null);
      }
      function C() {
        if (
          (_(),
          !(0, l.isEligibleForContentInventoryV1)("ContentInventoryManager") ||
            c)
        )
          return;
        let e = r.default.getFeed(u),
          t = null == e ? void 0 : e.expired_at,
          n = null == t ? 0 : new Date(t).getTime() - Date.now();
        d = setTimeout(() => S(), n);
      }
      async function S() {
        if (!c)
          try {
            c = !0;
            let e = await (0, s.getMyContentInventory)();
            i.default.dispatch({
              type: "CONTENT_INVENTORY_SET_FEED",
              feedId: u,
              feed: e,
            }),
              (f = 0),
              (c = !1),
              C();
          } catch (e) {
            if (f < 3) {
              let e = 1e3 * Math.pow(5, f);
              (d = setTimeout(() => S(), e)), (f += 1);
            }
            c = !1;
          }
      }
      class g extends a.default {
        constructor(...e) {
          super(...e),
            (this.actions = { POST_CONNECTION_OPEN: E, CONNECTION_CLOSED: h });
        }
      }
      var T = new g();
    },
    265596: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return r;
          },
        }),
        n("222007");
      var i = n("446674"),
        a = n("913144");
      let l = new Map();
      class s extends i.default.Store {
        getFeed(e) {
          return l.get(e);
        }
      }
      s.displayName = "ContentInventoryStore";
      var r = new s(a.default, {
        CONNECTION_OPEN: function () {
          l.clear();
        },
        CONTENT_INVENTORY_SET_FEED: function (e) {
          let { feedId: t, feed: n } = e;
          l.set(t, n);
        },
      });
    },
    302537: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return v;
          },
        }),
        n("222007");
      var i = n("37983"),
        a = n("884691"),
        l = n("414456"),
        s = n.n(l),
        r = n("703809"),
        o = n("90915"),
        u = n("394846"),
        d = n("446674"),
        c = n("825573"),
        f = n("77078"),
        E = n("206230"),
        h = n("338733"),
        _ = n("584369"),
        C = n("915639"),
        S = n("161778"),
        g = n("471671"),
        T = n("439932"),
        m = n("779601"),
        p = n("69927"),
        I = n("983689"),
        A = n("628922"),
        N = n("49111");
      n("597323");
      let O = new Set([N.Routes.LOGIN, N.Routes.REGISTER]);
      var v = a.memo(function (e) {
        let { children: t, skipsSettingDefaultPageTitle: l } = e;
        (0, p.usePageTitleManager)({ skipsSettingDefaultPageTitle: l });
        let { clientThemesClassName: N, clientThemesCSS: v } = (0, h.default)(),
          R = a.createElement(
            "style",
            { [h.CLIENT_THEMES_DATA_ATTRIBUTE]: !0 },
            v
          );
        return (0, i.jsxs)(r.Helmet, {
          children: [
            (function (e) {
              let { locale: t, theme: n } = (0, d.useStateFromStoresObject)(
                  [S.default, C.default],
                  () => ({ locale: C.default.locale, theme: S.default.theme })
                ),
                l = (0, d.useStateFromStores)(
                  [g.default],
                  () => g.default.isFocused(),
                  []
                ),
                { reducedMotion: r, alwaysShowLinkDecorations: c } =
                  a.useContext(f.AccessibilityPreferencesContext),
                {
                  fontScale: h,
                  fontScaleClass: p,
                  keyboardModeEnabled: N,
                  saturation: v,
                  desaturateUserColors: R,
                  useForcedColors: M,
                  systemForcedColors: L,
                } = (0, d.useStateFromStoresObject)([E.default], () => {
                  let {
                    fontScale: e,
                    fontScaleClass: t,
                    keyboardModeEnabled: n,
                    saturation: i,
                    desaturateUserColors: a,
                    useForcedColors: l,
                    systemForcedColors: s,
                  } = E.default;
                  return {
                    fontScale: e,
                    fontScaleClass: t,
                    keyboardModeEnabled: n,
                    saturation: i,
                    desaturateUserColors: a,
                    useForcedColors: l,
                    systemForcedColors: s,
                  };
                }),
                y = (0, o.useLocation)(),
                D = a.useMemo(() => O.has(y.pathname), [y.pathname]);
              (0, I.default)(window, D);
              let P = (0, A.default)(window, __OVERLAY__ || l),
                w = (0, d.useStateFromStores)(
                  [_.default],
                  () => _.default.sidebarWidth
                ),
                U = (0, f.useRedesignIconContext)().enabled;
              return (0, i.jsx)("html", {
                lang: t,
                style: "font-size: "
                  .concat(h, "%; --saturation-factor: ")
                  .concat(v, "; --devtools-sidebar-width: ")
                  .concat(w, "px;"),
                className: s(
                  e,
                  {
                    overlay: __OVERLAY__,
                    "mouse-mode": P,
                    "keyboard-mode": N,
                    "reduce-motion": r.enabled,
                    "full-motion": !r.enabled,
                    "is-mobile": u.isMobile,
                    "app-focused": l,
                    "low-saturation": v <= f.LOW_SATURATION_THRESHOLD,
                    "decorate-links": c,
                    "desaturate-user-colors": R,
                    "disable-forced-colors": !M && "active" === L,
                    "enable-forced-colors": M,
                    "show-redesigned-icons": U,
                  },
                  (0, T.getThemeClass)(n),
                  (0, m.default)(),
                  p
                ),
              });
            })(N),
            (function () {
              let [e, t] = a.useState([]);
              return (
                a.useEffect(() => {
                  Promise.all(
                    c.fontsToPreload.map(e =>
                      n("437087")(
                        "@discordapp/tokens/typography/generated/gg-sans/"
                          .concat(e, ".woff2")
                          .replace(
                            "@discordapp/tokens/typography/generated/gg-sans/",
                            "./"
                          )
                      ).then(e => {
                        let { default: t } = e;
                        return t;
                      })
                    )
                  ).then(e => t(e));
                }, []),
                (0, i.jsx)(i.Fragment, {
                  children: e.map((e, t) =>
                    (0, i.jsx)(
                      "link",
                      {
                        rel: "preload",
                        href: e,
                        as: "font",
                        type: "font/woff2",
                        crossOrigin: "true",
                      },
                      t
                    )
                  ),
                })
              );
            })(),
            R,
            t,
          ],
        });
      });
    },
    231032: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return ea;
          },
        }),
        n("222007"),
        n("424973");
      var i = n("37983"),
        a = n("884691"),
        l = n("414456"),
        s = n.n(l),
        r = n("965955"),
        o = n("803182"),
        u = n("90915"),
        d = n("394846"),
        c = n("446674"),
        f = n("151426"),
        E = n("143435"),
        h = n("77078"),
        _ = n("913144"),
        C = n("916580"),
        S = n("988738"),
        g = n("521735"),
        T = n("572544"),
        m = n("244201"),
        p = n("206230"),
        I = n("320679"),
        A = n("428958"),
        N = n("154403"),
        O = n("805199"),
        v = n("529531"),
        R = n("44164"),
        M = n("714657"),
        L = n("262194"),
        y = n("36773"),
        D = n("374036"),
        P = n("384997"),
        w = n("234819"),
        U = n("182033"),
        b = n("928741"),
        F = n("161778"),
        G = n("778588"),
        k = n("697218"),
        x = n("471671"),
        H = n("791106"),
        V = n("542489"),
        B = n("983782"),
        j = n("708169"),
        W = n("668596"),
        Y = n("587974"),
        K = n("773336"),
        z = n("719923"),
        q = n("269936"),
        Q = n("302537"),
        Z = n("967889"),
        X = n("102999"),
        J = n("160139"),
        $ = n("49111"),
        ee = n("994428"),
        et = n("414482");
      n("551184"),
        n
          .el("573055")
          .then(n.bind(n, "573055"))
          .then(e => {
            K.isPlatformEmbedded
              ? window.addEventListener(
                  "contextmenu",
                  e.contextMenuCallbackNative,
                  !1
                )
              : window.addEventListener(
                  "contextmenu",
                  e.contextMenuCallbackWeb,
                  !1
                );
          }),
        (0, E.setDesignConfig)({ getDefaultLinkInterceptor: T.default }),
        (0, q.makeLazy)({
          createPromise: () => n.el("737511").then(n.bind(n, "737511")),
          webpackId: "737511",
        }),
        (0, q.makeLazy)({
          createPromise: () => n.el("424797").then(n.bind(n, "424797")),
          webpackId: "424797",
        });
      let en = (0, q.makeLazy)({
          createPromise: () => n.el("406915").then(n.bind(n, "406915")),
          webpackId: "406915",
        }),
        ei = a.memo(function (e) {
          let t = (0, c.useStateFromStores)([x.default], () =>
            x.default.isFocused()
          );
          return (0, i.jsx)(J.default, { ...e, focused: t });
        });
      var ea = function (e) {
        let { children: t, skipsSettingDefaultPageTitle: n } = e,
          { pathname: l } = (0, u.useLocation)(),
          E = (0, K.getPlatform)(),
          T = d.isMobile || d.isTablet,
          x = (0, c.useStateFromStores)([F.default], () =>
            F.default.darkSidebar ? $.ThemeTypes.DARK : void 0
          ),
          q = (0, c.useStateFromStores)([p.default], () =>
            p.default.useForcedColors ? "yes" : "no"
          ),
          [J, ea] = (0, c.useStateFromStoresArray)([M.default], () => [
            M.default.isEditorOpen,
            M.default.isCoachmark,
          ]),
          el = (0, c.useStateFromStores)(
            [O.default],
            () => O.default.isEditorOpen
          ),
          { enabled: es } = U.default.useExperiment(
            { location: "client_themes_coachmark_reintro" },
            { autoTrackExposure: !0 }
          ),
          er = (0, c.useStateFromStores)([G.default], () =>
            G.default.getLayers().includes($.Layers.USER_SETTINGS)
          ),
          eo = (0, c.useStateFromStores)([k.default], () =>
            z.default.canUseClientThemes(k.default.getCurrentUser())
          ),
          eu = J && !er,
          ed = [];
        eu &&
          ea &&
          es &&
          !eo &&
          ed.push(f.DismissibleContent.CLIENT_THEMES_COACHMARK);
        let [ec, ef] = (0, P.useSelectedDismissibleContent)(
          ed,
          ee.DismissibleContentGroupName.SIDEBAR,
          !0
        );
        ed.push(f.DismissibleContent.DEKSTOP_CUSTOM_APP_ICON_COACHMARK);
        let eE = ec === f.DismissibleContent.DEKSTOP_CUSTOM_APP_ICON_COACHMARK,
          eh = ec === f.DismissibleContent.CLIENT_THEMES_COACHMARK;
        a.useEffect(() => {
          let e = (0, o.matchPath)(l, {
            path: "invite",
            exact: !1,
            strict: !1,
          });
          null == e &&
            eE &&
            !eh &&
            (_.default.dispatch({ type: "APP_ICON_EDITOR_OPEN" }),
            _.default.dispatch({
              type: "APP_ICON_TRACK_IMPRESSION",
              markAsDismissed: ef,
            }));
        }, [eE, eh, ef, l]);
        let e_ = a.useRef(document.body);
        return (0, i.jsx)(
          b.default,
          {
            children: (0, i.jsx)(I.default, {
              children: (0, i.jsxs)(h.RedesignIconContextProvider, {
                children: [
                  (0, i.jsx)(Q.default, { skipsSettingDefaultPageTitle: n }),
                  (0, i.jsx)(X.default, {
                    children: (0, i.jsx)(Z.default, {
                      children: (0, i.jsxs)(h.FocusRingScope, {
                        containerRef: e_,
                        children: [
                          (0, i.jsx)(Y.MaskLibrary, {}),
                          (0, i.jsx)(H.default, {}),
                          (0, i.jsx)(r.FocusGuard, {}),
                          null != E
                            ? (0, i.jsx)(ei, { type: E, themeOverride: x })
                            : null,
                          (0, i.jsx)(m.AppWindowContextProvider, {
                            appContext: $.AppContext.APP,
                            renderWindow: window,
                            children: (0, i.jsxs)(B.AppLayerProvider, {
                              children: [
                                (0, i.jsxs)("div", {
                                  className: s(
                                    et.appAsidePanelWrapper,
                                    T && et.mobileAppAsidePanelWrapper,
                                    {
                                      [et.allowsScrolling]: (() => {
                                        let e = (0, o.matchPath)(l, {
                                          path: $.Routes.APPLICATION_DIRECTORY,
                                          exact: !1,
                                          strict: !1,
                                        });
                                        return (
                                          ((!!d.isMobile || !!d.isTablet) &&
                                            null != e) ||
                                          !1
                                        );
                                      })(),
                                    }
                                  ),
                                  children: [
                                    (0, i.jsx)("div", {
                                      className: et.notAppAsidePanel,
                                      "data-app-not-dev-tools": !0,
                                      children: (0, i.jsx)(
                                        y.CommonConfettiCannonContextProvider,
                                        {
                                          children: (0, i.jsx)(
                                            W.VerificationLayerProvider,
                                            {
                                              children: (0, i.jsxs)(
                                                V.default.Provider,
                                                {
                                                  value: A.default,
                                                  children: [
                                                    (0, i.jsx)("div", {
                                                      className: s(
                                                        T
                                                          ? et.mobileApp
                                                          : et.app
                                                      ),
                                                      children: t,
                                                    }),
                                                    (0, i.jsx)(R.default, {}),
                                                    (0, i.jsx)(S.default, {}),
                                                    (0, i.jsx)(h.Modals, {}),
                                                    (0, i.jsx)(g.default, {}),
                                                    (0, i.jsx)(
                                                      j.FullScreenLayers,
                                                      {}
                                                    ),
                                                    (0, i.jsx)(
                                                      B.AppLayerContainer,
                                                      {}
                                                    ),
                                                    (0, i.jsx)(
                                                      W.VerificationLayerContainer,
                                                      {}
                                                    ),
                                                    (0, i.jsx)(
                                                      h.ToastContainer,
                                                      {}
                                                    ),
                                                    (0, i.jsx)(N.default, {}),
                                                    (0, i.jsx)(w.default, {}),
                                                    (0, i.jsx)(en, {}),
                                                  ],
                                                }
                                              ),
                                            }
                                          ),
                                        }
                                      ),
                                    }),
                                    (0, i.jsx)(C.default, {}),
                                    (eu && !ea) || eh
                                      ? (0, i.jsx)(L.default, {
                                          markAsDismissed: ef,
                                        })
                                      : null,
                                    !el || er || eh
                                      ? null
                                      : (0, i.jsx)(v.default, {
                                          isCoachmark: eE,
                                          markAsDismissed: ef,
                                        }),
                                    (0, i.jsx)(D.default, { mobile: T }),
                                  ],
                                }),
                                !1,
                              ],
                            }),
                          }),
                          (0, i.jsx)(r.FocusGuard, {}),
                        ],
                      }),
                    }),
                  }),
                ],
              }),
            }),
          },
          q
        );
      };
    },
    102999: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return h;
          },
        }),
        n("222007");
      var i = n("37983"),
        a = n("884691"),
        l = n("446674"),
        s = n("318696"),
        r = n("915639"),
        o = n("787910"),
        u = n("90404"),
        d = n("782340"),
        c = n("386161");
      function f(e) {
        let { locale: t, children: n } = e,
          [a, s] = (0, l.useStateFromStoresArray)([o.default], () => [
            o.default.isLoading(),
            o.default.getError(),
          ]);
        return null != s
          ? (0, i.jsx)(u.default, {
              title: d.default.Messages.I18N_LOCALE_LOADING_ERROR.format({
                locale: t,
              }),
              note: (0, i.jsx)("span", { children: s.message }),
            })
          : a
            ? __OVERLAY__
              ? null
              : (0, i.jsx)("div", { className: c.loading })
            : n;
      }
      class E extends a.Component {
        render() {
          let { locale: e, children: t } = this.props;
          return (0, i.jsx)(f, { locale: e, children: t });
        }
        constructor(e) {
          super(e), s.updateLocaleLoadingStatus(e.locale, !0);
        }
      }
      var h = l.default.connectStores([r.default], () => ({
        locale: r.default.locale,
      }))(E);
    },
    787006: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          init: function () {
            return u;
          },
        });
      var i = n("771281"),
        a = n("95410"),
        l = n("599110"),
        s = n("49111");
      let r = window.DiscordNative,
        o = "".concat(s.AnalyticEvents.APP_NATIVE_CRASH, "Storage");
      async function u() {
        var e;
        if (__OVERLAY__) return;
        let t =
          null == r
            ? void 0
            : null === (e = r.processUtils) || void 0 === e
              ? void 0
              : e.getLastCrash;
        if (null == t) {
          console.log("AppCrashedFatalReport: getLastCrash not supported.");
          return;
        }
        let n = await t(),
          u = a.default.get(o, {}),
          d = (function (e, t) {
            var n, a, l, s, r, o, u, d, c, f, E, h, _, C, S, g, T, m, p;
            let I =
              (null == e ? void 0 : e.lastId) !== (null == t ? void 0 : t.id) &&
              (null == t ? void 0 : t.id) != null;
            function A(e) {
              return (
                (null == t ? void 0 : t.storedInformation) != null &&
                1 === t.storedInformation[e]
              );
            }
            function N(e) {
              return (null == t ? void 0 : t.storedInformation) == null ||
                null == t.storedInformation[e]
                ? null
                : t.storedInformation[e];
            }
            let O =
                null !== (u = null == t ? void 0 : t.rendererCrashExitCode) &&
                void 0 !== u
                  ? u
                  : null,
              v = {
                did_crash: I || (null != O && 0 !== O),
                renderer_crash_reason:
                  null !== (d = null == t ? void 0 : t.rendererCrashReason) &&
                  void 0 !== d
                    ? d
                    : null,
                renderer_crash_exit_code: O,
                had_rtc_connection: A(
                  i.StoredCrashInformation.HasRTCConnection
                ),
                was_sending_video: A(i.StoredCrashInformation.IsSendingVideo),
                was_sending_stream: A(i.StoredCrashInformation.IsSendingStream),
                was_receiving_video: A(
                  i.StoredCrashInformation.IsReceivingVideo
                ),
                was_receiving_stream: A(
                  i.StoredCrashInformation.IsReceivingStream
                ),
                video_media_session_id: N(
                  i.StoredCrashInformation.VideoMediaSessionId
                ),
                stream_media_session_id: N(
                  i.StoredCrashInformation.StreamMediaSessionId
                ),
                last_memory_usage_kb:
                  null !==
                    (c =
                      null == t
                        ? void 0
                        : null === (n = t.lastMemoryInformation) || void 0 === n
                          ? void 0
                          : n.memoryUsageKB) && void 0 !== c
                    ? c
                    : null,
                last_used_js_heap_size_kb:
                  null !==
                    (f =
                      null == t
                        ? void 0
                        : null === (a = t.lastMemoryInformation) || void 0 === a
                          ? void 0
                          : a.usedJSHeapSizeKB) && void 0 !== f
                    ? f
                    : null,
                last_memory_usage_uptime:
                  null !==
                    (E =
                      null == t
                        ? void 0
                        : null === (l = t.lastMemoryInformation) || void 0 === l
                          ? void 0
                          : l.uptimeSeconds) && void 0 !== E
                    ? E
                    : null,
                highest_memory_usage_kb:
                  null !==
                    (h =
                      null == t
                        ? void 0
                        : null === (s = t.highestMemoryInformation) ||
                            void 0 === s
                          ? void 0
                          : s.memoryUsageKB) && void 0 !== h
                    ? h
                    : null,
                highest_used_js_heap_size_kb:
                  null !==
                    (_ =
                      null == t
                        ? void 0
                        : null === (r = t.highestMemoryInformation) ||
                            void 0 === r
                          ? void 0
                          : r.usedJSHeapSizeKB) && void 0 !== _
                    ? _
                    : null,
                highest_memory_usage_uptime:
                  null !==
                    (C =
                      null == t
                        ? void 0
                        : null === (o = t.highestMemoryInformation) ||
                            void 0 === o
                          ? void 0
                          : o.uptimeSeconds) && void 0 !== C
                    ? C
                    : null,
              };
            if (!I || null == t)
              return {
                electron_crash_reporter_did_crash: !1,
                minidump_exception_type: null,
                minidump_exception_module_name: null,
                minidump_relative_crash_address: null,
                minidump_exception_module_version: null,
                minidump_exception_module_code_id: null,
                ...v,
              };
            console.log("AppCrashedFatalReport lastCrash:", t, I);
            let R = null == t ? void 0 : t.minidumpInformation;
            return {
              electron_crash_reporter_did_crash: I,
              minidump_exception_type:
                null !== (S = null == R ? void 0 : R.exceptionString) &&
                void 0 !== S
                  ? S
                  : null,
              minidump_exception_module_name:
                null !== (g = null == R ? void 0 : R.exceptionModuleName) &&
                void 0 !== g
                  ? g
                  : null,
              minidump_relative_crash_address:
                null !== (T = null == R ? void 0 : R.relativeCrashAddress) &&
                void 0 !== T
                  ? T
                  : null,
              minidump_exception_module_version:
                null !== (m = null == R ? void 0 : R.exceptionModuleVersion) &&
                void 0 !== m
                  ? m
                  : null,
              minidump_exception_module_code_id:
                null !== (p = null == R ? void 0 : R.exceptionModuleCodeId) &&
                void 0 !== p
                  ? p
                  : null,
              ...v,
            };
          })(u, n);
        l.default.track(s.AnalyticEvents.APP_NATIVE_CRASH, d),
          a.default.set(o, { lastId: null == n ? void 0 : n.id });
      }
    },
    648387: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          cleanupTempFiles: function () {
            return r;
          },
        });
      var i = n("811022"),
        a = n("49671"),
        l = n("697218"),
        s = n("147746");
      function r() {
        var e;
        (null === a.default || void 0 === a.default
          ? void 0
          : null === (e = a.default.fileManager) || void 0 === e
            ? void 0
            : e.cleanupTempFiles) != null && setTimeout(() => void u(), 1e4);
      }
      let o = new i.default("tempFiles");
      async function u() {
        var e;
        if (
          (null === a.default || void 0 === a.default
            ? void 0
            : null === (e = a.default.fileManager) || void 0 === e
              ? void 0
              : e.cleanupTempFiles) != null
        )
          try {
            let e = await a.default.fileManager.cleanupTempFiles();
            if (
              (null == e ? void 0 : e.callscopeLogFiles) != null &&
              e.callscopeLogFiles.length > 0
            ) {
              let t = Math.floor(1e3 * Math.random()).toString(),
                n = l.default.getCurrentUser();
              (null == n ? void 0 : n.isStaff()) && (t = n.id),
                o.log(
                  "Uploading "
                    .concat(
                      e.callscopeLogFiles.length,
                      " callscope logs as user "
                    )
                    .concat(t)
                ),
                await (0, s.uploadCallscopeLogFiles)(t, e.callscopeLogFiles);
            }
          } catch (e) {
            o.error("Exception ".concat(null == e ? void 0 : e.message), e);
          }
      }
    },
    352690: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return _;
          },
        }),
        n("222007");
      var i = n("771281"),
        a = n("773364"),
        l = n("689988"),
        s = n("271938"),
        r = n("50885"),
        o = n("49111");
      let u = new Set();
      function d(e) {
        switch (e) {
          case a.MediaEngineContextTypes.DEFAULT:
            return i.StoredCrashInformation.VideoMediaSessionId;
          case a.MediaEngineContextTypes.STREAM:
            return i.StoredCrashInformation.StreamMediaSessionId;
        }
      }
      function c(e) {
        var t;
        r.default.setCrashInformation(
          d(e.context),
          null !== (t = e.mediaSessionId) && void 0 !== t ? t : null
        );
      }
      function f(e) {
        var t;
        let n =
          (null !== (t = e.channelId) && void 0 !== t ? t : "unknown") +
          e.context;
        switch (e.state) {
          case o.RTCConnectionStates.RTC_CONNECTED:
            u.add(n),
              r.default.setCrashInformation(
                i.StoredCrashInformation.HasRTCConnection,
                1
              );
            break;
          case o.RTCConnectionStates.DISCONNECTED:
            r.default.setCrashInformation(d(e.context), null),
              u.delete(n),
              0 === u.size &&
                !(function () {
                  let e = [
                    i.StoredCrashInformation.HasRTCConnection,
                    i.StoredCrashInformation.IsSendingVideo,
                    i.StoredCrashInformation.IsSendingStream,
                    i.StoredCrashInformation.IsReceivingVideo,
                    i.StoredCrashInformation.IsReceivingStream,
                  ];
                  for (let t of e) r.default.setCrashInformation(t, 0);
                })();
        }
      }
      function E(e) {
        let t = e.userId === s.default.getId(),
          n = null != e.streamId,
          l = null;
        switch (e.context) {
          case a.MediaEngineContextTypes.DEFAULT:
            l = t
              ? i.StoredCrashInformation.IsSendingVideo
              : i.StoredCrashInformation.IsReceivingVideo;
            break;
          case a.MediaEngineContextTypes.STREAM:
            l = t
              ? i.StoredCrashInformation.IsSendingStream
              : i.StoredCrashInformation.IsReceivingStream;
        }
        r.default.setCrashInformation(l, n ? 1 : 0);
      }
      class h extends l.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              RTC_CONNECTION_STATE: f,
              RTC_CONNECTION_VIDEO: E,
              MEDIA_SESSION_JOINED: c,
            });
        }
      }
      var _ = new h();
    },
    374036: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        });
      var i = n("37983"),
        a = n("884691"),
        l = n("868233"),
        s = n("446674"),
        r = n("368694"),
        o = n("773336"),
        u = n("370492"),
        d = n("584369");
      let c = (0, l.makeLazy)({
        createPromise: () => n.el("304207").then(n.bind(n, "304207")),
        webpackId: "304207",
      });
      function f(e) {
        let { mobile: t } = e,
          n = (0, s.useStateFromStores)(
            [r.default],
            () => r.default.isDeveloper
          ),
          l = (0, s.useStateFromStores)(
            [d.default],
            () => d.default.displayTools
          ),
          f = a.useCallback(e => {
            let t = (0, o.isMac)() ? e.metaKey : e.ctrlKey;
            t &&
              e.altKey &&
              "KeyO" === e.code &&
              (0, u.toggleDisplayDevTools)();
          }, []);
        return (a.useLayoutEffect(
          () => (
            window.addEventListener("keydown", f),
            () => {
              window.removeEventListener("keydown", f);
            }
          ),
          [f]
        ),
        t ? n : l)
          ? (0, i.jsx)(c, { mobile: t })
          : null;
      }
    },
    531150: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("765969"),
        l = n("958706");
      let s = new Set([
        l.EmojiInteractionPoint.EmojiButtonMouseEntered,
        l.EmojiInteractionPoint.ChatInputExpressionPressed,
        l.EmojiInteractionPoint.ChatInputSuggestionsShown,
        l.EmojiInteractionPoint.SearchEmojiKeybindPressed,
        l.EmojiInteractionPoint.AutocompleteTyped,
        l.EmojiInteractionPoint.GuildLeaveModalShown,
        l.EmojiInteractionPoint.AddReactionPopoutMouseEntered,
        l.EmojiInteractionPoint.AddReactionPopoutFocused,
        l.EmojiInteractionPoint.MessageContextMenuMouseEntered,
        l.EmojiInteractionPoint.AutocompleteWrapperShown,
      ]);
      class r extends i.default {
        handleInteraction(e) {
          let { interaction: t } = e;
          s.has(t) && (0, a.maybeGetEmojiCaptionsForUser)(t);
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              EMOJI_INTERACTION_INITIATED: this.handleInteraction,
            });
        }
      }
      var o = new r();
    },
    765969: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          maybeGetEmojiCaptionsForUser: function () {
            return r;
          },
        });
      var i = n("697218"),
        a = n("558986"),
        l = n("802461"),
        s = n("269579");
      async function r() {
        let e =
            arguments.length > 0 && void 0 !== arguments[0]
              ? arguments[0]
              : "unknown",
          t = i.default.getCurrentUser();
        if (null == t) return;
        let { isEmojiCaptionsEnabled: n } = s.default.getCurrentConfig({
          location: e,
        });
        if (!n) {
          l.default.hasPersistedState() && l.default.clear();
          return;
        }
        if (l.default.getIsFetching()) return;
        let r = l.default.getEmojiCaptionsTTL();
        !(null != r && Date.now() < r) &&
          (await (0, a.getEmojiCaptionsForUser)());
      }
    },
    269579: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return l;
          },
        });
      var i = n("862205");
      let a = (0, i.createExperiment)({
        kind: "user",
        id: "2024-02_emoji_suggestions",
        label: "Emoji Suggestions Experiment",
        defaultConfig: {
          isEmojiSuggestionsEnabled: !1,
          isEmojiCaptionsEnabled: !1,
        },
        treatments: [
          {
            id: 1,
            label: "Enables Emoji Suggestions without Captions",
            config: {
              isEmojiSuggestionsEnabled: !0,
              isEmojiCaptionsEnabled: !1,
            },
          },
          {
            id: 2,
            label: "Enables Emoji Suggestions with Captions",
            config: {
              isEmojiSuggestionsEnabled: !0,
              isEmojiCaptionsEnabled: !0,
            },
          },
        ],
      });
      var l = a;
    },
    120273: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("162771"),
        l = n("630400"),
        s = n("958706");
      class r extends i.default {
        handleInteraction(e) {
          let { interaction: t } = e;
          if ([s.EmojiInteractionPoint.EmojiButtonMouseEntered].includes(t)) {
            let e = a.default.getGuildId();
            (0, l.maybeFetchTopEmojisByGuild)(e);
          }
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              EMOJI_INTERACTION_INITIATED: this.handleInteraction,
            });
        }
      }
      var o = new r();
    },
    722333: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return i;
          },
        }),
        n("222007");
      var i,
        a = n("917351"),
        l = n.n(a),
        s = n("95410"),
        r = n("689988"),
        o = n("139321"),
        u = n("269596"),
        d = n("945956"),
        c = n("200521");
      let f = { chance: 0.2, cooldown: 864e5 },
        E = {
          [c.FeedbackType.VOICE]: {
            ...f,
            hotspot: o.HotspotLocations.VOICE_CALL_FEEDBACK,
            storageKey: "lastVoiceFeedback",
            eligibilityChecks: [
              function (e) {
                let t = d.default.getWasEverRtcConnected();
                return !t || d.default.getWasEverMultiParticipant();
              },
            ],
          },
          [c.FeedbackType.STREAM]: {
            ...f,
            hotspot: o.HotspotLocations.REPORT_PROBLEM_POST_STREAM,
            storageKey: "lastStreamFeedback",
          },
          [c.FeedbackType.VIDEO_BACKGROUND]: {
            ...f,
            hotspot: o.HotspotLocations.VIDEO_BACKGROUND_FEEDBACK,
            storageKey: "lastVideoBackgroundFeedback",
          },
          [c.FeedbackType.ACTIVITY]: {
            cooldown: 0,
            chance: 0.5,
            hotspot: o.HotspotLocations.POST_ACTIVITY_FEEDBACK,
            storageKey: "lastActivityFeedback",
          },
          [c.FeedbackType.IN_APP_REPORTS]: {
            cooldown: 1728e5,
            chance: 0.5,
            hotspot: o.HotspotLocations.IN_APP_REPORTS_FEEDBACK,
            storageKey: "inAppReportsFeedback",
          },
        };
      function h(e) {
        return u.default.hasHotspot(e.hotspot);
      }
      function _(e) {
        return Math.random() < e.chance;
      }
      function C(e) {
        if (null != e.storageKey) {
          let t = s.default.get(e.storageKey);
          if (null != t && Date.now() - t < e.cooldown) return !1;
        }
        return !0;
      }
      i = class extends r.default {
        possiblyShowFeedbackModal(e, t) {
          (function (e) {
            var t;
            if (__OVERLAY__) return !1;
            let n = E[e],
              i = null !== (t = n.eligibilityChecks) && void 0 !== t ? t : [];
            return [C, _, h].every(e => e(n)) && i.every(e => e(n));
          })(e) &&
            (null == this.feedbackTypeToShow ||
              !(
                c.FeedbackTypePrecedence[this.feedbackTypeToShow] <
                c.FeedbackTypePrecedence[e]
              )) &&
            ((this.feedbackTypeToShow = e), this.showFeedbackModalDebounced(t));
        }
        constructor(...e) {
          super(...e),
            (this.feedbackTypeToShow = null),
            (this.showFeedbackModalDebounced = l.debounce(e => {
              null != this.feedbackTypeToShow &&
                (!(function (e) {
                  let t = E[e];
                  null != t.storageKey &&
                    s.default.set(t.storageKey, Date.now());
                })(this.feedbackTypeToShow),
                (this.feedbackTypeToShow = null),
                e());
            }, 200));
        }
      };
    },
    828787: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return T;
          },
        }),
        n("222007");
      var i = n("37983");
      n("884691");
      var a = n("77078"),
        l = n("299285"),
        s = n("374014"),
        r = n("582415"),
        o = n("643130"),
        u = n("292687"),
        d = n("271938"),
        c = n("42203"),
        f = n("824563"),
        E = n("945956"),
        h = n("205817"),
        _ = n("722333"),
        C = n("200521"),
        S = n("49111");
      class g extends _.default {
        _initialize() {
          o.default.init();
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              VOICE_CHANNEL_SHOW_FEEDBACK: e =>
                this.handleVoiceChannelFeedback(e),
              STREAM_CLOSE: e => this.handleStreamClose(e),
              VIDEO_BACKGROUND_SHOW_FEEDBACK: e =>
                this.handleVideoBackgroundShowFeedback(e),
              EMBEDDED_ACTIVITY_CLOSE: e => this.handleActivityClose(e),
              IN_APP_REPORTS_SHOW_FEEDBACK: e =>
                this.handleInAppReportsFeedback(e),
            }),
            (this.handleVoiceChannelFeedback = e => {
              let { analyticsData: t } = e;
              this.possiblyShowFeedbackModal(C.FeedbackType.VOICE, () => {
                (0, a.openModalLazy)(async () => {
                  let { default: e } = await n
                    .el("464667")
                    .then(n.bind(n, "464667"));
                  return n => (0, i.jsx)(e, { ...n, analyticsData: t });
                });
              });
            }),
            (this.handleStreamClose = e => {
              var t;
              let { streamKey: l, canShowFeedback: o } = e,
                u = (0, s.decodeStreamKey)(l),
                c = (0, r.getStreamerApplication)(u, f.default),
                E =
                  null !== (t = h.default.getVideoStats(l)) && void 0 !== t
                    ? t
                    : {},
                _ = {
                  media_session_id: h.default.getMediaSessionId(l),
                  rtc_connection_id: h.default.getRtcConnectionId(l),
                  stream_region: h.default.getRegion(l),
                  max_viewers: h.default.getMaxViewers(l),
                  ...E,
                };
              o &&
                this.possiblyShowFeedbackModal(C.FeedbackType.STREAM, () => {
                  (0, a.openModalLazy)(async () => {
                    let { default: e } = await n
                      .el("363787")
                      .then(n.bind(n, "363787"));
                    return t =>
                      (0, i.jsx)(e, {
                        stream: u,
                        streamApplication: c,
                        isStreamer: u.ownerId === d.default.getId(),
                        ...t,
                        analyticsData: _,
                      });
                  });
                });
            }),
            (this.handleVideoBackgroundShowFeedback = e => {
              let { analyticsData: t } = e;
              this.possiblyShowFeedbackModal(
                C.FeedbackType.VIDEO_BACKGROUND,
                () => {
                  (0, a.openModalLazy)(async () => {
                    let { default: e } = await n
                      .el("496088")
                      .then(n.bind(n, "496088"));
                    return n => (0, i.jsx)(e, { ...n, analyticsData: t });
                  });
                }
              );
            }),
            (this.handleActivityClose = e => {
              let { applicationId: t, channelId: s, showFeedback: r } = e,
                o = l.default.getApplication(t),
                d = c.default.getChannel(s),
                f = {
                  rtc_connection_id: E.default.getRTCConnectionId(),
                  media_session_id: E.default.getMediaSessionId(),
                },
                h = u.default.getWindowOpen(
                  S.PopoutWindowKeys.CHANNEL_CALL_POPOUT
                ),
                _ = h ? a.POPOUT_MODAL_CONTEXT : a.DEFAULT_MODAL_CONTEXT;
              null != o &&
                null != d &&
                r &&
                this.possiblyShowFeedbackModal(C.FeedbackType.ACTIVITY, () => {
                  (0, a.openModalLazy)(
                    async () => {
                      let { default: e } = await n
                        .el("959350")
                        .then(n.bind(n, "959350"));
                      return t =>
                        (0, i.jsx)(e, {
                          ...t,
                          activityApplication: o,
                          channel: d,
                          analyticsData: f,
                        });
                    },
                    { contextKey: _ }
                  );
                });
            }),
            (this.handleInAppReportsFeedback = e => {
              let { reportId: t, reportType: l } = e;
              this.possiblyShowFeedbackModal(
                C.FeedbackType.IN_APP_REPORTS,
                () => {
                  (0, a.openModalLazy)(async () => {
                    let { default: e } = await n
                      .el("114306")
                      .then(n.bind(n, "114306"));
                    return n =>
                      (0, i.jsx)(e, { ...n, reportId: t, reportType: l });
                  });
                }
              );
            });
        }
      }
      var T = new g();
    },
    706065: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return r;
          },
        }),
        n("222007");
      var i = n("95410"),
        a = n("689988");
      let l = "formGuidelinesStorageKey";
      class s extends a.default {
        _initialize() {
          let e = i.default.get(l);
          null != e && (this.seenForumGuidelines = new Set(e));
        }
        _terminate() {
          i.default.set(l, this.seenForumGuidelines);
        }
        markAsSeen(e) {
          this.seenForumGuidelines.add(e),
            i.default.set(l, this.seenForumGuidelines);
        }
        hasSeen(e) {
          return this.seenForumGuidelines.has(e);
        }
        constructor(...e) {
          super(...e), (this.seenForumGuidelines = new Set());
        }
      }
      var r = new s();
    },
    62649: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("42203"),
        l = n("612278"),
        s = n("724210");
      class r extends i.default {
        handleChannelPreload(e) {
          let { channelId: t } = e;
          if ((0, s.isStaticChannelRoute)(t)) return;
          let n = a.default.getChannel(t);
          null != n && n.isForumLikeChannel() && (0, l.preloadForumThreads)(n);
        }
        constructor(...e) {
          super(...e),
            (this.actions = { CHANNEL_PRELOAD: this.handleChannelPreload });
        }
      }
      var o = new r();
    },
    144320: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        }),
        n("511434"),
        n("313619"),
        n("654714"),
        n("287168"),
        n("956660"),
        n("222007"),
        n("424973");
      var i = n("689988"),
        a = n("385976"),
        l = n("42203"),
        s = n("315102"),
        r = n("402671"),
        o = n("724210"),
        u = n("115279");
      let d = new Worker(new URL(n.p + n.u("68638"), n.b));
      class c extends i.default {
        handleChannelPreload(e) {
          let { channelId: t } = e;
          if ((0, o.isStaticChannelRoute)(t)) return;
          let n = l.default.getChannel(t);
          if (null != n && n.isForumLikeChannel()) {
            let e = (function (e) {
              let t = [],
                n = e.defaultReactionEmoji;
              if ((null == n ? void 0 : n.emojiId) != null) {
                var i, l;
                t.push(
                  s.default.getEmojiURL({
                    id: n.emojiId,
                    animated:
                      null !==
                        (l =
                          null ===
                            (i = a.default.getUsableCustomEmojiById(
                              n.emojiId
                            )) || void 0 === i
                            ? void 0
                            : i.animated) &&
                      void 0 !== l &&
                      l,
                    size: u.EMOJI_SIZE_MAP.reaction,
                  })
                );
              } else
                (null == n ? void 0 : n.emojiName) != null &&
                  t.push(r.default.getURL(n.emojiName));
              return (
                e.availableTags.forEach(e => {
                  null != e.emojiId
                    ? t.push(
                        s.default.getEmojiURL({
                          id: e.emojiId,
                          animated: !1,
                          size: u.EMOJI_SIZE_MAP.reaction,
                        })
                      )
                    : null != e.emojiName &&
                      t.push(r.default.getURL(e.emojiName));
                }),
                t
              );
            })(n);
            e.forEach(e => {
              if (null != e && 0 !== e.length) {
                var t;
                (t = e),
                  new Promise(e => {
                    let n = i => {
                      let {
                        data: { url: a },
                      } = i;
                      null == d || d.removeEventListener("message", n),
                        t === a && e();
                    };
                    null == d || d.addEventListener("message", n),
                      null == d || d.postMessage({ url: t });
                  });
              }
            });
          }
        }
        constructor(...e) {
          super(...e),
            (this.actions = { CHANNEL_PRELOAD: this.handleChannelPreload });
        }
      }
      var f = new c();
    },
    508412: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return R;
          },
        }),
        n("222007");
      var i = n("627445"),
        a = n.n(i),
        l = n("862337"),
        s = n("404118"),
        r = n("629109"),
        o = n("689988"),
        u = n("605250"),
        d = n("271938"),
        c = n("42887"),
        f = n("945956"),
        E = n("235660"),
        h = n("800762"),
        _ = n("449008"),
        C = n("700507"),
        S = n("893243"),
        g = n("76393"),
        T = n("209969"),
        m = n("201615"),
        p = n("171644"),
        I = n("353927"),
        A = n("782340");
      let N = new u.default("GameConsoleManager");
      async function O(e) {
        let t = f.default.getChannelId();
        a(null == t, "Syncing to remote while in voice!"),
          e.selfMute !== c.default.isSelfMute() &&
            (await r.default.toggleSelfMute({ syncRemote: !1 })),
          e.selfDeaf !== c.default.isSelfDeaf() &&
            r.default.toggleSelfDeaf({ syncRemote: !1 });
      }
      class v extends o.default {
        constructor(...e) {
          super(...e),
            (this.rollbackCommandTimeout = new l.Timeout()),
            (this.awaitRemoteTimeout = new l.Timeout()),
            (this.actions = {
              WAIT_FOR_REMOTE_SESSION: () => this.handleWaitForRemoteSession(),
              POST_CONNECTION_OPEN: () => this.handleSessionsChanged(),
              SESSIONS_REPLACE: () => this.handleSessionsChanged(),
              AUDIO_TOGGLE_SELF_DEAF: e => this.handleAudioStateToggle(e),
              AUDIO_TOGGLE_SELF_MUTE: e => this.handleAudioStateToggle(e),
              VOICE_STATE_UPDATES: e => this.handleVoiceStateUpdates(e),
              CONSOLE_COMMAND_UPDATE: e => this.handleConsoleCommandUpdate(e),
              PASSIVE_UPDATE_V1: e => this.handleVoiceStateUpdates(e),
              REMOTE_SESSION_DISCONNECT: () =>
                this.handleRemoteSessionDisconnect(),
            }),
            (this.maybeConnect = e => {
              let t = (function (e) {
                let t = g.default.getAwaitingRemoteSessionInfo();
                return e.find(e => {
                  let n = p.GAME_CONSOLE_SESSIONS.has(e.clientInfo.os),
                    i =
                      null !=
                      h.default.getVoiceStateForSession(
                        d.default.getId(),
                        e.sessionId
                      ),
                    a =
                      null == t ||
                      (0, T.coercePlatformTypeToConsoleType)(t.type) ===
                        e.clientInfo.os;
                  return n && a && i;
                });
              })(e);
              if (null == t) return null;
              this.awaitRemoteTimeout.stop(),
                (0, C.connectToRemote)(t.sessionId);
              let n = h.default.getVoiceStateForSession(
                d.default.getId(),
                t.sessionId
              );
              null != n && O(n);
            }),
            (this.handleAudioStateToggle = e => {
              let { syncRemote: t, context: n } = e;
              if (!t || n !== I.MediaEngineContextTypes.DEFAULT) return;
              let i = c.default.isSelfDeaf(),
                a = c.default.isSelfMute(),
                l = d.default.getId(),
                s = g.default.getRemoteSessionId();
              if (null == s) return;
              let r = h.default.getVoiceStateForSession(l, s);
              if (null != r)
                (r.selfDeaf !== i || r.selfMute !== a) &&
                  ((0, C.remoteVoiceStateUpdate)(s, {
                    selfDeaf: i,
                    selfMute: a,
                  }),
                  this.rollbackCommandTimeout.start(3e3, () => {
                    O(r);
                  }));
            }),
            (this.handleVoiceStateUpdates = e => {
              var t;
              let n = null !== (t = e.voiceStates) && void 0 !== t ? t : [],
                i = g.default.getRemoteSessionId();
              if (null == i) {
                let e = n
                  .map(e => {
                    let { sessionId: t } = e;
                    return null != t ? E.default.getSessionById(t) : null;
                  })
                  .filter(_.isNotNullish);
                return this.maybeConnect(e);
              }
              let a = n.find(e => {
                let { sessionId: t } = e;
                return t === i;
              });
              null != a && (this.rollbackCommandTimeout.stop(), O(a));
            }),
            (this.handleSessionsChanged = () => {
              let e = g.default.getRemoteSessionId();
              null != e &&
                null == E.default.getSessionById(e) &&
                (0, C.disconnectRemote)(),
                null == e &&
                  this.maybeConnect(Object.values(E.default.getSessions()));
            }),
            (this.handleWaitForRemoteSession = () => {
              this.awaitRemoteTimeout.start(6e4, () => {
                (0, C.disconnectRemote)(),
                  s.default.show({
                    title:
                      A.default.Messages.GAME_CONSOLE_TRANSFER_TIMEOUT_TITLE,
                    body: A.default.Messages.GAME_CONSOLE_TRANSFER_TIMEOUT_BODY,
                  });
              });
            }),
            (this.handleConsoleCommandUpdate = e => {
              var t;
              let { id: n, result: i, error: a } = e;
              if (("failed" !== i && "n/a" !== i) || null == a) return;
              N.info("Console command Error result:", i, a);
              let l = g.default.getAwaitingRemoteSessionInfo();
              if ((null == l ? void 0 : l.commandId) !== n) return;
              let s = g.default.getDevice(
                  l.type,
                  null !== (t = l.deviceId) && void 0 !== t ? t : ""
                ),
                r = (0, m.default)(
                  null != s
                    ? s
                    : {
                        id: "id",
                        platform: A.default.Messages.STATUS_UNKNOWN,
                        name: A.default.Messages.STATUS_UNKNOWN,
                      },
                  i,
                  a
                );
              null != r &&
                S.default.showSelfDismissableAlert({
                  title: r.title,
                  body: r.body,
                  errorCodeMessage: r.errorCodeMessage,
                  reconnectPlatformType: r.isAccountLinkError ? l.type : void 0,
                }),
                p.USER_ACTION_REQUIRED_ERROR_CODES.has(a.code) &&
                this.awaitRemoteTimeout.isStarted()
                  ? this.awaitRemoteTimeout.start(
                      18e4,
                      () => (0, C.disconnectRemote)(),
                      !0
                    )
                  : "failed" === i && (0, C.disconnectRemote)();
            }),
            (this.handleRemoteSessionDisconnect = () => {
              this.awaitRemoteTimeout.stop();
            });
        }
      }
      var R = new v();
    },
    209969: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          coercePlatformTypeToConsoleType: function () {
            return l;
          },
        });
      var i = n("171644"),
        a = n("49111");
      function l(e) {
        switch (e) {
          case a.PlatformTypes.XBOX:
            return i.GameConsoleTypes.XBOX;
          case a.PlatformTypes.PLAYSTATION:
          case a.PlatformTypes.PLAYSTATION_STAGING:
            return i.GameConsoleTypes.PLAYSTATION;
          default:
            return null;
        }
      }
    },
    201615: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return s;
          },
        });
      var i = n("701909"),
        a = n("171644"),
        l = n("782340");
      function s(e, t, n) {
        let s = null;
        return (
          "failed" === t
            ? (s = (function (e, t) {
                let { platform: n, name: i } = e;
                switch (t) {
                  case a.GameConsoleCommandResultErrorCodes
                    .CONSOLE_DEVICE_COMMUNICATION_RESTRICTED:
                    return {
                      title:
                        l.default.Messages
                          .CONSOLE_DEVICE_COMMUNICATION_RESTRICTED,
                      body: l.default.Messages.CONSOLE_DEVICE_COMMUNICATION_RESTRICTED_BODY.format(
                        { deviceType: n }
                      ),
                    };
                  case a.GameConsoleCommandResultErrorCodes
                    .CONSOLE_DEVICE_INVALID_POWER_MODE:
                    return {
                      title:
                        l.default.Messages.CONSOLE_DEVICE_NOT_RESPONDING.format(
                          { deviceType: n }
                        ),
                      body: l.default.Messages.CONSOLE_DEVICE_NOT_RESPONDING_BODY.format(
                        { deviceName: i }
                      ),
                    };
                  case a.GameConsoleCommandResultErrorCodes
                    .CONSOLE_DEVICE_UNVAILABLE_FROM_OTHER_USERS:
                    return {
                      title: l.default.Messages.CONSOLE_DEVICE_IN_USE.format({
                        deviceType: n,
                      }),
                      body: l.default.Messages.CONSOLE_DEVICE_IN_USE_BODY.format(
                        { deviceName: i }
                      ),
                    };
                  case a.GameConsoleCommandResultErrorCodes
                    .CONSOLE_DEVICE_ACCOUNT_LINK_ERROR:
                    return {
                      title: l.default.Messages.CONSOLE_DEVICE_UNKNOWN_ERROR,
                      body: l.default.Messages.CONSOLE_DEVICE_RECONNECT_ACCOUNT.format(
                        { deviceType: n }
                      ),
                      isAccountLinkError: !0,
                    };
                  default:
                    return {
                      title: l.default.Messages.CONSOLE_DEVICE_UNKNOWN_ERROR,
                      body: l.default.Messages.CONSOLE_DEVICE_UNKNOWN_ERROR_BODY.format(
                        { deviceName: i }
                      ),
                    };
                }
              })(e, n.code))
            : "n/a" === t &&
              (s = (function (e, t) {
                let { platform: n, name: i } = e;
                if (
                  t ===
                  a.GameConsoleCommandResultErrorCodes
                    .CONSOLE_DEVICE_PASSCODE_UNLOCK_REQUIRED
                )
                  return {
                    title:
                      l.default.Messages.CONSOLE_DEVICE_REQUIRES_PASSCODE.format(
                        { deviceType: n }
                      ),
                    body: l.default.Messages.CONSOLE_DEVICE_REQUIRES_PASSCODE_BODY.format(
                      { deviceName: i }
                    ),
                  };
                return null;
              })(e, n.code)),
          null != s &&
            (s.errorCodeMessage =
              l.default.Messages.CONSOLE_ERROR_CODE_SUPPORT.format({
                supportURL: i.default.getSubmitRequestURL(),
                errorCode: n.code,
              })),
          s
        );
      }
    },
    889014: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return l;
          },
        });
      var i = n("446674"),
        a = n("76393");
      function l() {
        return (0, i.useStateFromStores)(
          [a.default],
          () =>
            null != a.default.getRemoteSessionId() ||
            null != a.default.getAwaitingRemoteSessionInfo()
        );
      }
    },
    597090: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return u;
          },
        }),
        n("222007");
      var i = n("823411"),
        a = n("568131"),
        l = n("689988"),
        s = n("686470"),
        r = n("773336");
      class o extends l.default {
        handlePostConnectionOpen() {
          (0, r.isDesktop)() &&
            (!s.default.fetched && (0, a.fetchLibrary)(),
            i.default.getDetectableGames());
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: this.handlePostConnectionOpen,
            });
        }
      }
      var u = new o();
    },
    84970: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          GameDisplayModeStorage: function () {
            return l;
          },
        });
      var i = n("95410"),
        a = n("115718");
      class l {
        save() {
          let e = { games: this.games };
          i.default.set(l.storageKey, e);
        }
        static load() {
          return null == l._loaded && (l._loaded = l.loadInternal()), l._loaded;
        }
        static loadInternal() {
          let e = i.default.get(l.storageKey);
          if (null != e) {
            var t;
            return new l(null !== (t = e.games) && void 0 !== t ? t : {});
          }
          let n = new l({});
          return n.save(), n;
        }
        static getGameSettings(e) {
          var t;
          if (null == e) return null;
          let n = l.load();
          return null !== (t = n.games[e]) && void 0 !== t ? t : null;
        }
        static updateGameSettings(e, t) {
          if (null == e) return;
          let n = l.load(),
            i = n.games[e];
          if (null == i) {
            (n.games[e] = {
              screen: a.RunningProcessFullscreenType.UNKNOWN,
              date: Date.now(),
              ...t,
            }),
              n.save();
            return;
          }
          "boolean" == typeof t.disabled && (i.disabled = t.disabled),
            "number" == typeof t.screen && (i.screen = t.screen),
            (i.date = Date.now()),
            n.save();
        }
        static isPromptingForGameDisable(e) {
          var t, n;
          return (
            null !==
              (n =
                null === (t = l.getGameSettings(e)) || void 0 === t
                  ? void 0
                  : t.disabled) &&
            void 0 !== n &&
            n
          );
        }
        static setPromptingForGameDisable(e, t) {
          l.updateGameSettings(e, { disabled: t });
        }
        static getGameDisplayMode(e) {
          var t, n;
          return null == e
            ? null
            : null !==
                  (n =
                    null === (t = l.getGameSettings(e)) || void 0 === t
                      ? void 0
                      : t.screen) && void 0 !== n
              ? n
              : null;
        }
        static setGameDisplayMode(e, t) {
          l.updateGameSettings(e, { screen: t });
        }
        static clearOldGameSettings() {
          let e = l.load();
          if (null == e.games) return;
          let t = Date.now() - 31536e6;
          for (let n in e.games) {
            let i = e.games[n];
            i.date < t && delete e.games[n];
          }
          e.save();
        }
        static reset() {
          let e = l.load();
          (e.games = {}), e.save();
        }
        static isTestMode() {
          var e;
          return (e = !!window.__GAME_DISPLAY_MODE_TEST_MODE__), e;
        }
        static isVerbose() {
          var e;
          return (e = !!window.__GAME_DISPLAY_MODE_DEBUG__), e;
        }
        constructor(e) {
          this.games = e;
        }
      }
      (l._loaded = null),
        (l.storageKey = "GameDisplayModeStorage"),
        setTimeout(() => l.clearOldGameSettings(), 6e4);
    },
    488507: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return B;
          },
        }),
        n("222007"),
        n("70102");
      var i,
        a,
        l = n("811022"),
        s = n("398183"),
        r = n("913144"),
        o = n("115718"),
        u = n("689988"),
        d = n("49671"),
        c = n("568307"),
        f = n("703370"),
        E = n("860957"),
        h = n("901165"),
        _ = n("599110"),
        C = n("50885"),
        S = n("816454"),
        g = n("360782"),
        T = n("84970"),
        m = n("49111"),
        p = n("6791");
      let I = new l.default("OverlayUsageStatsManager");
      I.verbose = () => {};
      class A {
        increment(e) {
          ++this.actions[e];
        }
        getAnalytics(e, t) {
          let n = this.actions[p.OverlayNotificationAction.Viewed],
            i = this.actions[p.OverlayNotificationAction.Clicked];
          return 0 === n && 0 === i
            ? null
            : {
                event_uuid: t,
                notification_type: e,
                viewed_count: n,
                clicked_count: i,
              };
        }
        constructor() {
          this.actions = {
            [p.OverlayNotificationAction.Viewed]: 0,
            [p.OverlayNotificationAction.Clicked]: 0,
          };
        }
      }
      class N {
        static makeEmptyGroupAnalytics() {
          return {
            [p.OverlayNotificationGroup.Nudge]: 0,
            [p.OverlayNotificationGroup.TextChat]: 0,
            [p.OverlayNotificationGroup.VoiceCall]: 0,
            [p.OverlayNotificationGroup.Activity]: 0,
            [p.OverlayNotificationGroup.Clips]: 0,
            [p.OverlayNotificationGroup.Other]: 0,
          };
        }
        increment(e, t) {
          let n = this.groupCounters[t];
          if (null == n) {
            I.error(
              "NotificationCounter: Unknown notification action: ".concat(t)
            );
            return;
          }
          let i = (0, p.getOverlayNotificationGroup)(e);
          if (!(i in n)) {
            I.error(
              "NotificationCounter: Unknown notification action: ".concat(e)
            );
            return;
          }
          ++n[i], ++this.actionCounters[t];
          let a = this.counters[e];
          if (null == a) {
            I.error(
              "NotificationCounter: Unknown notification type: ".concat(e)
            );
            return;
          }
          a.increment(t);
        }
        getAnalytics() {
          let e = this.groupCounters[p.OverlayNotificationAction.Viewed],
            t = this.groupCounters[p.OverlayNotificationAction.Clicked];
          return {
            notices_viewed:
              this.actionCounters[p.OverlayNotificationAction.Viewed],
            notices_clicked:
              this.actionCounters[p.OverlayNotificationAction.Clicked],
            notice_nudge_viewed: e[p.OverlayNotificationGroup.Nudge],
            notice_text_chat_viewed: e[p.OverlayNotificationGroup.TextChat],
            notice_voice_call_viewed: e[p.OverlayNotificationGroup.VoiceCall],
            notice_activity_viewed: e[p.OverlayNotificationGroup.Activity],
            notice_clips_viewed: e[p.OverlayNotificationGroup.Clips],
            notice_other_viewed: e[p.OverlayNotificationGroup.Other],
            notice_nudge_clicked: t[p.OverlayNotificationGroup.Nudge],
            notice_text_chat_clicked: t[p.OverlayNotificationGroup.TextChat],
            notice_voice_call_clicked: t[p.OverlayNotificationGroup.VoiceCall],
            notice_activity_clicked: t[p.OverlayNotificationGroup.Activity],
            notice_clips_clicked: t[p.OverlayNotificationGroup.Clips],
            notice_other_clicked: t[p.OverlayNotificationGroup.Other],
          };
        }
        getCounterAnalytics(e) {
          return Object.entries(this.counters)
            .map(t => {
              let [n, i] = t;
              return i.getAnalytics(n, e);
            })
            .filter(e => null != e);
        }
        constructor() {
          (this.actionCounters = {
            [p.OverlayNotificationAction.Viewed]: 0,
            [p.OverlayNotificationAction.Clicked]: 0,
          }),
            (this.groupCounters = {
              [p.OverlayNotificationAction.Viewed]: N.makeEmptyGroupAnalytics(),
              [p.OverlayNotificationAction.Clicked]:
                N.makeEmptyGroupAnalytics(),
            }),
            (this.counters = {
              [p.OverlayNotificationType.NewsNudge]: new A(),
              [p.OverlayNotificationType.WelcomeNudge]: new A(),
              [p.OverlayNotificationType.TextChat]: new A(),
              [p.OverlayNotificationType.ActivityUserJoin]: new A(),
              [p.OverlayNotificationType.ActivityInvite]: new A(),
              [p.OverlayNotificationType.IncomingCall]: new A(),
              [p.OverlayNotificationType.GoLiveNudge]: new A(),
              [p.OverlayNotificationType.GoLiveNonVoiceNudge]: new A(),
              [p.OverlayNotificationType.OverlayCrashed]: new A(),
              [p.OverlayNotificationType.StartBroadcastNotification]: new A(),
              [p.OverlayNotificationType.ClipsReminderNotification]: new A(),
              [p.OverlayNotificationType.ClipsNotification]: new A(),
              [p.OverlayNotificationType.KeybindIndicatorsNotification]:
                new A(),
            });
        }
      }
      ((a = i || (i = {}))[(a.Voice = 0)] = "Voice"),
        (a[(a.Text = 1)] = "Text");
      class O {
        static makeEmptyAnalytics() {
          return {
            initialized: !1,
            pinnedToggledCount: 0,
            visibleDuration: new s.StopWatch(),
            pinned: !1,
          };
        }
        getByType(e) {
          return this.types[e];
        }
        getByWidget(e) {
          switch (e) {
            case m.OverlayWidgets.VOICE:
              return this.getByType(0);
            case m.OverlayWidgets.TEXT:
              return this.getByType(1);
            default:
              return null;
          }
        }
        getAnalytics() {
          let e = this.types[0],
            t = this.types[1];
          return {
            widget_voice_pin_toggle_count: e.pinnedToggledCount,
            widget_voice_visible_duration: e.visibleDuration
              .elapsed()
              .asMilliseconds(),
            widget_voice_pinned: e.pinned,
            widget_text_pin_toggle_count: t.pinnedToggledCount,
            widget_text_visible_duration: t.visibleDuration
              .elapsed()
              .asMilliseconds(),
            widget_text_pinned: t.pinned,
          };
        }
        constructor() {
          this.types = { 0: O.makeEmptyAnalytics(), 1: O.makeEmptyAnalytics() };
        }
      }
      class v {
        update() {
          let e = this.game,
            t = C.default.GetWindowFullscreenTypeByPid(
              e.pid,
              e.name,
              e.fullscreenType
            );
          if (t !== this.lastscreenType) {
            if (!(t in this.counters)) {
              I.error(
                "ScreenTypeAnalytics: Unknown screen type: ".concat(t),
                t
              );
              return;
            }
            this.counters[t].start(),
              null != this.lastscreenType &&
                this.counters[this.lastscreenType].stop(),
              (this.lastscreenType = t);
          }
        }
        getAnalytics() {
          var e, t;
          let n = e => this.counters[e].elapsed().asMilliseconds(),
            i = {
              [o.RunningProcessFullscreenType.UNKNOWN]: n(
                o.RunningProcessFullscreenType.UNKNOWN
              ),
              [o.RunningProcessFullscreenType.WINDOWED]: n(
                o.RunningProcessFullscreenType.WINDOWED
              ),
              [o.RunningProcessFullscreenType.MAXIMIZED]: n(
                o.RunningProcessFullscreenType.MAXIMIZED
              ),
              [o.RunningProcessFullscreenType.BORDERLESS_FULLSCREEN]: n(
                o.RunningProcessFullscreenType.BORDERLESS_FULLSCREEN
              ),
              [o.RunningProcessFullscreenType.FULLSCREEN]: n(
                o.RunningProcessFullscreenType.FULLSCREEN
              ),
              [o.RunningProcessFullscreenType.MINIMIZED]: n(
                o.RunningProcessFullscreenType.MINIMIZED
              ),
            },
            a = Object.entries(i).sort((e, t) => {
              let [n, i] = e,
                [a, l] = t;
              return l - i;
            })[0],
            l = parseInt(a[0], 10),
            s = isNaN(l) ? o.RunningProcessFullscreenType.UNKNOWN : l;
          isNaN(l) &&
            I.error(
              "ScreenTypeAnalytics: Unknown most used screen type: ".concat(a),
              i
            );
          let r = T.GameDisplayModeStorage.getGameDisplayMode(
            null !== (e = this.game.name) && void 0 !== e ? e : this.game.id
          );
          T.GameDisplayModeStorage.setGameDisplayMode(
            null !== (t = this.game.name) && void 0 !== t ? t : this.game.id,
            s
          );
          let u = {
            screentype_unknown_duration:
              i[o.RunningProcessFullscreenType.UNKNOWN],
            screentype_windowed_duration:
              i[o.RunningProcessFullscreenType.WINDOWED],
            screentype_maximized_duration:
              i[o.RunningProcessFullscreenType.MAXIMIZED],
            screentype_borderless_fullscreen_duration:
              i[o.RunningProcessFullscreenType.BORDERLESS_FULLSCREEN],
            screentype_fullscreen_duration:
              i[o.RunningProcessFullscreenType.FULLSCREEN],
            screentype_minimized_duration:
              i[o.RunningProcessFullscreenType.MINIMIZED],
          };
          return {
            ...u,
            screentype_global_supported_duration:
              u.screentype_windowed_duration +
              u.screentype_maximized_duration +
              u.screentype_borderless_fullscreen_duration,
            screentype_global_unsupported_duration:
              u.screentype_fullscreen_duration,
            screentype_initial:
              o.RunningProcessFullscreenType[this.game.fullscreenType],
            screentype_most_used: o.RunningProcessFullscreenType[s],
            screentype_most_used_previous:
              null == r ? null : o.RunningProcessFullscreenType[r],
            game_display_mode_is_adjustment_supported:
              C.default.GameDisplayModeIsGameSupported(this.game.name),
          };
        }
        destroy() {
          clearInterval(this.updateScreenInterval);
        }
        constructor(e) {
          (this.game = e),
            (this.counters = {
              [o.RunningProcessFullscreenType.UNKNOWN]: new s.StopWatch(),
              [o.RunningProcessFullscreenType.WINDOWED]: new s.StopWatch(),
              [o.RunningProcessFullscreenType.MAXIMIZED]: new s.StopWatch(),
              [o.RunningProcessFullscreenType.BORDERLESS_FULLSCREEN]:
                new s.StopWatch(),
              [o.RunningProcessFullscreenType.FULLSCREEN]: new s.StopWatch(),
              [o.RunningProcessFullscreenType.MINIMIZED]: new s.StopWatch(),
            }),
            (this.lastscreenType = void 0),
            this.update(),
            (this.updateScreenInterval = setInterval(() => this.update(), 1e4));
        }
      }
      class R {
        static get debug() {
          return { gamesByPid: R.gamesByPid, gamesByName: R.gamesByName };
        }
        static getGameName(e) {
          var t, n;
          return null !==
            (n = null !== (t = e.name) && void 0 !== t ? t : e.id) &&
            void 0 !== n
            ? n
            : null;
        }
        static ignoreGame(e) {
          var t;
          return null !== (t = e.isLauncher) && void 0 !== t && t;
        }
        static create(e) {
          let t = R.getGameName(e);
          if (R.ignoreGame(e) || null == t) return null;
          let n = new R({ ...e });
          return (
            (n.gameConcurrentGameCount = Object.values(R.gamesByPid).length),
            (R.gamesByPid[e.pid] = n),
            (R.gamesByName[t] = n),
            n
          );
        }
        static getByName(e) {
          return null == e ? null : R.gamesByName[e];
        }
        static getByPid(e) {
          return R.gamesByPid[e];
        }
        static async destroy(e) {
          let t = R.getGameName(e);
          if (R.ignoreGame(e) || null == t) return;
          let n = R.gamesByPid[e.pid];
          if (null != n) {
            n.screenAnalytics.destroy();
            let t = await n.getAnalytics();
            for (let e of (_.default.track(
              m.AnalyticEvents.OVERLAY_USAGE_STATS,
              t.usage
            ),
            t.notifications))
              _.default.track(
                m.AnalyticEvents.OVERLAY_USAGE_NOTIFICATION_STATS,
                e
              );
            I.verbose("OVERLAY_USAGE_STATS: ".concat(e.name), t),
              delete R.gamesByPid[e.pid];
          }
          delete R.gamesByName[t];
        }
        async getAnalytics() {
          var e, t, n, i, a, l;
          let s = {
              setting_is_enabled: E.default.enabled,
              setting_method:
                null == this.overlayStatus
                  ? null
                  : p.OverlayMethod[this.overlayStatus.overlayMethod],
              setting_display_user: h.default.getDisplayUserMode(),
              setting_display_name: h.default.getDisplayNameMode(),
              setting_avatar_size: h.default.getAvatarSizeMode(),
              setting_notification_position:
                h.default.getNotificationPositionMode(),
              setting_chat_notification:
                h.default.getTextChatNotificationMode(),
            },
            r = (0, c.getOverlayGameStatus)(this.game),
            o = {
              event_uuid: this.uuid,
              overlay_usage_stats_version: 2,
              ...this.notificationAnalytics.getAnalytics(),
              ...this.widgetAnalytics.getAnalytics(),
              ...this.screenAnalytics.getAnalytics(),
              ...s,
              overlay_status_game_enabled: r.enabled,
              overlay_status_game_source: r.source,
              game_name:
                null !== (n = this.game.name) && void 0 !== n ? n : null,
              game_id: null !== (i = this.game.id) && void 0 !== i ? i : null,
              game_elevated: this.game.elevated,
              game_is_launcher:
                null !== (a = this.game.isLauncher) && void 0 !== a && a,
              game_duration: this.gameTimer.elapsed().asMilliseconds(),
              game_focused_duration: this.gameFocusedTimer
                .elapsed()
                .asMilliseconds(),
              game_focused_change_count: this.gameFocusChangedCount,
              game_concurrent_game_count: this.gameConcurrentGameCount,
              ui_unlocked_duration: this.unlockedTimer
                .elapsed()
                .asMilliseconds(),
              ui_unlocked_count: this.uiUnlockedCount,
              ui_locked_count: this.uiLockedCount,
              soundboard_shown_duration: this.soundboardShownTimer
                .elapsed()
                .asMilliseconds(),
              soundboard_shown_count: this.soundboardShownCount,
              soundboard_keep_open_count: this.soundboardKeepOpenCount,
              hardware_display_count:
                null !==
                  (l = await (null === d.default || void 0 === d.default
                    ? void 0
                    : null === (t = d.default.hardware) || void 0 === t
                      ? void 0
                      : null === (e = t.getDisplayCount) || void 0 === e
                        ? void 0
                        : e.call(t))) && void 0 !== l
                  ? l
                  : null,
              message_ack_count: this.overlayMessageAckCount,
              message_created_count: this.overlayMessageCreateCount,
              desktop_message_ack_count: this.desktopMessageAckCount,
              desktop_message_created_count: this.desktopMessageCreateCount,
              desktop_focused_duration: this.desktopFocusedTimer
                .elapsed()
                .asMilliseconds(),
              desktop_focused_change_count: this.desktopFocusChangedCount,
              rtc_connection_duration: this.rtcConnectionTimer
                .elapsed()
                .asMilliseconds(),
              mute_toggled_count: this.muteToggledCount,
            };
          return {
            usage: o,
            notifications: this.notificationAnalytics.getCounterAnalytics(
              this.uuid
            ),
          };
        }
        setLocked(e) {
          e
            ? (this.unlockedTimer.stop(), ++this.uiLockedCount)
            : (this.unlockedTimer.start(), ++this.uiUnlockedCount);
        }
        static gameSetAllUnfocused() {
          for (let e of Object.values(R.gamesByPid)) e.gameFocusedTimer.stop();
        }
        static incrementConcurrentGameCount() {
          for (let e of Object.values(R.gamesByPid))
            ++e.gameConcurrentGameCount;
        }
        gameSetFocused(e) {
          this.gameFocusedTimer.toggle(e), e && ++this.gameFocusChangedCount;
        }
        setSoundboardShown(e, t) {
          this.soundboardShownTimer.toggle(e),
            e &&
              (++this.soundboardShownCount,
              t && ++this.soundboardKeepOpenCount);
        }
        static handleMuteToggled() {
          for (let e of Object.values(R.gamesByPid)) ++e.muteToggledCount;
        }
        static desktopSetFocused(e) {
          if (e !== R.desktopMainWindowHasFocus) {
            for (let t of Object.values(R.gamesByPid))
              ++t.desktopFocusChangedCount,
                e && t.desktopFocusedTimer.toggle(e);
            R.desktopMainWindowHasFocus = e;
          }
        }
        static desktopMessageEvent(e) {
          for (let t of Object.values(R.gamesByPid))
            switch (e) {
              case "ack":
                ++t.desktopMessageAckCount;
                break;
              case "created":
                ++t.desktopMessageCreateCount;
            }
        }
        static toggleRtcConnection(e) {
          for (let t of Object.values(R.gamesByPid))
            t.rtcConnectionTimer.toggle(e);
        }
        constructor(e) {
          (this.game = e),
            (this.uuid = crypto.randomUUID()),
            (this.notificationAnalytics = new N()),
            (this.widgetAnalytics = new O()),
            (this.uiUnlockedCount = 0),
            (this.uiLockedCount = 0),
            (this.gameFocusChangedCount = 0),
            (this.gameConcurrentGameCount = 0),
            (this.overlayMessageAckCount = 0),
            (this.overlayMessageCreateCount = 0),
            (this.gameTimer = s.StopWatch.startNew()),
            (this.gameFocusedTimer = new s.StopWatch()),
            (this.unlockedTimer = new s.StopWatch()),
            (this.rtcConnectionTimer = new s.StopWatch()),
            (this.desktopFocusedTimer = new s.StopWatch()),
            (this.desktopFocusChangedCount = 0),
            (this.desktopMessageAckCount = 0),
            (this.desktopMessageCreateCount = 0),
            (this.soundboardShownTimer = new s.StopWatch()),
            (this.soundboardShownCount = 0),
            (this.soundboardKeepOpenCount = 0),
            (this.muteToggledCount = 0),
            (this.screenAnalytics = new v(e)),
            (this.overlayStatus = c.default.getGameOverlayStatus(e)),
            R.desktopMainWindowHasFocus && this.desktopFocusedTimer.start(),
            x.hasConnection() && this.rtcConnectionTimer.start();
        }
      }
      function M(e) {
        for (let t of (I.verbose("handleRunningGamesChange", e), e.added)) {
          R.incrementConcurrentGameCount();
          let e = R.create(t);
          I.verbose("handleRunningGamesChange added", t, e);
        }
        for (let t of e.removed)
          R.destroy(t), I.verbose("handleRunningGamesChange removed", t);
      }
      function L(e) {
        let t = R.getByPid(e.pid);
        if ((I.verbose("OVERLAY_SET_UI_LOCKED", t), null == t)) {
          I.error("OVERLAY_SET_UI_LOCKED: Unable to find game", e, R.debug);
          return;
        }
        t.setLocked(e.locked);
      }
      function y(e) {
        var t;
        I.verbose("OVERLAY_NOTIFICATION_EVENT", e);
        let n = R.getByName(
          null !== (t = e.gameName) && void 0 !== t ? t : e.gameId
        );
        if (null == n) {
          I.error("OVERLAY_NOTIFICATION_EVENT: Game not found.", e, R.debug);
          return;
        }
        n.notificationAnalytics.increment(e.notificationType, e.action);
      }
      function D(e) {
        var t;
        I.verbose("OVERLAY_WIDGET_CHANGED", e);
        let n = R.getByName(
          null !== (t = e.gameName) && void 0 !== t ? t : e.gameId
        );
        if (null == n) {
          I.error("OVERLAY_WIDGET_CHANGED: Game not found", e, R.debug);
          return;
        }
        let i = n.widgetAnalytics.getByWidget(e.widgetType);
        null != i &&
          (!i.initialized && ((i.initialized = !0), (i.pinned = e.pinned)),
          i.pinned !== e.pinned && ++i.pinnedToggledCount,
          (i.pinned = e.pinned),
          i.visibleDuration.toggle(e.visible));
      }
      function P(e) {
        if (
          (I.verbose("OVERLAY_FOCUSED", e),
          R.gameSetAllUnfocused(),
          null == e.pid)
        )
          return;
        let t = R.getByPid(e.pid);
        if (null == t) {
          I.error("OVERLAY_FOCUSED: Game not found", e, R.debug);
          return;
        }
        t.gameSetFocused(!0);
      }
      function w(e) {
        var t;
        I.verbose("SOUNDBOARD_SET_OVERLAY_ENABLED", e);
        let n = R.getByPid(e.pid);
        if (null == n) {
          I.error("SOUNDBOARD_SET_OVERLAY_ENABLED: Game not found", e, R.debug);
          return;
        }
        n.setSoundboardShown(
          e.enabled,
          !!e.enabled && null !== (t = e.keepOpen) && void 0 !== t && t
        );
      }
      function U(e) {
        var t;
        I.verbose("OVERLAY_MESSAGE_EVENT_ACTION", e);
        let n = R.getByName(
          null !== (t = e.gameName) && void 0 !== t ? t : e.gameId
        );
        if (null == n) {
          I.error("OVERLAY_MESSAGE_EVENT_ACTION: Game not found", e, R.debug);
          return;
        }
        switch (e.eventType) {
          case "ack":
            ++n.overlayMessageAckCount;
            break;
          case "create":
            ++n.overlayMessageCreateCount;
        }
      }
      function b(e) {
        I.verbose("MESSAGE_ACKED", e), R.desktopMessageEvent("ack");
      }
      function F(e) {
        e.message.state === m.MessageStates.SENDING &&
          R.desktopMessageEvent("created");
      }
      function G(e) {
        null != (0, g.default)() &&
          (I.verbose("AUDIO_TOGGLE_SELF_MUTE", e), R.handleMuteToggled());
      }
      function k(e) {
        I.verbose("WINDOW_FOCUS", e);
        let t = (0, S.getMainWindowId)();
        if (e.windowId !== t) {
          I.verbose("WINDOW_FOCUS: Not main window", {
            action: e,
            mainWindowId: t,
          });
          return;
        }
        R.desktopSetFocused(e.focused);
      }
      (R.gamesByPid = {}),
        (R.gamesByName = {}),
        (R.desktopMainWindowHasFocus = document.hasFocus());
      class x {
        static hasConnection() {
          return x.connections.size > 0;
        }
        static handleRTCConnectionState(e) {
          var t;
          let n =
            (null !== (t = e.channelId) && void 0 !== t ? t : "unknown") +
            e.context;
          switch (e.state) {
            case m.RTCConnectionStates.RTC_CONNECTED:
              x.connections.add(n);
              break;
            case m.RTCConnectionStates.DISCONNECTED:
              x.connections.delete(n);
          }
          let i = x.hasConnection();
          x.previousHasConnection !== i &&
            (R.toggleRtcConnection(i), (x.previousHasConnection = i));
        }
      }
      (x.connections = new Set()), (x.previousHasConnection = !1);
      class H {
        static handleMessageAcked(e) {
          I.verbose("MESSAGE_ACKED", e);
          let t = f.default.getGame();
          if (null == t) {
            I.error("Game not found.");
            return;
          }
          r.default.dispatch({
            type: "OVERLAY_MESSAGE_EVENT_ACTION",
            eventType: "ack",
            gameName: t.name,
            gameId: t.id,
          });
        }
        static handleMessageCreate(e) {
          if (e.message.state !== m.MessageStates.SENDING) return;
          I.verbose("MESSAGE_CREATE", e, Error().stack);
          let t = f.default.getGame();
          if (null == t) {
            I.error("Game not found.");
            return;
          }
          r.default.dispatch({
            type: "OVERLAY_MESSAGE_EVENT_ACTION",
            eventType: "create",
            gameName: t.name,
            gameId: t.id,
          });
        }
      }
      class V extends u.default {
        constructor(...e) {
          super(...e),
            (this.actions = __OVERLAY__
              ? {
                  MESSAGE_ACKED: H.handleMessageAcked,
                  MESSAGE_CREATE: H.handleMessageCreate,
                }
              : {
                  OVERLAY_FOCUSED: P,
                  OVERLAY_NOTIFICATION_EVENT: y,
                  OVERLAY_SET_UI_LOCKED: L,
                  OVERLAY_WIDGET_CHANGED: D,
                  OVERLAY_MESSAGE_EVENT_ACTION: U,
                  RUNNING_GAMES_CHANGE: M,
                  SOUNDBOARD_SET_OVERLAY_ENABLED: w,
                  MESSAGE_ACKED: b,
                  MESSAGE_CREATE: F,
                  WINDOW_FOCUS: k,
                  RTC_CONNECTION_STATE: x.handleRTCConnectionState,
                  AUDIO_TOGGLE_SELF_MUTE: G,
                });
        }
      }
      var B = new V();
    },
    382022: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return A;
          },
        }),
        n("222007");
      var i = n("210696"),
        a = n.n(i),
        l = n("446674"),
        s = n("913144"),
        r = n("689988"),
        o = n("479732"),
        u = n("605250"),
        d = n("385976"),
        c = n("364685"),
        f = n("42203"),
        E = n("305961"),
        h = n("299039"),
        _ = n("619443");
      let C = new u.default("EntityVersionsManager");
      class S extends r.default {
        _initialize() {
          s.default.subscribe("CONNECTION_OPEN", T);
        }
        _terminate() {
          s.default.unsubscribe("CONNECTION_OPEN", T);
        }
        constructor(...e) {
          super(...e),
            (this.actions = { GUILD_CREATE: m, DELETED_ENTITY_IDS: g });
        }
      }
      function g(e) {
        var t;
        let n =
          null === (t = E.default.getGuild(e.guild_id)) || void 0 === t
            ? void 0
            : t.name;
        C.fileOnly(
          "received deleted guild entities (id: "
            .concat(e.guild_id, ", name: ")
            .concat(n, ")")
        ),
          l.default.Emitter.batched(() => {
            null != e.channels &&
              (function (e, t) {
                let n = h.default.keys(
                  f.default.getMutableBasicGuildChannelsForGuild(e)
                );
                C.fileOnly("syncChannels", {
                  channelIdsInMemory: n,
                  channelIdsFromServer: t,
                }),
                  n.forEach(n => {
                    !t.has(n) &&
                      s.default.dispatch({
                        type: "CHANNEL_DELETE",
                        channel: { guild_id: e, id: n, parent_id: void 0 },
                      });
                  });
              })(e.guild_id, new Set(e.channels)),
              null != e.roles &&
                (function (e, t) {
                  var n, i;
                  Object.keys(
                    null !==
                      (i =
                        null === (n = E.default.getGuild(e)) || void 0 === n
                          ? void 0
                          : n.roles) && void 0 !== i
                      ? i
                      : {}
                  ).forEach(n => {
                    !t.has(n) &&
                      s.default.dispatch({
                        type: "GUILD_ROLE_DELETE",
                        guildId: e,
                        roleId: n,
                      });
                  });
                })(e.guild_id, new Set(e.roles)),
              null != e.emojis &&
                (function (e, t) {
                  let n = d.default.getGuildEmoji(e),
                    i = n.filter(e => t.has(e.id));
                  n.length !== i.length &&
                    s.default.dispatch({
                      type: "GUILD_EMOJIS_UPDATE",
                      guildId: e,
                      emojis: i,
                    });
                })(e.guild_id, new Set(e.emojis)),
              null != e.stickers &&
                (function (e, t) {
                  var n;
                  let i =
                      null !== (n = c.default.getStickersByGuildId(e)) &&
                      void 0 !== n
                        ? n
                        : [],
                    a = i.filter(e => t.has(e.id));
                  i.length !== a.length &&
                    s.default.dispatch({
                      type: "GUILD_STICKERS_UPDATE",
                      guildId: e,
                      stickers: a,
                    });
                })(e.guild_id, new Set(e.stickers));
          });
      }
      function T() {
        o.default.getAll().then(e => {
          e.forEach(e => p(e));
        });
      }
      function m(e) {
        let { guild: t } = e;
        t.unableToSyncDeletes && p(t.id);
      }
      function p(e) {
        setTimeout(
          () =>
            (function (e) {
              var t, n, i, a, l;
              let s =
                null === (t = E.default.getGuild(e)) || void 0 === t
                  ? void 0
                  : t.name;
              C.fileOnly(
                "requesting deleted guild entities (id: "
                  .concat(e, ", name: ")
                  .concat(s, ")")
              );
              let r = I(
                  Object.keys(f.default.getMutableBasicGuildChannelsForGuild(e))
                ),
                o = I(
                  Object.keys(
                    null !==
                      (a =
                        null === (n = E.default.getGuild(e)) || void 0 === n
                          ? void 0
                          : n.roles) && void 0 !== a
                      ? a
                      : {}
                  )
                ),
                u = I(d.default.getGuildEmoji(e).map(e => e.id)),
                h = I(
                  null !==
                    (l =
                      null === (i = c.default.getStickersByGuildId(e)) ||
                      void 0 === i
                        ? void 0
                        : i.map(e => e.id)) && void 0 !== l
                    ? l
                    : []
                );
              _.default
                .getSocket()
                .getDeletedEntityIdsNotMatchingHash(e, r, o, u, h);
            })(e),
          Math.ceil(2e3 * Math.random())
        );
      }
      function I(e) {
        return a.v3(e.sort().join(",")).toString();
      }
      var A = new S();
    },
    451772: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return I;
          },
        }),
        n("222007");
      var i = n("862337"),
        a = n("913144"),
        l = n("990766"),
        s = n("373469"),
        r = n("271938"),
        o = n("42203"),
        u = n("590401"),
        d = n("18494"),
        c = n("205817"),
        f = n("718517"),
        E = n("374014"),
        h = n("49111");
      let _ = new i.Timeout(),
        C = new i.Timeout(),
        S = 5 * f.default.Millis.SECOND,
        g = 12 * f.default.Millis.SECOND,
        T = null;
      function m(e, t) {
        if (d.default.getVoiceChannelId() !== e) return !1;
        let n = o.default.getChannel(e);
        if (null == n || (!n.isDM() && !n.isGuildStageVoice())) return !1;
        let i = s.default.getActiveStreamForUser(t, n.getGuildId());
        if (null != i) return !1;
        let a = s.default.getStreamForUser(t, n.getGuildId());
        if (null == a) return !1;
        let r = (0, E.encodeStreamKey)(a);
        return r !== T && ((T = r), (0, l.watchStream)(a, { noFocus: !0 }), !0);
      }
      function p(e, t) {
        let n = null != t ? t : u.default.getPreferredRegion();
        null != n &&
          n !==
            u.default.getRegion(
              c.default.getHostname(c.default.getActiveStreamKey())
            ) &&
          (0, l.changeStreamRegion)(e, n);
      }
      var I = {
        init() {
          let e = (e, t) => {
            !c.default.getAllActiveStreamKeys().includes(e) &&
              C.start(t ? g : S, () => {
                a.default.dispatch({ type: "STREAM_TIMED_OUT", streamKey: e });
              });
          };
          a.default.subscribe("STREAM_WATCH", t => {
            let { streamKey: n } = t,
              { channelId: i } = (0, E.decodeStreamKey)(n),
              a = o.default.getChannel(i);
            e(n, null == a ? void 0 : a.isGuildStageVoice());
          }),
            a.default.subscribe("STREAM_START", t => {
              let { streamType: n, guildId: i, channelId: a } = t,
                l = o.default.getChannel(a);
              e(
                (0, E.encodeStreamKey)({
                  streamType: n,
                  guildId: i,
                  channelId: a,
                  ownerId: r.default.getId(),
                }),
                null == l ? void 0 : l.isGuildStageVoice()
              );
            }),
            a.default.subscribe("STREAM_CREATE", () => {
              C.stop();
            }),
            a.default.subscribe("STREAM_UPDATE", () => {
              C.stop();
            }),
            a.default.subscribe("STREAM_DELETE", () => {
              C.stop();
            }),
            a.default.subscribe("STREAM_CLOSE", () => {
              _.stop(), C.stop();
            }),
            a.default.subscribe("VOICE_CHANNEL_SELECT", e => {
              let { channelId: t } = e;
              if (null == t) return;
              T = null;
              let n = s.default
                .getAllApplicationStreamsForChannel(t)
                .filter(e => {
                  let { ownerId: t } = e;
                  return t !== r.default.getId();
                })[0];
              null != n && m(t, n.ownerId);
            }),
            a.default.subscribe("VOICE_STATE_UPDATES", e => {
              let { voiceStates: t } = e;
              t.forEach(e => {
                let { userId: t, channelId: n, guildId: i, selfStream: a } = e;
                if (t !== r.default.getId() && null != n) {
                  if (a && m(n, t)) return;
                  let e = s.default.getActiveStreamForUser(t, i);
                  if (
                    null != e &&
                    e.channelId === n &&
                    (!a &&
                      e.state !== h.ApplicationStreamStates.ENDED &&
                      _.start(18e4, () =>
                        (0, l.closeStream)((0, E.encodeStreamKey)(e), !1)
                      ),
                    a && e.state === h.ApplicationStreamStates.ENDED)
                  ) {
                    _.stop();
                    let e = s.default.getStreamForUser(t, i);
                    if (null == e) return;
                    (0, l.watchStream)(e);
                  }
                }
              });
            }),
            a.default.subscribe("CALL_UPDATE", e => {
              let { channelId: t, region: n } = e,
                i = s.default.getCurrentUserActiveStream();
              (null == i ? void 0 : i.channelId) === t &&
                p((0, E.encodeStreamKey)(i), n);
            }),
            a.default.subscribe("CHANNEL_UPDATES", e => {
              let { channels: t } = e,
                n = s.default.getCurrentUserActiveStream();
              if (null != n)
                for (let e of t)
                  n.channelId === e.id &&
                    p((0, E.encodeStreamKey)(n), e.rtcRegion);
            });
        },
      };
    },
    643130: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return p;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("917351"),
        l = n("77078"),
        s = n("913144"),
        r = n("629109"),
        o = n("990766"),
        u = n("845579"),
        d = n("373469"),
        c = n("271938"),
        f = n("525065"),
        E = n("945956"),
        h = n("697218"),
        _ = n("451772"),
        C = n("374014"),
        S = n("16916"),
        g = n("706530"),
        T = n("49111");
      let m = (0, a.debounce)(o.notifyStreamStart, 1e3);
      var p = {
        init() {
          _.default.init(),
            s.default.subscribe("MEDIA_ENGINE_VIDEO_STATE_CHANGED", e => {
              let { videoState: t } = e,
                n = d.default.getCurrentUserActiveStream();
              if (null != n) {
                let e = t === T.MediaEngineVideoStates.PAUSED;
                (0, o.setStreamPaused)(n, e);
              }
            }),
            s.default.subscribe("STREAM_DELETE", e => {
              e.reason === T.ApplicationStreamDeleteReasons.STREAM_FULL &&
                ((0, o.closeStream)(e.streamKey, !1),
                (0, l.openModalLazy)(async () => {
                  let { default: e } = await n
                    .el("748168")
                    .then(n.bind(n, "748168"));
                  return t => (0, i.jsx)(e, { ...t });
                }));
            }),
            s.default.subscribe("STREAM_WATCH", e => {
              let { streamKey: t, allowMultiple: n } = e;
              if (n) return;
              let i = (0, C.decodeStreamKey)(t);
              d.default.getAllActiveStreams().forEach(e => {
                if (e.ownerId !== i.ownerId)
                  e.ownerId !== c.default.getId() &&
                    (e.ownerId === c.default.getId() &&
                      r.default.setGoLiveSource(null),
                    (0, o.closeStream)((0, C.encodeStreamKey)(e), !1));
              });
            }),
            s.default.subscribe("VOICE_STATE_UPDATES", e => {
              let { voiceStates: t } = e;
              t.forEach(e => {
                let { userId: t } = e;
                if (t !== c.default.getId()) return;
                let n = d.default.getAllActiveStreams(),
                  i = E.default.getChannelId();
                n.forEach(e => {
                  e.channelId !== i && (0, S.default)(e, !1);
                });
              });
            }),
            s.default.subscribe("STREAM_CREATE", e => {
              var t;
              let { streamKey: n } = e,
                { ownerId: i, guildId: a } = (0, C.decodeStreamKey)(n);
              if (
                null == a ||
                null == i ||
                i !==
                  (null === (t = h.default.getCurrentUser()) || void 0 === t
                    ? void 0
                    : t.id)
              )
                return;
              let l = f.default.getMemberCount(a);
              null != l &&
                !(l < 2) &&
                !(l > g.STREAM_NOTIFY_GUILD_MAX_SIZE) &&
                u.NotifyFriendsOnGoLive.getSetting() &&
                m(n);
            });
        },
      };
    },
    129040: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          GUEST_INVITE_KEY: function () {
            return d;
          },
          default: function () {
            return f;
          },
        }),
        n("222007");
      var i = n("444095"),
        a = n("913144"),
        l = n("970728"),
        s = n("689988"),
        r = n("271938"),
        o = n("773336"),
        u = n("49111");
      let d = "guestInviteToAccept";
      class c extends s.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => this.handleConnectionOpen(),
            }),
            (this.handleConnectionOpen = async () => {
              if ((0, o.isWeb)()) {
                let e = i.default.get(d);
                if (
                  null != e &&
                  "string" == typeof e &&
                  r.default.isAuthenticated()
                ) {
                  let { invite: t } = await l.default.resolveInvite(
                    e,
                    "Desktop Modal"
                  );
                  null != t &&
                    (a.default.dispatch({
                      type: "INVITE_MODAL_OPEN",
                      invite: t,
                      code: e,
                      context: u.AppContext.APP,
                    }),
                    i.default.remove(d));
                }
              }
            });
        }
      }
      var f = new c();
    },
    689226: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          getRoleIconData: function () {
            return c;
          },
          replaceRoleIconSourceSize: function () {
            return f;
          },
          isRoleIconAssetUrl: function () {
            return h;
          },
          canGuildUseRoleIcons: function () {
            return _;
          },
        }),
        n("781738");
      var i = n("867805"),
        a = n("407063"),
        l = n("315102"),
        s = n("773336"),
        r = n("49111");
      let o = ""
          .concat(location.protocol, "//")
          .concat(window.GLOBAL_ENV.CDN_HOST, "/role-icons"),
        u = "".concat(location.protocol).concat(window.GLOBAL_ENV.API_ENDPOINT),
        d = (0, s.isAndroid)(),
        c = (e, t) => {
          if (null == e) return null;
          let n =
            null != e.unicodeEmoji
              ? i.default.getByName(
                  i.default.convertSurrogateToName(e.unicodeEmoji, !1)
                )
              : void 0;
          return {
            customIconSrc: E(e, t),
            unicodeEmoji: null != n ? n : void 0,
          };
        },
        f = (e, t) =>
          e.replace(
            /size=[0-9]+/g,
            "size=".concat(
              (0, a.getBestMediaProxySize)(t * (0, a.getDevicePixelRatio)())
            )
          ),
        E = (e, t) => {
          let { id: n, icon: i } = e;
          if (null == i) return;
          if (i.startsWith("data:")) return i;
          let s = l.SUPPORTS_WEBP ? "webp" : "png",
            c = "",
            f = "quality=lossless";
          return (null != t &&
            ((c =
              "size=" +
              (0, a.getBestMediaProxySize)(t * (0, a.getDevicePixelRatio)())),
            (f = d ? "" : "&" + f)),
          null != window.GLOBAL_ENV.CDN_HOST)
            ? ""
                .concat(o, "/")
                .concat(n, "/")
                .concat(i, ".")
                .concat(s, "?")
                .concat(c)
                .concat(f)
            : "".concat(u).concat(r.Endpoints.ROLE_ICON(n, i), "?").concat(c);
        },
        h = e =>
          e.startsWith(o) ||
          (e.startsWith("".concat(u, "/roles")) && e.includes("/icons/")),
        _ = (e, t) => {
          var n;
          let i =
            (null == t
              ? void 0
              : null === (n = t.tags) || void 0 === n
                ? void 0
                : n.subscription_listing_id) != null;
          return i || e.features.has(r.GuildFeatures.ROLE_ICONS);
        };
    },
    435123: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          shouldFetchGuildFeed: function () {
            return r;
          },
          default: function () {
            return o;
          },
        });
      var i = n("884691"),
        a = n("446674"),
        l = n("713810"),
        s = n("185014");
      function r(e, t) {
        let n = s.default.getLastFetchedMillis(e);
        if (!t && null != n && Date.now() - n < 72e5) return !1;
        let { loading: i } = s.default.getFetchStatus(e);
        return i === s.LoadingStatus.NONE && !0;
      }
      function o(e) {
        let { guildId: t, highlightedItemData: n } = e,
          { loading: o, error: u } = (0, a.useStateFromStores)(
            [s.default],
            () => s.default.getFetchStatus(t),
            [t]
          ),
          d = i.useCallback(
            e => {
              let { force: i, flushSeenItems: a } = e;
              async function s() {
                try {
                  await (0, l.fetchGuildFeed)({
                    guildId: t,
                    flushSeenItems: a,
                    refresh: !0,
                    highlightedItemData: n,
                  });
                } catch (e) {
                  console.error(e);
                }
              }
              r(t, null != i && i) && s();
            },
            [t, n]
          ),
          c = i.useCallback(() => {
            r(t, !0) && e();
            async function e() {
              try {
                await (0, l.fetchGuildFeed)({ guildId: t, refresh: !1 });
              } catch (e) {
                console.error(e);
              }
            }
          }, [t]);
        return (
          i.useEffect(() => {
            d({ force: null != n });
          }, [d, n]),
          { fetchFresh: d, fetchPage: c, loading: o, error: u }
        );
      }
    },
    558130: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          MAX_STORED_MESSAGES: function () {
            return d;
          },
          default: function () {
            return T;
          },
        }),
        n("424973"),
        n("222007"),
        n("808653");
      var i = n("917351"),
        a = n.n(i),
        l = n("446674"),
        s = n("913144"),
        r = n("42203");
      n("162771");
      var o = n("299039"),
        u = n("724210");
      let d = 26,
        c = {},
        f = {},
        E = {},
        h = {};
      function _(e) {
        let t = f[e];
        if (null == t) return;
        let n = o.default.fromTimestamp(Date.now() - 9e5),
          i = a.findIndex(t, e => o.default.compare(e.id, n) > 0);
        if (-1 === i) f[e] = [];
        else {
          let n = Math.max(i, t.length - d);
          f[e] = a.slice(t, n);
        }
        E[e] = Date.now();
      }
      function C(e, t, n, i) {
        c[e].add(t);
        let a = E[t];
        (null == a || a + 3e5 > Date.now()) && _(t),
          null == f[t] && (f[t] = []),
          f[t].push({ id: n, userId: i });
      }
      function S(e) {
        let { channel: t } = e;
        delete f[t.id], delete E[t.id];
      }
      class g extends l.default.Store {
        getActiveChannelsFetchStatus(e) {
          return h[e];
        }
        getActiveChannelIds(e) {
          return c[e];
        }
        getChannelMessageData(e) {
          return f[e];
        }
        shouldFetch(e) {
          var t;
          return (
            null == c[e] &&
            !(null === (t = h[e]) || void 0 === t ? void 0 : t.loading)
          );
        }
      }
      g.displayName = "ActiveChannelsStore";
      var T = new g(s.default, {
        CHANNEL_SELECT: function (e) {
          let { channelId: t, guildId: n } = e;
          if (!(0, u.isGuildHomeChannel)(t) || null == n) return !1;
          let i = c[n];
          if (null == i) return !1;
          i.forEach(e => {
            var t;
            _(e),
              (null === (t = f[e]) || void 0 === t ? void 0 : t.length) === 0 &&
                delete f[e];
          });
          let l = a
            .chain(Array.from(i))
            .filter(e => e in f)
            .sortBy(e => {
              var t, n;
              return -(null !==
                (n = null === (t = f[e]) || void 0 === t ? void 0 : t.length) &&
              void 0 !== n
                ? n
                : 0);
            })
            .value();
          c[n] = new Set(l);
        },
        MESSAGE_CREATE: function (e) {
          var t;
          let {
            channelId: n,
            message: i,
            optimistic: a,
            isPushNotification: l,
          } = e;
          if (a || l) return !1;
          let s = r.default.getChannel(n);
          if (null == s) return !1;
          let o = s.guild_id;
          if (null == o || null == c[o]) return !1;
          C(
            o,
            n,
            i.id,
            null === (t = i.author) || void 0 === t ? void 0 : t.id
          );
        },
        GUILD_DELETE: function (e) {
          let { guild: t } = e;
          delete c[t.id];
        },
        CHANNEL_DELETE: S,
        THREAD_DELETE: S,
        ACTIVE_CHANNELS_FETCH_START: function (e) {
          let { guildId: t } = e;
          h[t] = { loading: !0, error: null, fetchedAt: Date.now() };
        },
        ACTIVE_CHANNELS_FETCH_SUCCESS: function (e) {
          let { guildId: t, channels: n } = e;
          (h[t] = { loading: !1, error: null, fetchedAt: Date.now() }),
            (c[t] = new Set()),
            n.forEach(e => {
              let { channel_id: n, messages: i } = e;
              i.forEach(e => {
                C(t, n, e.message_id, e.user_id);
              });
            });
        },
        ACTIVE_CHANNELS_FETCH_FAILURE: function (e) {
          let { guildId: t, error: n } = e;
          h[t] = { loading: !1, error: n, fetchedAt: null };
        },
        CONNECTION_OPEN: function () {},
      });
    },
    168263: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return c;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("191152"),
        l = n("713810"),
        s = n("435123"),
        r = n("558130"),
        o = n("677315"),
        u = n("724210");
      class d extends i.default {
        handleChannelPreload(e) {
          let { guildId: t, channelId: n } = e;
          if (
            null == t ||
            n !== u.StaticChannelRoute.GUILD_HOME ||
            !(0, o.canSeeGuildHome)(t)
          )
            return !1;
          (0, s.shouldFetchGuildFeed)(t, !1) &&
            (0, l.fetchGuildFeed)({ guildId: t, refresh: !0 }),
            r.default.shouldFetch(t) && (0, a.fetchActiveChannels)(t);
        }
        constructor(...e) {
          super(...e),
            (this.actions = { CHANNEL_PRELOAD: this.handleChannelPreload });
        }
      }
      var c = new d();
    },
    332336: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return C;
          },
        }),
        n("222007");
      var i = n("913144"),
        a = n("689988"),
        l = n("525065"),
        s = n("299039"),
        r = n("178406");
      let o = {},
        u = {},
        d = null;
      async function c(e, t) {
        null == o[e] && (o[e] = new Set()),
          o[e].add(t),
          null == u[e] && (u[e] = Date.now()),
          E(e) && (await f(e));
      }
      function f(e) {
        if (null == o[e]) return;
        let t = Array.from(o[e]);
        (o[e] = new Set()),
          (u[e] = Date.now()),
          requestAnimationFrame(async () => {
            await i.default.dispatch({
              type: "MEMBER_SAFETY_GUILD_MEMBER_UPDATE_BATCH",
              guildId: e,
              userIds: t,
            });
          });
      }
      function E(e) {
        let t = o[e];
        if (null == t) return !1;
        let n =
            t.size >=
            (function (e) {
              var t;
              let n =
                null !== (t = l.default.getMemberCount(e)) && void 0 !== t
                  ? t
                  : 0;
              return n >= 75e3 ? 10 : 2;
            })(e),
          i = u[e];
        if (n) return !0;
        if (null == i) return !1;
        let a = Date.now() - i,
          s =
            null != i &&
            a >=
              (function (e) {
                var t;
                let n =
                  null !== (t = l.default.getMemberCount(e)) && void 0 !== t
                    ? t
                    : 0;
                return n >= 75e3 ? 5e3 : 2e3;
              })(e);
        return s;
      }
      function h(e) {
        (o[e] = new Set()), (u[e] = null);
      }
      class _ extends a.default {
        handleInitialize() {
          null == d &&
            null == d &&
            (d = setInterval(() => {
              s.default.forEachKey(o, e => {
                E(e) && f(e);
              });
            }, 1e4));
        }
        handleGuildMemberUpdate(e, t) {
          let n = r.default.isInitialized(e);
          if (n) return c(e, t);
        }
        handleGuildMemberRemove(e, t) {
          let n = r.default.isInitialized(e);
          if (n) return c(e, t);
        }
        handleGuildDelete(e) {
          let t = e.guild.id,
            n = r.default.isInitialized(t);
          n && h(t);
        }
        handleGuildMemberSearchSuccess(e) {
          let { guildId: t } = e,
            n = r.default.isInitialized(t);
          n && h(t);
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              INITIALIZE_MEMBER_SAFETY_STORE: () => this.handleInitialize(),
              GUILD_MEMBER_ADD: e =>
                this.handleGuildMemberUpdate(e.guildId, e.user.id),
              GUILD_MEMBER_UPDATE: e =>
                this.handleGuildMemberUpdate(e.guildId, e.user.id),
              GUILD_MEMBER_REMOVE: e =>
                this.handleGuildMemberRemove(e.guildId, e.user.id),
              MEMBER_SAFETY_GUILD_MEMBER_SEARCH_SUCCESS: e =>
                this.handleGuildMemberSearchSuccess(e),
            });
        }
      }
      var C = new _();
    },
    999243: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return T;
          },
        }),
        n("222007"),
        n("702976");
      var i = n("689988"),
        a = n("393414"),
        l = n("26989"),
        s = n("305961"),
        r = n("162771"),
        o = n("718517"),
        u = n("568734"),
        d = n("685829"),
        c = n("863636"),
        f = n("937692"),
        E = n("49111"),
        h = n("724210"),
        _ = n("657944");
      let C = null,
        S = null;
      class g extends i.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              GUILD_DELETE: e => this.handleGuildDelete(e),
              CHANNEL_SELECT: e => this.handleChannelSelect(e),
              POST_CONNECTION_OPEN: e => this.handleConnectionOpen(e),
            }),
            (this.handleConnectionOpen = e => {
              var t;
              null !=
                (C =
                  null !== (t = null != C ? C : r.default.getGuildId()) &&
                  void 0 !== t
                    ? t
                    : null) && this._openOnboardingIfIncomplete(C);
            }),
            (this.handleChannelSelect = e => {
              let { guildId: t, channelId: n } = e;
              if (C === t && S === n) return;
              if (
                ((C = null != t ? t : null),
                (S = null != n ? n : null),
                null == C || null == S)
              )
                return;
              let i = s.default.getGuild(t);
              null != i &&
                i.hasFeature(E.GuildFeatures.COMMUNITY) &&
                c.default.shouldFetchPrompts(C, 8 * o.default.Millis.HOUR) &&
                (0, d.loadOnboardingPrompts)(C),
                this._openOnboardingIfIncomplete(C, n);
            }),
            (this.handleGuildDelete = e => {
              let { guild: t } = e;
              (0, f.discardOnboardingPromise)(t.id);
            }),
            (this._openOnboardingIfIncomplete = async (e, t) => {
              var n, i;
              if ((0, f.isOnboardingActiveForGuild)(e)) {
                (0, a.transitionTo)(
                  E.Routes.CHANNEL(e, h.StaticChannelRoute.GUILD_ONBOARDING)
                );
                return;
              }
              let r = s.default.getGuild(e);
              if (null == r || !r.hasFeature(E.GuildFeatures.GUILD_ONBOARDING))
                return;
              let o = l.default.getSelfMember(e);
              !(
                null == o ||
                (0, u.hasFlag)(
                  null !== (n = o.flags) && void 0 !== n ? n : 0,
                  _.GuildMemberFlags.COMPLETED_ONBOARDING
                )
              ) &&
                (0, u.hasFlag)(
                  null !== (i = o.flags) && void 0 !== i ? i : 0,
                  _.GuildMemberFlags.STARTED_ONBOARDING
                ) &&
                (await (0, f.default)({ guildId: e }),
                (0, a.transitionTo)(E.Routes.CHANNEL(e, t)));
            });
        }
      }
      var T = new g();
    },
    99628: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return S;
          },
        }),
        n("222007");
      var i = n("37983");
      n("884691");
      var a = n("151426"),
        l = n("77078"),
        s = n("689988"),
        r = n("10641"),
        o = n("18494"),
        u = n("162771"),
        d = n("599110"),
        c = n("179803"),
        f = n("49111"),
        E = n("994428");
      let h = "GUILD_ONBOARDING_UPSELL_MODAL",
        _ = (e, t) => {
          if (__OVERLAY__ || null == e || null == t) return;
          let s = (0, c.shouldShowGuildOnboardingUpsell)(
            e,
            a.DismissibleContent.GUILD_ONBOARDING_UPSELL_MODAL_V2
          );
          if (!s) return;
          (0, r.requestMarkDismissibleContentAsShown)(
            a.DismissibleContent.GUILD_ONBOARDING_UPSELL_MODAL_V2
          );
          let o = function () {
            let t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : E.ContentDismissActionType.DISMISS;
            d.default.track(f.AnalyticEvents.UPSELL_CLICKED, {
              type: a.DismissibleContent[
                a.DismissibleContent.GUILD_ONBOARDING_UPSELL_MODAL_V2
              ],
              action: "dismiss",
            }),
              (0, c.dismissedGuildOnboardingUpsell)(
                e,
                a.DismissibleContent.GUILD_ONBOARDING_UPSELL_MODAL_V2
              ),
              (0, r.markDismissibleContentAsDismissed)(
                a.DismissibleContent.GUILD_ONBOARDING_UPSELL_MODAL_V2,
                { dismissAction: t }
              );
          };
          (0, l.openModalLazy)(
            async () => {
              let { default: t } = await n
                .el("790255")
                .then(n.bind(n, "790255"));
              return n =>
                (0, i.jsx)(t, {
                  ...n,
                  guildId: e,
                  onClose: e => {
                    o(e), n.onClose();
                  },
                });
            },
            {
              modalKey: h,
              onCloseRequest: () => {
                o(), (0, l.closeModal)(h);
              },
            }
          );
        };
      class C extends s.default {
        handleChannelSelect(e) {
          let { guildId: t, channelId: n } = e;
          _(t, n);
        }
        handlePostConnectionOpen() {
          let e = o.default.getCurrentlySelectedChannelId(),
            t = u.default.getGuildId();
          _(t, e);
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              CHANNEL_SELECT: this.handleChannelSelect,
              POST_CONNECTION_OPEN: this.handlePostConnectionOpen,
            });
        }
      }
      var S = new C();
    },
    902801: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return m;
          },
        }),
        n("222007"),
        n("702976");
      var i = n("37983");
      n("884691");
      var a = n("77078"),
        l = n("689988"),
        s = n("38654"),
        r = n("271938"),
        o = n("42203"),
        u = n("26989"),
        d = n("162771"),
        c = n("568734"),
        f = n("347895"),
        E = n("698882"),
        h = n("129092"),
        _ = n("675305"),
        C = n("290886"),
        S = n("363176"),
        g = n("657944");
      class T extends l.default {
        constructor(...e) {
          super(...e),
            (this.onboardingCompleteGuilds = new Set()),
            (this.actions = {
              POST_CONNECTION_OPEN: () => this.handlePostConnectionOpen(),
              GUILD_MEMBER_UPDATE: e => this.handleGuildMemberUpdate(e),
              GUILD_DELETE: e => this.handleGuildDelete(e),
              CHANNEL_SELECT: e => this.handleChannelSelect(e),
              MESSAGE_CREATE: e => this.handleMessageSend(e),
              THREAD_CREATE: e => this.handleThreadCreate(e),
            }),
            (this.handlePostConnectionOpen = () => {
              let e = d.default.getGuildId();
              null != e && this._getOrLoadOnboardingMemberActions(e);
            }),
            (this.handleGuildMemberUpdate = e => {
              let { flags: t, user: l, guildId: s } = e;
              if (l.id === r.default.getId()) {
                if (
                  !this.onboardingCompleteGuilds.has(s) &&
                  (0, c.hasFlag)(
                    null != t ? t : 0,
                    g.GuildMemberFlags.COMPLETED_HOME_ACTIONS
                  )
                ) {
                  var o, u;
                  this.onboardingCompleteGuilds.add(s);
                  let e =
                    null !==
                      (u =
                        null === (o = E.default.getNewMemberActions(s)) ||
                        void 0 === o
                          ? void 0
                          : o.length) && void 0 !== u
                      ? u
                      : 0;
                  if (0 === e) return;
                  (0, a.openModalLazy)(async () => {
                    let { default: t } = await n
                      .el("74066")
                      .then(n.bind(n, "74066"));
                    return n =>
                      (0, i.jsx)(t, {
                        ...n,
                        initialPercent: (e - 1) / e,
                        numActions: e,
                      });
                  });
                }
              }
            }),
            (this.handleGuildDelete = e => {
              let { guild: t } = e;
              this.onboardingCompleteGuilds.delete(t.id);
            }),
            (this.handleChannelSelect = async e => {
              let { guildId: t, channelId: n } = e;
              if (null == t || null == n) return;
              let { memberActions: i, completedActions: a } =
                  await this._getOrLoadOnboardingMemberActions(t),
                l = null == i ? void 0 : i.find(e => e.channelId === n);
              (null == a ? void 0 : a[n]) !== !0 &&
                null != l &&
                l.actionType === h.NewMemberActionTypes.VIEW &&
                (0, f.completeNewMemberAction)(t, n);
            }),
            (this.handleMessageSend = e => {
              var t;
              let { guildId: n, channelId: i, message: a } = e;
              if (
                null == n ||
                null == i ||
                (null === (t = a.author) || void 0 === t ? void 0 : t.id) !==
                  r.default.getId()
              )
                return;
              let l = o.default.getChannel(i);
              (null == l ? void 0 : l.isForumPost()) &&
                (null == l ? void 0 : l.parent_id) != null &&
                this._completeChatAction(n, l.parent_id),
                this._completeChatAction(n, i);
            }),
            (this.handleThreadCreate = e => {
              var t;
              let { channel: n, isNewlyCreated: i } = e;
              if (
                !!i &&
                null != n.parent_id &&
                !!(null === (t = o.default.getChannel(n.parent_id)) ||
                void 0 === t
                  ? void 0
                  : t.isForumLikeChannel())
              )
                n.ownerId === r.default.getId() &&
                  this._completeChatAction(n.guild_id, n.parent_id);
            }),
            (this._completeChatAction = async (e, t) => {
              let { memberActions: n, completedActions: i } =
                  await this._getOrLoadOnboardingMemberActions(e),
                a = null == n ? void 0 : n.find(e => e.channelId === t);
              (null == i ? void 0 : i[t]) !== !0 &&
                null != a &&
                a.actionType === h.NewMemberActionTypes.CHAT &&
                (0, f.completeNewMemberAction)(e, t);
            }),
            (this._getOrLoadOnboardingMemberActions = async e => {
              let t = (0, C.canSeeOnboardingHome)(e),
                n = s.default.isFullServerPreview(e);
              if (!t && !n) return {};
              let i = u.default.getSelfMember(e);
              if (null == i || !(0, S.getIsNewMember)(i)) return {};
              let [a, l] = await Promise.all([
                this._getOrLoadOnboardingHomeSettings(e, i),
                this._getOrLoadMemberActions(e, i),
              ]);
              return { memberActions: a, completedActions: l };
            }),
            (this._getOrLoadOnboardingHomeSettings = async (e, t) => {
              let n = E.default.getNewMemberActions(e),
                i = E.default.getIsLoading(e);
              if (!(null == n && !i && (0, S.getIsNewMember)(t))) return n;
              {
                let t = await (0, f.fetchGuildHomeSettings)(e);
                return null == t ? void 0 : t.newMemberActions;
              }
            }),
            (this._getOrLoadMemberActions = async (e, t) => {
              var n;
              let { completedActions: i, loading: a } = _.default.getState(e);
              if (
                !(
                  null == i &&
                  !a &&
                  (0, c.hasFlag)(
                    null !== (n = t.flags) && void 0 !== n ? n : 0,
                    g.GuildMemberFlags.STARTED_HOME_ACTIONS
                  )
                )
              )
                return i;
              {
                let t = await (0, f.fetchNewMemberActions)(e);
                return t;
              }
            });
        }
      }
      var m = new T();
    },
    282655: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return C;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("716241"),
        l = n("651057"),
        s = n("299285"),
        r = n("271938"),
        o = n("42203"),
        u = n("18494"),
        d = n("101125"),
        c = n("774539"),
        f = n("49111");
      async function E(e) {
        await l.default.fetchApplications(e, !1);
      }
      async function h(e) {
        if (null == e) return;
        let t = o.default.getChannel(e);
        if (
          null == t ||
          !(0, c.isVoiceUserGameActivityEnabled)("running_games_change", !1)
        )
          return;
        let n = d.default.getActivities();
        if (0 === n.length) return;
        let i = [...n]
          .filter(e => e.type === f.ActivityTypes.PLAYING && e.application_id)
          .map(e => e.application_id);
        await E([...i]);
        let l = s.default.getApplication(i[0]);
        null != l &&
          a.default.trackWithMetadata(
            f.AnalyticEvents.VOICE_CHANNEL_GAME_ACTIVITY_INDICATOR_SET,
            {
              channel_id: e,
              guild_id: t.guild_id,
              game_name: l.name,
              user_id: r.default.getId(),
            }
          );
      }
      class _ extends i.default {
        handleRunningGamesChange() {
          let e = u.default.getVoiceChannelId();
          h(e);
        }
        handleVoiceChannelSelect(e) {
          let { channelId: t } = e;
          h(t);
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              RUNNING_GAMES_CHANGE: this.handleRunningGamesChange,
              VOICE_CHANNEL_SELECT: this.handleVoiceChannelSelect,
            });
        }
      }
      var C = new _();
    },
    589636: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return u;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("704341"),
        l = n("393414"),
        s = n("49111");
      function r(e) {
        var t, n, i;
        let { guild: r } = e.invite;
        if (
          null != r &&
          (null == r
            ? void 0
            : null === (t = r.features) || void 0 === t
              ? void 0
              : t.includes(s.GuildFeatures.HUB))
        ) {
          a.default.onOpenHubInvite(e.invite);
          return;
        }
        null != r &&
          (null == r
            ? void 0
            : null === (n = r.features) || void 0 === n
              ? void 0
              : n.includes(s.GuildFeatures.MEMBER_VERIFICATION_GATE_ENABLED)) &&
          !(null == r
            ? void 0
            : null === (i = r.features) || void 0 === i
              ? void 0
              : i.includes(s.GuildFeatures.PREVIEW_ENABLED)) &&
          (0, l.transitionTo)(
            s.Routes.GUILD_MEMBER_VERIFICATION(r.id, e.invite.code)
          );
      }
      class o extends i.default {
        constructor(...e) {
          super(...e), (this.actions = { INVITE_ACCEPT_SUCCESS: r });
        }
      }
      var u = new o();
    },
    360557: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return E;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("271938"),
        l = n("42203"),
        s = n("957255"),
        r = n("800762"),
        o = n("233965"),
        u = n("699209"),
        d = n("32346"),
        c = n("49111");
      class f extends i.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              VOICE_CHANNEL_SELECT: e => this.handleVoiceChannelSelect(e),
              GUILD_MEMBER_UPDATE: e => this.handleGuildMemberUpdate(e),
              LOGOUT: () => this.handleLogout(),
            }),
            (this.handleVoiceChannelSelect = e => {
              let { channelId: t, guildId: n } = e,
                { enableHangStatus: i, setDefaultStatus: a } =
                  u.HangStatusExperiment.getCurrentConfig(
                    {
                      guildId: null != n ? n : c.EMPTY_STRING_GUILD_ID,
                      location: "HangStatusManager",
                    },
                    { autoTrackExposure: !0 }
                  );
              if (null == n && null == t) {
                this.handleDisconnectFromVoiceChannel(),
                  (this.previousVoiceChannelId = t);
                return;
              }
              if (!i || t === this.previousVoiceChannelId) return;
              if (((this.previousVoiceChannelId = t), null == n || null == t))
                return;
              let r = l.default.getChannel(t);
              if (
                null == r ||
                r.type !== c.ChannelTypes.GUILD_VOICE ||
                !s.default.can(c.Permissions.SET_VOICE_CHANNEL_STATUS, r)
              )
                return;
              let f = d.default.getCurrentHangStatus();
              if (null != f) return;
              let E = d.default.getCurrentDefaultStatus();
              if (
                (null == E ? void 0 : E.expiresAt) != null &&
                (null == E ? void 0 : E.expiresAt) >= Date.now()
              ) {
                if (
                  E.status === c.HangStatusTypes.CUSTOM &&
                  null != E.customHangStatus
                ) {
                  let { status: e, emoji: t } = E.customHangStatus;
                  (0, o.updateCustomHangStatus)(e, t);
                  return;
                }
                if (null == E.status) return;
                else {
                  (0, o.updateHangStatus)(E.status);
                  return;
                }
              }
              a && (0, o.updateHangStatus)(c.HangStatusTypes.CHILLING);
            }),
            (this.handleGuildMemberUpdate = e => {
              let { user: t, guildId: n } = e;
              if (t.id !== a.default.getId()) return;
              let i = r.default.getCurrentClientVoiceChannelId(n);
              if (null == i) return;
              let u = d.default.getCurrentHangStatus();
              if (null == u) return;
              let f = l.default.getChannel(i);
              !s.default.can(c.Permissions.SET_VOICE_CHANNEL_STATUS, f) &&
                (0, o.clearHangStatus)();
            }),
            (this.handleDisconnectFromVoiceChannel = () => {
              (0, o.clearHangStatus)();
            }),
            (this.handleLogout = () => {
              this.handleDisconnectFromVoiceChannel();
            });
        }
      }
      var E = new f();
    },
    636371: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          queueHighFive: function () {
            return a;
          },
          removeHighFive: function () {
            return l;
          },
          setHighFiveEnabled: function () {
            return s;
          },
          completeHighFive: function () {
            return r;
          },
          clearCompletedHighFive: function () {
            return o;
          },
        });
      var i = n("913144");
      function a(e, t, n) {
        i.default.dispatch({
          type: "HIGH_FIVE_QUEUE",
          userId: t,
          channelId: n,
          emoji: e,
        });
      }
      function l(e, t) {
        i.default.dispatch({
          type: "HIGH_FIVE_REMOVE",
          channelId: t,
          userId: e,
        });
      }
      function s(e) {
        i.default.dispatch({ type: "HIGH_FIVE_SET_ENABLED", enabled: e });
      }
      function r(e, t, n, a) {
        i.default.dispatch({
          type: "HIGH_FIVE_COMPLETE",
          waitingUserId: e,
          completingUserId: t,
          channelId: n,
          completingEmoji: a,
        });
      }
      function o(e, t, n) {
        i.default.dispatch({
          type: "HIGH_FIVE_COMPLETE_CLEAR",
          firstUserId: e,
          secondUserId: t,
          channelId: n,
        });
      }
    },
    536813: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return v;
          },
        }),
        n("222007");
      var i = n("917351"),
        a = n.n(i),
        l = n("862337"),
        s = n("689988"),
        r = n("271938"),
        o = n("718517"),
        u = n("709681"),
        d = n("636371"),
        c = n("170152"),
        f = n("391591");
      let E = 15 * o.default.Millis.SECOND,
        h = 15 * o.default.Millis.SECOND,
        _ = ["\uD83C\uDDE9", "\uD83C\uDDF4", "\uD83C\uDDF9", "\uD83C\uDDE6"],
        C = _.length,
        S = function (e, t) {
          let n =
            arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
          return "".concat(e, ":").concat(t, ":").concat(n);
        },
        g = new l.Timeout(),
        T = [],
        m = {},
        p = (0, u.createSound)("highfive_whistle", "highfive_whistle", 0.6),
        I = (0, u.createSound)("highfive_clap", "highfive_clap", 0.6);
      function A(e) {
        let { emoji: t, channelId: n, userId: i } = e,
          s = r.default.getId(),
          o = c.default.getEnabled();
        if (null != t) {
          if (o && (0, f.default)(t.name))
            return (function (e, t, n) {
              var i;
              let a = S(t, n);
              if (null != c.default.getWaitingHighFive(n, t)) return;
              let [s, r] =
                null !==
                  (i = Object.entries(m).find(e => {
                    let [t] = e;
                    return t !== a;
                  })) && void 0 !== i
                  ? i
                  : [];
              if (null != s && null != r)
                r.cancel(),
                  I.play(),
                  delete m[s],
                  (0, d.completeHighFive)(s.split(":")[0], t, n, e);
              else {
                (0, d.queueHighFive)(e, t, n), p.play();
                let i = new l.DelayedCall(h, () => {
                  delete m[t], (0, d.removeHighFive)(t, n);
                });
                (m[t] = i), i.delay();
              }
            })(t.name, i, n);
          i === s &&
            ((T = [...T, t.name].slice(-1 * C)),
            a.isEqual(T, _)
              ? (p.play(), g.stop(), (T = []), (0, d.setHighFiveEnabled)(!o))
              : g.start(E, () => (T = [])));
        }
      }
      function N(e) {
        let { completingUserId: t, waitingUserId: n, channelId: i } = e,
          a = S(t + n, i, !0);
        (m[a] = new l.DelayedCall(550, () => {
          delete m[a], (0, d.clearCompletedHighFive)(t, n, i);
        })),
          m[a].delay();
      }
      class O extends s.default {
        _terminate() {
          Object.values(m).forEach(e => e.cancel()), (m = {});
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              VOICE_CHANNEL_EFFECT_SEND: A,
              HIGH_FIVE_COMPLETE: N,
            });
        }
      }
      var v = new O();
    },
    858402: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          INTERACTION_IFRAME_MODAL_ANALYTICS_TYPE: function () {
            return u;
          },
          default: function () {
            return f;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("809810"),
        l = n("599110"),
        s = n("533686"),
        r = n("62355"),
        o = n("49111");
      let u = "interaction_iframe_modal";
      async function d(e) {
        let { openInteractionModal: t } = await n
          .el("394816")
          .then(n.bind(n, "394816"));
        t(e),
          l.default.track(o.AnalyticEvents.OPEN_MODAL, {
            type: "interaction_modal",
            application_id: e.application.id,
          });
      }
      class c extends i.default {
        constructor(...e) {
          super(...e),
            (this.iframeModalOpenTimeMs = void 0),
            (this.actions = {
              INTERACTION_MODAL_CREATE: e => {
                d(e);
              },
              INTERACTION_IFRAME_MODAL_CREATE: e => {
                var t;
                (this.iframeModalOpenTimeMs = Date.now()),
                  (t = e),
                  (0, r.default)(t),
                  l.default.track(o.AnalyticEvents.OPEN_MODAL, {
                    type: u,
                    application_id: t.application.id,
                  });
              },
              INTERACTION_IFRAME_MODAL_CLOSE: e => {
                !(function (e, t) {
                  let n = null != t ? Date.now() - t : void 0;
                  l.default.track(o.AnalyticEvents.MODAL_DISMISSED, {
                    type: u,
                    application_id: e.applicationId,
                    duration_open_ms: n,
                  });
                })(e, this.iframeModalOpenTimeMs),
                  (this.iframeModalOpenTimeMs = void 0);
              },
              RPC_APP_DISCONNECTED: e => {
                !(function (e) {
                  let { application: t } = e,
                    n = a.default.getIFrameModalApplicationId(),
                    i = a.default.getIFrameModalKey();
                  t.id === n && null != n && (0, s.default)(n, i);
                })(e);
              },
            });
        }
      }
      var f = new c();
    },
    533686: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return l;
          },
        });
      var i = n("77078"),
        a = n("913144");
      function l(e, t) {
        null != t && (0, i.closeModal)(t),
          a.default.dispatch({
            type: "INTERACTION_IFRAME_MODAL_CLOSE",
            applicationId: e,
          });
      }
    },
    62355: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("77078"),
        l = n("913144"),
        s = n("42203"),
        r = n("988878");
      async function o(e) {
        let t = s.default.getChannel(e.channelId),
          o = null == t ? void 0 : t.guild_id;
        if ((0, r.default)(o)) {
          let t = await (0, a.openModalLazy)(
            async () => {
              let { default: t } = await n
                .el("168984")
                .then(n.bind(n, "168984"));
              return n => (0, i.jsx)(t, { ...n, ...e });
            },
            {
              onCloseCallback: () => {
                l.default.dispatch({
                  type: "INTERACTION_IFRAME_MODAL_CLOSE",
                  applicationId: e.application.id,
                });
              },
            }
          );
          l.default.dispatch({
            type: "INTERACTION_IFRAME_MODAL_KEY_CREATE",
            modalKey: t,
          });
        }
      }
    },
    104545: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return r;
          },
        }),
        n("222007");
      var i = n("862337"),
        a = n("913144"),
        l = n("689988");
      class s extends l.default {
        _terminate() {
          this.clearErrorTimeout.stop();
        }
        constructor(...e) {
          super(...e),
            (this.clearErrorTimeout = new i.Timeout()),
            (this.actions = {
              MEDIA_ENGINE_NOISE_CANCELLATION_ERROR: () =>
                this.handleNoiseCancellationError(),
            }),
            (this.handleNoiseCancellationError = () => {
              this.clearErrorTimeout.start(3e3, () =>
                a.default.dispatch({
                  type: "MEDIA_ENGINE_NOISE_CANCELLATION_ERROR_RESET",
                })
              );
            });
        }
      }
      var r = new s();
    },
    205277: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("718517"),
        l = n("931318"),
        s = n("979268");
      class r extends i.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => this.handlePostConnectionOpen(),
            }),
            (this.handlePostConnectionOpen = () => {
              !(function e() {
                s.default.getCurrentConfig(
                  { location: "e391b1_1" },
                  { autoTrackExposure: !1 }
                ).showReminders &&
                  (0, l.fetchAndUpdateSavedMessages)().then(() =>
                    setTimeout(e, 15 * a.default.Millis.MINUTE)
                  );
              })();
            });
        }
      }
      var o = new r();
    },
    741887: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        }),
        n("222007");
      var i = n("913144"),
        a = n("689988"),
        l = n("393414"),
        s = n("718517"),
        r = n("799895"),
        o = n("979268"),
        u = n("520899"),
        d = n("49111");
      class c extends a.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => this.handlePostConnectionOpen(),
            }),
            (this.handlePostConnectionOpen = () => {
              !(function e() {
                o.default.getCurrentConfig(
                  { location: "8fe27d_1" },
                  { autoTrackExposure: !1 }
                ).showReminders &&
                  (u.default
                    .getMessageReminders()
                    .filter(e => null != e.dueAt && new Date() > e.dueAt)
                    .filter(e => !u.default.hasSentNotification(e.messageId))
                    .forEach(e => {
                      var t, n;
                      r.default.showNotification(
                        null,
                        "Overdue reminder in ".concat(e.channelSummary),
                        null !==
                          (n =
                            null !== (t = e.notes) && void 0 !== t
                              ? t
                              : e.messageSummary) && void 0 !== n
                          ? n
                          : "",
                        {
                          notif_type: "OVERDUE_MESSAGE_REMINDER",
                          notif_user_id: e.authorId,
                          message_id: e.messageId,
                          channel_id: e.channelId,
                          guild_id: e.guildId,
                        },
                        {
                          omitViewTracking: !0,
                          tag: e.messageId,
                          onClick() {
                            (0, l.transitionTo)(
                              d.Routes.CHANNEL(
                                e.guildId,
                                e.channelId,
                                e.messageId
                              )
                            );
                          },
                        }
                      ),
                        i.default.dispatch({
                          type: "MESSAGE_REMINDER_NOTIFIED",
                          messageId: e.messageId,
                        });
                    }),
                  setTimeout(() => {
                    e();
                  }, 5 * s.default.Millis.MINUTE));
              })();
            });
        }
      }
      var f = new c();
    },
    651693: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          isImageFile: function () {
            return s;
          },
          isAnimatedImageUrl: function () {
            return o;
          },
          isVideoUrl: function () {
            return d;
          },
          isVideoFile: function () {
            return c;
          },
        }),
        n("222007");
      var i = n("773336");
      let a = (e, t) => {
          if (null == e) return !1;
          let [n, i] = e.split(/\?/, 1);
          return t.test(n);
        },
        l = /\.(png|jpe?g|webp|gif|heic|heif|dng)$/i,
        s = e => null != e && l.test(e),
        r = /\.(webp|gif)$/i,
        o = e => a(e, r),
        u = (0, i.isIOS)()
          ? /\.(mp4|mov)$/i
          : ((0, i.isAndroid)(), /\.(mp4|webm|mov)$/i),
        d = e => a(e, u),
        c = e => null != e && u.test(e);
    },
    643857: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return u;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("537325"),
        l = n("894887"),
        s = n("760797"),
        r = n("49111");
      class o extends i.default {
        async handleChannelCreate(e) {
          let { channel: t } = e;
          (0, l.isEligibleForMidjourneyRedirect)(t) &&
            (await (0, l.hasRedirectedToGuild)(s.MIDJOURNEY_GUILD_ID),
            (0, a.default)(r.Routes.CHANNEL(null, t.id)));
        }
        constructor(...e) {
          super(...e),
            (this.actions = { CHANNEL_CREATE: this.handleChannelCreate });
        }
      }
      var u = new o();
    },
    583374: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          MAX_ACCOUNTS: function () {
            return i;
          },
          SWITCH_ACCOUNTS_MODAL_KEY: function () {
            return a;
          },
          MULTIACCOUNT_TOOLTIP_SEEN_KEY: function () {
            return l;
          },
        });
      let i = 5,
        a = "switch-accounts-modal",
        l = "multiaccount_cta_tooltip_seen";
    },
    131010: function (e, t, n) {
      "use strict";
      let i, a;
      n.r(t),
        n.d(t, {
          default: function () {
            return l;
          },
        });
      var l,
        s = n("171718"),
        r = n("913144"),
        o = n("689988"),
        u = n("697218"),
        d = n("599110"),
        c = n("770032"),
        f = n("49111");
      l = class extends o.default {
        _initialize() {
          r.default.subscribe("CONNECTION_OPEN", () =>
            this.handleConnectionOpen()
          ),
            this.handleConnectionOpen();
        }
        _terminate() {
          r.default.unsubscribe("CONNECTION_OPEN", () =>
            this.handleConnectionOpen()
          );
        }
        constructor({
          onSwitchStart: e,
          onSwitchSuccess: t,
          onSwitchError: n,
          onTokenSet: l,
        }) {
          super(),
            (this.actions = { LOGOUT: e => this.handleLogout(e) }),
            (this.handleConnectionOpen = () => {
              var e, t, n;
              let l = u.default.getCurrentUser();
              if (null == l) return;
              if (null != a) {
                if (a !== i) {
                  let e = c.default.getUsers(),
                    n = e.map(e => {
                      let { id: t } = e;
                      return t;
                    });
                  d.default.track(
                    f.AnalyticEvents.MULTI_ACCOUNT_SWITCH_SUCCESS,
                    { from_user_id: a, linked_user_ids: n }
                  ),
                    null === (t = this.onSwitchSuccess) ||
                      void 0 === t ||
                      t.call(this, l);
                } else
                  d.default.track(
                    f.AnalyticEvents.MULTI_ACCOUNT_SWITCH_FAILURE
                  ),
                    null === (n = this.onSwitchError) ||
                      void 0 === n ||
                      n.call(this, l);
                a = null;
              }
              i = l.id;
              let r = s.default.getToken();
              null != r && "" !== r && s.default.setToken(r, l.id),
                null === (e = this.onTokenSet) ||
                  void 0 === e ||
                  e.call(this, l);
            }),
            (this.handleLogout = e => {
              if (e.isSwitchingAccount) {
                var t;
                (a = i),
                  null === (t = this.onSwitchStart) ||
                    void 0 === t ||
                    t.call(this);
              } else s.default.removeToken(i);
              i = null;
            }),
            (this.onSwitchStart = e),
            (this.onSwitchSuccess = t),
            (this.onSwitchError = n),
            (this.onTokenSet = l);
        }
      };
    },
    995802: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          MultiAccountMobileNotificationsExperiment: function () {
            return a;
          },
        });
      var i = n("862205");
      (0, i.createExperiment)({
        kind: "user",
        id: "2022-09_mobile_account_switcher",
        label: "Mobile Account Switcher",
        defaultConfig: {
          isMultiAccountMobileEnabled: !1,
          clearCanUseMultiAccountMobile: !1,
        },
        treatments: [
          {
            id: 1,
            label: "Enable Account Switcher on Mobile",
            config: {
              isMultiAccountMobileEnabled: !0,
              clearCanUseMultiAccountMobile: !1,
            },
          },
          {
            id: 2,
            label: "Unenroll Account Switcher on Mobile and Clear Local Flag",
            config: {
              isMultiAccountMobileEnabled: !1,
              clearCanUseMultiAccountMobile: !0,
            },
          },
        ],
      });
      let a = (0, i.createExperiment)({
        kind: "user",
        id: "2022-11_mobile_account_switcher_notifications",
        label: "Mobile Account Switcher: Notifications",
        defaultConfig: { isMultiAccountMobileNotificationsEnabled: !1 },
        treatments: [
          {
            id: 1,
            label: "Enable notifications for multiple accounts",
            config: { isMultiAccountMobileNotificationsEnabled: !0 },
          },
        ],
      });
    },
    770032: function (e, t, n) {
      "use strict";
      let i, a;
      n.r(t),
        n.d(t, {
          MultiAccountTokenStatus: function () {
            return l;
          },
          default: function () {
            return g;
          },
        }),
        n("424973");
      var l,
        s,
        r = n("171718"),
        o = n("446674"),
        u = n("913144"),
        d = n("746574"),
        c = n("995802"),
        f = n("583374");
      ((s = l || (l = {}))[(s.INVALID = 0)] = "INVALID"),
        (s[(s.VALIDATING = 1)] = "VALIDATING"),
        (s[(s.VALID = 2)] = "VALID");
      let E = [],
        h = !1;
      function _(e) {
        (E = E.filter(t => {
          let { id: n } = t;
          return n !== e;
        })),
          r.default.removeToken(e);
      }
      function C(e, t) {
        let n = E.slice(),
          i = n.find(t => {
            let { id: n } = t;
            return n === e;
          });
        null != i && ((i.tokenStatus = t), (E = n));
      }
      class S extends o.default.PersistedStore {
        initialize(e) {
          if (null != e) {
            var t;
            (E = null !== (t = e.users) && void 0 !== t ? t : []),
              (a = e.canUseMultiAccountMobile);
          }
        }
        getCanUseMultiAccountMobile() {
          return a;
        }
        getState() {
          return { users: E, canUseMultiAccountMobile: a };
        }
        getUsers() {
          return E;
        }
        getValidUsers() {
          return E.filter(e => {
            let { tokenStatus: t } = e;
            return 0 !== t;
          });
        }
        getHasLoggedInAccounts() {
          return E.length > 0;
        }
        getIsValidatingUsers() {
          return E.some(e => {
            let { tokenStatus: t } = e;
            return 1 === t;
          });
        }
        get canUseMultiAccountNotifications() {
          return (
            this.getCanUseMultiAccountMobile() &&
            c.MultiAccountMobileNotificationsExperiment.getCurrentConfig(
              { location: "09e468_1" },
              { autoTrackExposure: !1 }
            ).isMultiAccountMobileNotificationsEnabled
          );
        }
        get isSwitchingAccount() {
          return h;
        }
      }
      (S.displayName = "MultiAccountStore"),
        (S.persistKey = "MultiAccountStore"),
        (S.migrations = [
          e => {
            if (null != e) {
              var t;
              return {
                users: null !== (t = e.users) && void 0 !== t ? t : [],
                canUseMultiAccountMobile: !1,
              };
            }
            return { users: [], canUseMultiAccountMobile: !1 };
          },
        ]);
      var g = new S(u.default, {
        CONNECTION_OPEN: function (e) {
          let { user: t } = e;
          (i = t.id), (h = !1);
          let n = E.slice(),
            a = n.findIndex(e => {
              let { id: n } = e;
              return n === t.id;
            });
          if (
            (a > -1
              ? ((E[a].avatar = t.avatar),
                (E[a].username = t.username),
                (E[a].discriminator = t.discriminator),
                (E[a].tokenStatus = 2))
              : n.push({
                  id: t.id,
                  avatar: t.avatar,
                  username: t.username,
                  discriminator: t.discriminator,
                  tokenStatus: 2,
                  pushSyncToken: null,
                }),
            (E = n).length > f.MAX_ACCOUNTS)
          ) {
            let e = E.splice(f.MAX_ACCOUNTS);
            e.forEach(e => {
              let { id: t } = e;
              _(t);
            });
          }
        },
        LOGOUT: function (e) {
          (h = !!e.isSwitchingAccount),
            !e.isSwitchingAccount &&
              (E = E.filter(e => {
                let { id: t } = e;
                return t !== i;
              })),
            (i = null);
        },
        MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST: e => C(e.userId, 1),
        MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS: e => C(e.userId, 2),
        MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE: e => C(e.userId, 0),
        MULTI_ACCOUNT_REMOVE_ACCOUNT: e => _(e.userId),
        MULTI_ACCOUNT_MOVE_ACCOUNT: function (e) {
          let { from: t, to: n } = e;
          E = (0, d.moveItemFromTo)(E, t, n);
        },
        CURRENT_USER_UPDATE: function (e) {
          let { user: t } = e,
            n = E.slice(),
            i = n.find(e => {
              let { id: n } = e;
              return n === t.id;
            });
          null != i &&
            ((i.avatar = t.avatar),
            (i.username = t.username),
            (i.discriminator = t.discriminator),
            (E = n));
        },
        MULTI_ACCOUNT_MOBILE_EXPERIMENT_UPDATE: function (e) {
          let { multiAccountMobileExperimentEnabled: t } = e;
          a = t;
        },
        MULTI_ACCOUNT_UPDATE_PUSH_SYNC_TOKEN: function (e) {
          let { userId: t, pushSyncToken: n } = e;
          E = E.map(e => (e.id === t ? { ...e, pushSyncToken: n } : e));
        },
        MULTI_ACCOUNT_INVALIDATE_PUSH_SYNC_TOKENS: function (e) {
          let { invalidPushSyncTokens: t } = e;
          E = E.map(e =>
            null != e.pushSyncToken && t.includes(e.pushSyncToken)
              ? { ...e, pushSyncToken: null }
              : e
          );
        },
      });
    },
    390680: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        });
      var i = n("77078"),
        a = n("229353"),
        l = n("131010"),
        s = n("583374"),
        r = n("782340"),
        o = new l.default({
          onSwitchSuccess(e) {
            setTimeout(() => {
              (0, i.showToast)(
                (0, i.createToast)(
                  r.default.Messages.SWITCH_ACCOUNTS_TOAST_LOGIN_SUCCESS.format(
                    { username: e.username }
                  ),
                  i.ToastType.SUCCESS
                )
              );
            }, 100);
          },
          onSwitchError() {
            (0, i.showToast)(
              (0, i.createToast)(
                a.SWITCH_ACCOUNTS_TOAST_LOGIN_ERROR,
                i.ToastType.FAILURE
              )
            );
          },
          onTokenSet() {
            (0, i.closeModal)(s.SWITCH_ACCOUNTS_MODAL_KEY);
          },
        });
    },
    447868: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return u;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("49671"),
        l = n("102985");
      let s = !1;
      function r() {
        var e;
        let t =
          null === a.default || void 0 === a.default
            ? void 0
            : null === (e = a.default.window) || void 0 === e
              ? void 0
              : e.setContentProtection;
        if (null == t) return;
        let n = l.default.enableContentProtection;
        n !== s && (t(n), (s = n));
      }
      class o extends i.default {
        constructor() {
          r(), super(), (this.stores = new Map().set(l.default, r));
        }
      }
      var u = new o();
    },
    234819: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        }),
        n("222007"),
        n("424973");
      var i = n("37983");
      n("884691");
      var a = n("446674"),
        l = n("77078"),
        s = n("313915"),
        r = n("603699"),
        o = n("697218"),
        u = n("983782"),
        d = n("843455"),
        c = n("619774");
      function f() {
        var e;
        let t = (0, a.useStateFromStores)(
            [s.default],
            () => s.default.isIdleStatusIndicatorEnabled
          ),
          n = (0, a.useStateFromStores)([o.default], () => {
            var e, t;
            return (
              null !==
                (t =
                  null === (e = o.default.getCurrentUser()) || void 0 === e
                    ? void 0
                    : e.isStaff()) &&
              void 0 !== t &&
              t
            );
          }),
          [f, E] = (0, a.useStateFromStoresArray)([r.default], () => [
            r.default.isIdle(),
            r.default.isAFK(),
          ]),
          h = [];
        return (
          !f && !E && h.push("ACTIVE"),
          f && h.push("IDLE"),
          E && h.push("AFK"),
          n && t
            ? (0, i.jsx)(u.default, {
                children: (0, i.jsxs)("div", {
                  className: c.container,
                  children: [
                    (0, i.jsxs)("div", {
                      className: c.status,
                      children: [
                        (0, i.jsx)(l.Status, {
                          status: h.includes("ACTIVE")
                            ? d.StatusTypes.ONLINE
                            : d.StatusTypes.IDLE,
                          className: c.statusIndicator,
                        }),
                        (0, i.jsx)(l.Text, {
                          variant: "text-md/normal",
                          children: "IDLE STATUS:",
                        }),
                        (0, i.jsx)("div", {
                          className: c.statusText,
                          children: (0, i.jsx)(l.Text, {
                            variant: "text-md/bold",
                            children: h.join(" + "),
                          }),
                        }),
                      ],
                    }),
                    f &&
                      (0, i.jsxs)(l.Text, {
                        variant: "text-md/normal",
                        children: [
                          "Idle since:",
                          " ",
                          new Date(
                            null !== (e = r.default.getIdleSince()) &&
                            void 0 !== e
                              ? e
                              : 0
                          ).toLocaleDateString(void 0, {
                            year: "numeric",
                            day: "numeric",
                            month: "numeric",
                            hour: "numeric",
                            minute: "numeric",
                            second: "numeric",
                          }),
                        ],
                      }),
                  ],
                }),
              })
            : null
        );
      }
    },
    485627: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return E;
          },
        }),
        n("222007");
      var i = n("95410"),
        a = n("689988"),
        l = n("697218"),
        s = n("553257"),
        r = n("363613"),
        o = n("42060"),
        u = n("275803"),
        d = n("935583");
      let c = "lastSawPomelo";
      class f extends a.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => this.onPostConnectionOpen(),
            }),
            (this.onPostConnectionOpen = () => {
              if (
                (function () {
                  let e = s.experiment.getCurrentConfig(
                    { location: "b9eb97_1" },
                    { autoTrackExposure: !1 }
                  ).enabled;
                  if (!e) return !1;
                  let t = l.default.getCurrentUser();
                  if (null == t || t.isPomelo() || !t.hasVerifiedEmailOrPhone())
                    return !1;
                  let n = (0, o.getForceMigration)(),
                    a = i.default.get(n ? "lastSawPomeloMigration" : c);
                  return !(null != a && Date.now() - a < 6048e5) && !0;
                })()
              ) {
                let e = u.UUOneClickExperiment.getCurrentConfig(
                    { location: "uu_one_click" },
                    { autoTrackExposure: !1 }
                  ).enabled,
                  t = (0, r.openPomeloModal)(
                    d.PomeloEntrypoints.APP_START,
                    e,
                    !1
                  );
                t && i.default.set(c, Date.now());
              }
            });
        }
      }
      var E = new f();
    },
    363613: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          openPomeloModal: function () {
            return l;
          },
        });
      var i = n("77078"),
        a = n("363861");
      function l(e) {
        let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
          n =
            !(arguments.length > 2) || void 0 === arguments[2] || arguments[2];
        return !(!n && (0, i.hasAnyModalOpen)()) && ((0, a.default)(e, t), !0);
      }
    },
    275803: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          UUOneClickExperiment: function () {
            return a;
          },
        });
      var i = n("862205");
      let a = (0, i.createExperiment)({
        kind: "user",
        id: "2023-11_uu_one_click",
        label: "Unique Username one click",
        defaultConfig: { enabled: !1 },
        treatments: [
          { id: 1, label: "Enable one click", config: { enabled: !0 } },
        ],
      });
    },
    53808: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return r;
          },
        }),
        n("222007");
      var i = n("850068"),
        a = n("689988"),
        l = n("843663");
      class s extends a.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => {
                let { enabled: e } =
                  l.LocalizedPricingPromoManagerExperiment.getCurrentConfig(
                    { location: "cd74f0_1" },
                    { autoTrackExposure: !1 }
                  );
                e && (0, i.fetchLocalizedPromo)();
              },
            });
        }
      }
      var r = new s();
    },
    606162: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return h;
          },
        }),
        n("222007");
      var i = n("850068"),
        a = n("316718"),
        l = n("689988"),
        s = n("697218"),
        r = n("160299"),
        o = n("521012"),
        u = n("437712"),
        d = n("568734"),
        c = n("719923"),
        f = n("646718");
      class E extends l.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => {
                this.maybeFetchSubscriptions(),
                  this.maybeFetchCountryCode(),
                  this.maybeFetchMostRecentSubscription();
              },
            }),
            (this.maybeFetchSubscriptions = async () => {
              let e = s.default.getCurrentUser();
              if (c.default.isPremium(e)) {
                !o.default.hasFetchedSubscriptions() &&
                  (await (0, i.fetchSubscriptions)());
                let e = o.default.getPremiumSubscription();
                (null == e ? void 0 : e.paymentSourceId) == null &&
                  !u.default.applicationIdsFetched.has(
                    f.PREMIUM_SUBSCRIPTION_APPLICATION
                  ) &&
                  (await (0, a.fetchUserEntitlementsForApplication)(
                    f.PREMIUM_SUBSCRIPTION_APPLICATION
                  ));
              }
            }),
            (this.maybeFetchMostRecentSubscription = () => {
              let e = s.default.getCurrentUser();
              null != e &&
                !c.default.isPremium(e) &&
                null != e.purchasedFlags &&
                ((0, d.hasFlag)(
                  e.purchasedFlags,
                  f.PurchasedFlags.PREMIUM_TIER_1
                ) ||
                  (0, d.hasFlag)(
                    e.purchasedFlags,
                    f.PurchasedFlags.PREMIUM_TIER_2
                  )) &&
                (0, i.fetchMostRecentSubscription)();
            }),
            (this.maybeFetchCountryCode = async () => {
              let e = s.default.getCurrentUser();
              c.default.isPremium(e) &&
                !r.default.ipCountryCodeLoaded &&
                (await this.fetchCountryCode());
            }),
            (this.fetchCountryCode = async () => {
              await (0, i.fetchIpCountryCode)();
              let e = r.default.ipCountryCode;
              null != e && (await (0, i.fetchPaymentSources)());
            });
        }
      }
      var h = new E();
    },
    182033: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return l;
          },
        });
      var i = n("862205");
      let a = (0, i.createExperiment)({
        kind: "user",
        id: "2023-09_client_theme_coachmark_reintro",
        label: "Experiment to reintroduce the client themes experiment",
        defaultConfig: { enabled: !1 },
        treatments: [
          { id: 1, label: "enable the coachmark", config: { enabled: !0 } },
        ],
      });
      var l = a;
    },
    843663: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          LocalizedPricingPromoManagerExperiment: function () {
            return a;
          },
        });
      var i = n("862205");
      let a = (0, i.createExperiment)({
        kind: "user",
        id: "2022-12_localized_pricing_promo_manager",
        label: "Localized Pricing Promo Manager",
        defaultConfig: { enabled: !1 },
        treatments: [
          {
            id: 1,
            label: "Enable Localized Pricing Promo Manager",
            config: { enabled: !0 },
          },
        ],
      });
    },
    922030: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return u;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("697218"),
        l = n("719923"),
        s = n("538620"),
        r = n("646718");
      class o extends i.default {
        onPostConnectionOpen() {
          this.maybeFetchActiveOutboundPromotions();
        }
        maybeFetchActiveOutboundPromotions() {
          let e = a.default.getCurrentUser();
          null != e &&
            l.default.isPremiumExactly(e, r.PremiumTypes.TIER_2) &&
            (0, s.fetchActiveOutboundPromotions)();
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: this.onPostConnectionOpen.bind(this),
            });
        }
      }
      var u = new o();
    },
    319405: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return T;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("374014"),
        l = n("373469"),
        s = n("271938"),
        r = n("568307"),
        o = n("718517"),
        u = n("448881"),
        d = n("374023"),
        c = n("2973"),
        f = n("227231"),
        E = n("166604");
      let h = 5 * o.default.Millis.SECOND,
        _ = 12 * o.default.Millis.HOUR,
        C = 1 * o.default.Millis.MINUTE,
        S = 30 * o.default.Millis.SECOND;
      class g extends i.default {
        maybeFetchCurrentQuests() {
          (0, d.getIsEligibleForQuests)({
            location: E.QuestsExperimentLocations.QUESTS_MANAGER,
            autoTrackExposure: !1,
          }) &&
            !c.default.isFetchingCurrentQuests &&
            (0, u.fetchCurrentQuests)();
        }
        constructor(...e) {
          super(...e),
            (this.instantiatedAt = Date.now()),
            (this.sendHeartbeatIntervalIds = new Map()),
            (this.initiateHeartbeat = e => {
              let { questId: t, streamKey: n, applicationId: i } = e;
              window.clearTimeout(this.sendHeartbeatIntervalIds.get(n));
              let a = () => {
                (null != l.default.getRTCStream(n) ||
                  l.default.getViewerIds(n).length > 0) &&
                  (0, u.sendHeartbeat)({
                    questId: t,
                    streamKey: n,
                    applicationId: i,
                  });
                let e = this.calculateHeartbeatDurationMs(i);
                this.sendHeartbeatIntervalIds.set(n, window.setTimeout(a, e));
              };
              a();
            }),
            (this.calculateHeartbeatDurationMs = e => {
              let t = c.default.quests.get(e);
              if (null == t || null == t.config || null == t.userStatus)
                return C;
              let { streamProgressSeconds: n } = t.userStatus,
                i = 60 * t.config.streamDurationRequirementMinutes;
              return i - n <= 0.1 * i ? S : C;
            }),
            (this.terminateHeartbeat = e => {
              window.clearTimeout(this.sendHeartbeatIntervalIds.get(e)),
                this.sendHeartbeatIntervalIds.delete(e);
            }),
            (this.handleEnrollmentSuccess = e => {
              let {
                  enrolledQuestUserStatus: { questId: t },
                } = e,
                n = l.default.getStreamerActiveStreamMetadata();
              if (null == n || null == n.pid) return;
              let i = r.default.getGameForPID(n.pid);
              if (null == i || null == i.id) return;
              let s = (0, f.getQuestByApplicationId)(c.default.quests, i.id);
              if (null == s || s.id !== t) return;
              let o = l.default.getCurrentUserActiveStream();
              null != o &&
                this.initiateHeartbeat({
                  streamKey: (0, a.encodeStreamKey)(o),
                  applicationId: s.config.applicationId,
                  questId: s.id,
                });
            }),
            (this.handlePostConnectionOpen = () => {
              if (0 === c.default.lastFetchedCurrentQuests)
                window.setTimeout(
                  this.maybeFetchCurrentQuests,
                  Math.floor(Math.random() * h)
                );
            }),
            (this.handleSendHeartbeatSuccess = e => {
              let { streamKey: t, userStatus: n } = e;
              null != n.completedAt && this.terminateHeartbeat(t);
            }),
            (this.handleRunningGamesChange = () => {
              !(
                this.instantiatedAt + _ > Date.now() ||
                c.default.lastFetchedCurrentQuests + _ > Date.now()
              ) && this.maybeFetchCurrentQuests();
            }),
            (this.handleStreamStart = e => {
              var t, n;
              let { streamType: i, guildId: l, channelId: o, pid: u } = e,
                d = null != u ? r.default.getGameForPID(u) : null;
              if (null == d) return;
              let E =
                null != d.id
                  ? (0, f.getQuestByApplicationId)(c.default.quests, d.id)
                  : null;
              (null == E
                ? void 0
                : null === (t = E.userStatus) || void 0 === t
                  ? void 0
                  : t.enrolledAt) != null &&
                (null == E
                  ? void 0
                  : null === (n = E.userStatus) || void 0 === n
                    ? void 0
                    : n.completedAt) == null &&
                this.initiateHeartbeat({
                  streamKey: (0, a.encodeStreamKey)({
                    streamType: i,
                    guildId: l,
                    channelId: o,
                    ownerId: s.default.getId(),
                  }),
                  applicationId: E.config.applicationId,
                  questId: E.id,
                });
            }),
            (this.handleStreamClose = e => {
              let { streamKey: t } = e;
              this.terminateHeartbeat(t);
            }),
            (this.actions = {
              QUESTS_ENROLL_SUCCESS: this.handleEnrollmentSuccess,
              QUESTS_SEND_HEARTBEAT_SUCCESS: this.handleSendHeartbeatSuccess,
              POST_CONNECTION_OPEN: this.handlePostConnectionOpen,
              RUNNING_GAMES_CHANGE: this.handleRunningGamesChange,
              STREAM_START: this.handleStreamStart,
              STREAM_CLOSE: this.handleStreamClose,
            });
        }
      }
      var T = new g();
    },
    50733: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return c;
          },
        }),
        n("222007");
      var i = n("819855"),
        a = n("689988"),
        l = n("642754"),
        s = n("49111"),
        r = n("782340");
      function o(e) {
        e.relationship.type === s.RelationshipTypes.PENDING_INCOMING &&
          (i.AccessibilityAnnouncer.announce(
            r.default.Messages.FRIEND_REQUEST_PENDING_A11Y_ANNOUNCEMENT.format({
              username: e.relationship.user.username,
            })
          ),
          l.showPendingNotification(e.relationship.user));
      }
      function u(e) {
        let { user: t } = e;
        i.AccessibilityAnnouncer.announce(
          r.default.Messages.FRIEND_REQUEST_ACCEPTED_A11Y_ANNOUNCEMENT.format({
            username: t.username,
          })
        ),
          l.showAcceptedNotification(t);
      }
      class d extends a.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              RELATIONSHIP_ADD: o,
              FRIEND_REQUEST_ACCEPTED: u,
            });
        }
      }
      var c = new d();
    },
    614818: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return i;
          },
        });
      var i = { HANDSHAKE: 0, FRAME: 1, CLOSE: 2, HELLO: 3 };
    },
    937827: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return h;
          },
        }),
        n("222007");
      var i = n("920842"),
        a = n("689988"),
        l = n("605250"),
        s = n("42887"),
        r = n("590401"),
        o = n("718517"),
        u = n("773336");
      let d = 1 * o.default.Millis.SECOND,
        c = 30 * o.default.Millis.SECOND,
        f = new l.default("RTCLatencyTestManager");
      class E extends a.default {
        _terminate() {
          null != this.refetchTimeout && clearTimeout(this.refetchTimeout);
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => this._handleConnectionOpen(),
            }),
            (this._handleTestRegionsResponse = e => {
              let t = e.map(e => e.region);
              if (r.default.shouldPerformLatencyTest(t)) {
                let n = s.default.getMediaEngine();
                n.rankRtcRegions(e)
                  .then(e => {
                    f.verbose("RTC region latency test completed: ", e),
                      (0, i.completeRTCLatencyTest)(e, t);
                  })
                  .catch(e => f.warn(e));
              } else
                f.verbose(
                  "RTC cached preferred region is ".concat(
                    r.default.getPreferredRegion()
                  )
                );
            }),
            (this._fetchAndScheduleRefetch = () => {
              (0, i.fetchRTCLatencyTestRegions)()
                .then(e => this._handleTestRegionsResponse(e.body))
                .catch(e => f.warn(e)),
                (this.refetchTimeout = setTimeout(
                  this._fetchAndScheduleRefetch,
                  360 * o.default.Millis.MINUTE
                ));
            }),
            (this._handleConnectionOpen = () => {
              u.isPlatformEmbedded &&
                !__OVERLAY__ &&
                (null != this.refetchTimeout &&
                  clearTimeout(this.refetchTimeout),
                (this.refetchTimeout = setTimeout(
                  this._fetchAndScheduleRefetch,
                  Math.floor(d + Math.random() * c)
                )));
            });
        }
      }
      var h = new E();
    },
    739362: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return s;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("751520");
      class l extends i.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              USER_SETTINGS_PROTO_UPDATE: a.refreshSearchTokens,
              I18N_LOAD_SUCCESS: a.refreshSearchTokens,
              POST_CONNECTION_OPEN: a.refreshSearchTokens,
            });
        }
      }
      var s = new l();
    },
    578165: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("42203"),
        l = n("18494"),
        s = n("821240"),
        r = n("761771"),
        o = n("537597");
      function u(e) {
        let { channelId: t } = e;
        if (
          null == t ||
          !(0, r.isEligibleForInappropriateConversationWarning)({
            location: "channel_select",
          })
        )
          return !1;
        let n = a.default.getChannel(t);
        if (null == n || !n.isDM()) return !1;
        let i = (0, s.getInappropriateConversationTakeoverForChannel)(t);
        return (
          null != i &&
          ((0, o.showTakeoverModal)({
            warningId: i.id,
            senderId: n.getRecipientId(),
            channelId: t,
          }),
          !0)
        );
      }
      function d(e) {
        let { channels: t } = e;
        if (
          !(0, r.isEligibleForInappropriateConversationWarning)({
            location: "channel_updates",
          })
        )
          return !1;
        let n = l.default.getCurrentlySelectedChannelId();
        if (null == n) return !1;
        let i = t.find(e => e.id === n);
        if (null == i) return !1;
        let a = (0, s.getInappropriateConversationTakeoverForChannel)(i.id);
        return (
          !!(null != a && i.isDM()) &&
          ((0, o.showTakeoverModal)({
            warningId: a.id,
            senderId: i.getRecipientId(),
            channelId: i.id,
          }),
          !0)
        );
      }
      class c extends i.default {
        constructor(...e) {
          super(...e),
            (this.actions = { CHANNEL_SELECT: u, CHANNEL_UPDATES: d });
        }
      }
      var f = new c();
    },
    821240: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          getInappropriateConversationTakeoverForChannel: function () {
            return a;
          },
        });
      var i = n("764828");
      function a(e) {
        let t = (function (e) {
            let t = i.default.getChannelSafetyWarnings(e);
            return t.filter(
              e =>
                e.type ===
                  i.SafetyWarningTypes.INAPPROPRIATE_CONVERSATION_TIER_1 ||
                e.type ===
                  i.SafetyWarningTypes.INAPPROPRIATE_CONVERSATION_TIER_2
            );
          })(e),
          n = t.filter(
            e =>
              e.type ===
                i.SafetyWarningTypes.INAPPROPRIATE_CONVERSATION_TIER_1 &&
              null != e.dismiss_timestamp
          );
        if (n.length > 0) return null;
        let a = t.filter(
          e =>
            e.type === i.SafetyWarningTypes.INAPPROPRIATE_CONVERSATION_TIER_1 &&
            null == e.dismiss_timestamp
        );
        return 1 === a.length ? a[0] : null;
      }
    },
    874200: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return E;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("709681");
      let l = (0, a.createSound)("vibing_wumpus", "vibing_wumpus", 0),
        s = 0,
        r = 0,
        o = null;
      function u() {
        let e = 0.2 * (r - s);
        (e > 0 && s >= r) || (e < 0 && s <= r)
          ? (clearInterval(o), 0 === r && l.stop())
          : ((s += e), (l.volume = s));
      }
      function d() {
        (r = 0), (o = setInterval(u, 100));
      }
      function c() {
        l.loop(), (r = 0.5), (o = setInterval(u, 100));
      }
      class f extends i.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              VIBING_WUMPUS_PLAY_MUSIC: c,
              VIBING_WUMPUS_STOP_MUSIC: d,
            });
        }
      }
      var E = new f();
    },
    537597: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          showTakeoverModal: function () {
            return r;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("77078"),
        l = n("892974"),
        s = n("761771");
      function r(e) {
        (0, s.isEligibleForInappropriateConversationWarning)({
          location: "takeover-modal",
        }) &&
          (0, a.openModalLazy)(
            async () => {
              let { default: t } = await n.el("33320").then(n.bind(n, "33320"));
              return n => (0, i.jsx)(t, { ...e, modalProps: n });
            },
            { backdropStyle: l.BackdropStyles.BLUR }
          );
      }
    },
    761834: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          UserSettingsManager: function () {
            return s;
          },
          default: function () {
            return r;
          },
        }),
        n("860677"),
        n("222007");
      var i = n("689988"),
        a = n("845579");
      let l = !1;
      class s extends i.default {
        maybeShowChangeLanguageToast() {}
        setVerifyTimezone() {
          l = !0;
        }
        ensureTimezoneUpdated() {
          if (!l) return;
          l = !1;
          let e = new Date().getTimezoneOffset();
          a.TimezoneOffset.getSetting() !== e &&
            setImmediate(() => a.TimezoneOffset.updateSetting(e));
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => {
                this.setVerifyTimezone(), this.maybeShowChangeLanguageToast();
              },
              OVERLAY_INITIALIZE: this.setVerifyTimezone,
              USER_SETTINGS_PROTO_UPDATE: this.ensureTimezoneUpdated,
            });
        }
      }
      var r = new s();
    },
    202014: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return u;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("271938"),
        l = n("42203"),
        s = n("78581"),
        r = n("49111");
      class o extends i.default {
        constructor(...e) {
          super(...e),
            (this.prevConnected = !1),
            (this.tempMutedChannel = null),
            (this.handleRTCConnectionState = e => {
              let { state: t, channelId: n } = e,
                i = t === r.RTCConnectionStates.RTC_CONNECTED,
                a = i && !this.prevConnected,
                o = l.default.getChannel(n),
                u = null == o ? void 0 : o.getGuildId(),
                d = this.tempMutedChannel === n;
              a &&
                null != u &&
                (d
                  ? (this.tempMutedChannel = null)
                  : (0, s.maybePlayCustomJoinSound)(u)),
                (this.prevConnected = i);
            }),
            (this.handleMute = e => {
              let { channelId: t } = e;
              this.tempMutedChannel = t;
            }),
            (this.handleVoiceStateUpdates = e => {
              let { voiceStates: t } = e,
                n = a.default.getId(),
                i = a.default.getSessionId();
              t.forEach(e => {
                let { userId: t, channelId: a, sessionId: l } = e;
                t === n && l !== i && null != a && (this.tempMutedChannel = a);
              });
            }),
            (this.actions = {
              RTC_CONNECTION_STATE: this.handleRTCConnectionState,
              SOUNDBOARD_MUTE_JOIN_SOUND: this.handleMute,
              VOICE_STATE_UPDATES: this.handleVoiceStateUpdates,
            });
        }
      }
      var u = new o();
    },
    728863: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return C;
          },
        }),
        n("222007");
      var i = n("637612"),
        a = n("819689"),
        l = n("689988"),
        s = n("271938"),
        r = n("42203"),
        o = n("377253"),
        u = n("957255"),
        d = n("18494"),
        c = n("697218"),
        f = n("923510"),
        E = n("285857"),
        h = n("49111");
      class _ extends l.default {
        handleVoiceStateUpdates(e) {
          let { voiceStates: t } = e;
          t.forEach(e => {
            let {
              channelId: t,
              userId: n,
              suppress: l,
              requestToSpeakTimestamp: _,
            } = e;
            if (
              d.default.getVoiceChannelId() !== t ||
              !l ||
              null == t ||
              n === s.default.getId()
            )
              return;
            let C = u.default.can(
              f.MODERATE_STAGE_CHANNEL_PERMISSIONS,
              r.default.getChannel(t)
            );
            if (C) {
              if (null != _) {
                let e = c.default.getUser(n);
                null != e &&
                  (0, E.sendStageRequestToSpeakEphemeralMessage)(t, e, _);
              } else {
                let e = o.default.getMessages(t),
                  l = e.findNewest(
                    e =>
                      e.type === i.MessageTypes.STAGE_RAISE_HAND &&
                      e.hasFlag(h.MessageFlags.EPHEMERAL) &&
                      e.author.id === n
                  );
                null != l && a.default.deleteMessage(t, l.id, !0);
              }
            }
          });
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              VOICE_STATE_UPDATES: this.handleVoiceStateUpdates,
            });
        }
      }
      var C = new _();
    },
    285857: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          sendStageRequestToSpeakEphemeralMessage: function () {
            return s;
          },
        });
      var i = n("913144"),
        a = n("299039"),
        l = n("49111");
      function s(e, t, n) {
        i.default.dispatch({
          type: "MESSAGE_CREATE",
          channelId: e,
          message: (function (e) {
            let {
              channelId: t,
              requesterUser: n,
              requestToSpeakTimestamp: i,
            } = e;
            return {
              id: a.default.fromTimestamp(Date.parse(i)),
              type: l.MessageTypes.STAGE_RAISE_HAND,
              flags: l.MessageFlags.EPHEMERAL,
              content: "",
              channel_id: t,
              author: n,
              attachments: [],
              embeds: [],
              pinned: !1,
              mentions: [],
              mention_channels: [],
              mention_roles: [],
              mention_everyone: !1,
              timestamp: i,
              state: l.MessageStates.SENT,
              tts: !1,
            };
          })({ channelId: e, requesterUser: t, requestToSpeakTimestamp: n }),
          optimistic: !1,
          sendMessageOptions: {},
          isPushNotification: !1,
        });
      }
    },
    569363: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          SYSTEM_USER: function () {
            return i;
          },
          URGENT_MODAL_KEY: function () {
            return a;
          },
        });
      let i = "643945264868098049",
        a = "URGENT_MESSAGE_MODAL";
    },
    684559: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return i;
          },
        });
      var i,
        a = n("327037"),
        l = n("689988"),
        s = n("42203"),
        r = n("18494"),
        o = n("697218"),
        u = n("569363"),
        d = n("49111");
      let c = !1;
      function f(e) {
        let t = o.default.getCurrentUser();
        if (null == t) return;
        let n = r.default.getChannelId(),
          i = s.default.getDMFromUserId(u.SYSTEM_USER);
        if (!t.hasUrgentMessages() || i === n) return E({ channelId: n });
        !c && ((c = !0), e());
      }
      function E(e) {
        let { channelId: t } = e,
          n = o.default.getCurrentUser(),
          i = t === s.default.getDMFromUserId(u.SYSTEM_USER);
        null != n &&
          n.hasUrgentMessages() &&
          i &&
          ((c = !1), a.setFlag(d.UserFlags.HAS_UNREAD_URGENT_MESSAGES, !1));
      }
      i = class extends l.default {
        constructor(e) {
          super(),
            (this.handleShowUrgentMessageAlert = e),
            (this.actions = {
              POST_CONNECTION_OPEN: () => f(this.handleShowUrgentMessageAlert),
              MESSAGE_CREATE: () => f(this.handleShowUrgentMessageAlert),
              CHANNEL_SELECT: E,
            });
        }
      };
    },
    507331: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("77078"),
        l = n("684559"),
        s = n("569363"),
        r = n("49111"),
        o = new l.default(() =>
          (0, a.openModalLazy)(
            async () => {
              let { default: e } = await n
                .el("389366")
                .then(n.bind(n, "389366"));
              return t => (0, i.jsx)(e, { ...t });
            },
            { modalKey: s.URGENT_MODAL_KEY, onCloseRequest: r.NOOP_NULL }
          )
        );
    },
    300322: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          VoiceInThreadsExperiment: function () {
            return C;
          },
          useCanStartPublicThread: function () {
            return S;
          },
          computeCanStartPublicThread: function () {
            return g;
          },
          useCanStartPrivateThread: function () {
            return T;
          },
          useCanStartThread: function () {
            return m;
          },
          useCanViewThreadForMessage: function () {
            return I;
          },
          useHasActiveThreads: function () {
            return A;
          },
          useCanManageThread: function () {
            return N;
          },
          useCanUnarchiveThread: function () {
            return R;
          },
          canUnarchiveThread: function () {
            return M;
          },
          useIsActiveChannelOrUnarchivableThread: function () {
            return L;
          },
          getIsActiveChannelOrUnarchivableThread: function () {
            return y;
          },
          computeIsReadOnlyThread: function () {
            return D;
          },
          useIsThreadModerator: function () {
            return w;
          },
          useCanJoinThreadVoice: function () {
            return U;
          },
          useIsNonModInLockedThread: function () {
            return b;
          },
        });
      var i = n("917351"),
        a = n.n(i),
        l = n("316693"),
        s = n("446674"),
        r = n("296892"),
        o = n("889014"),
        u = n("913491"),
        d = n("233069"),
        c = n("271938"),
        f = n("42203"),
        E = n("957255"),
        h = n("401690"),
        _ = n("49111");
      let C = (0, r.default)({
        id: "2022-07_voice_in_threads",
        label: "Voice in Threads",
        kind: "guild",
        defaultConfig: { enabled: !1 },
        treatments: [{ id: 1, label: "On", config: { enabled: !0 } }],
      });
      function S(e, t) {
        let n = (0, s.useStateFromStores)(
          [E.default],
          () => {
            let t = e.isForumLikeChannel()
              ? _.Permissions.SEND_MESSAGES
              : l.default.combine(
                  _.Permissions.CREATE_PUBLIC_THREADS,
                  _.Permissions.READ_MESSAGE_HISTORY
                );
            return E.default.can(t, e);
          },
          [e]
        );
        return p(n, e, t);
      }
      function g(e, t) {
        let n = e.isForumLikeChannel()
            ? _.Permissions.SEND_MESSAGES
            : l.default.combine(
                _.Permissions.CREATE_PUBLIC_THREADS,
                _.Permissions.READ_MESSAGE_HISTORY
              ),
          i = E.default.can(n, e);
        return p(i, e, t);
      }
      function T(e) {
        let t = (0, s.useStateFromStores)(
          [E.default],
          () =>
            E.default.can(
              l.default.combine(_.Permissions.CREATE_PRIVATE_THREADS),
              e
            ),
          [e]
        );
        return e.type === _.ChannelTypes.GUILD_TEXT && p(t, e);
      }
      function m(e) {
        let t = S(e),
          n = T(e);
        return t || n;
      }
      function p(e, t, n) {
        return (
          !(
            __OVERLAY__ ||
            !e ||
            !d.THREADED_CHANNEL_TYPES.has(t.type) ||
            (null != n &&
              (n.hasFlag(_.MessageFlags.HAS_THREAD) || (0, u.default)(n)))
          ) && !0
        );
      }
      function I(e) {
        let t = (0, s.useStateFromStores)(
            [f.default],
            () => f.default.getChannel(e.id),
            [e]
          ),
          n = (0, s.useStateFromStores)(
            [E.default],
            () => E.default.can(_.Permissions.VIEW_CHANNEL, t),
            [t]
          );
        return (function (e, t, n) {
          return (
            (!!t.hasFlag(_.MessageFlags.HAS_THREAD) && null != n && !!e) || !1
          );
        })(n, e, t);
      }
      function A(e) {
        return (0, s.useStateFromStoresObject)([h.default, E.default], () => {
          let t = h.default.getActiveJoinedThreadsForParent(e.guild_id, e.id),
            n = h.default.getActiveJoinedRelevantThreadsForParent(
              e.guild_id,
              e.id
            ),
            i = h.default.getActiveUnjoinedThreadsForParent(e.guild_id, e.id),
            l = a(n).some(e =>
              E.default.can(_.Permissions.VIEW_CHANNEL, e.channel)
            ),
            s = a(t).some(
              e =>
                !(e.channel.id in n) &&
                E.default.can(_.Permissions.VIEW_CHANNEL, e.channel)
            ),
            r = a(i).some(e => E.default.can(_.Permissions.VIEW_CHANNEL, e));
          return {
            hasActiveThreads: l || s || r,
            hasMoreActiveThreads: r || s,
          };
        });
      }
      function N(e) {
        let t = (0, s.useStateFromStores)([f.default], () =>
            f.default.getChannel(null == e ? void 0 : e.parent_id)
          ),
          n = (0, s.useStateFromStores)(
            [E.default],
            () => null != t && E.default.can(_.Permissions.MANAGE_THREADS, t),
            [t]
          ),
          i = (0, s.useStateFromStores)([c.default], () => c.default.getId());
        return (
          !!(null != e && null != t && e.isThread()) &&
          (!!n || (!e.isLockedThread() && (e.ownerId === i || !1)))
        );
      }
      function O(e, t) {
        return null != e && t.can(_.Permissions.SEND_MESSAGES_IN_THREADS, e);
      }
      function v(e, t, n) {
        var i;
        return (
          !!(null != e && e.isThread()) &&
          ((null === (i = e.threadMetadata) || void 0 === i ? void 0 : i.locked)
            ? n
            : t)
        );
      }
      function R(e) {
        let t = (0, s.useStateFromStores)([E.default], () => O(e, E.default)),
          n = w(e);
        return v(e, t, n);
      }
      function M(e) {
        let t = O(e, E.default),
          n = (function (e) {
            return P(e, E.default);
          })(e);
        return v(e, t, n);
      }
      function L(e) {
        var t;
        let n = (0, s.useStateFromStores)(
          [E.default],
          () =>
            null != e &&
            E.default.can(_.Permissions.SEND_MESSAGES_IN_THREADS, e)
        );
        return (
          null != e &&
          (!e.isThread() ||
            e.isActiveThread() ||
            (e.isArchivedThread() &&
              (null === (t = e.threadMetadata) || void 0 === t
                ? void 0
                : t.locked) !== !0 &&
              n))
        );
      }
      function y(e) {
        var t;
        return (
          null != e &&
          (!e.isThread() ||
            e.isActiveThread() ||
            (e.isArchivedThread() &&
              (null === (t = e.threadMetadata) || void 0 === t
                ? void 0
                : t.locked) !== !0 &&
              E.default.can(_.Permissions.SEND_MESSAGES_IN_THREADS, e)))
        );
      }
      function D(e) {
        let t = E.default.can(_.Permissions.MANAGE_THREADS, e);
        return e.isArchivedLockedThread() && !t;
      }
      function P(e, t) {
        return null != e && t.can(_.Permissions.MANAGE_THREADS, e);
      }
      function w(e) {
        return (0, s.useStateFromStores)([E.default], () => P(e, E.default));
      }
      function U(e) {
        let t = (0, o.default)(),
          n = (0, s.useStateFromStores)([E.default], () =>
            E.default.can(_.Permissions.CONNECT, e)
          ),
          i = L(e),
          a = C.useExperiment(
            { guildId: e.guild_id, location: "e791ea_1" },
            { autoTrackExposure: !1 }
          ).enabled;
        return !t && e.isVocalThread() && a && n && i;
      }
      function b(e) {
        let t = w(e);
        return e.isLockedThread() && !t;
      }
    },
    708130: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return d;
          },
        }),
        n("222007");
      var i = n("446674"),
        a = n("913144"),
        l = n("689988"),
        s = n("404607"),
        r = n("271938"),
        o = n("42203");
      class u extends l.default {
        handleChannelDelete(e) {
          let { channel: t } = e;
          if (null != t.guild_id) {
            let e = o.default.getAllThreadsForParent(t.id);
            e.length > 0 &&
              i.default.Emitter.batched(() => {
                for (let t of e)
                  a.default.dispatch({ type: "THREAD_DELETE", channel: t });
              });
          }
        }
        handleMessageCreate(e) {
          var t, n, i;
          let { channelId: a, message: l } = e,
            u = o.default.getChannel(a);
          if (
            (null === (t = l.author) || void 0 === t ? void 0 : t.id) !==
              r.default.getId() ||
            !(null == u ? void 0 : u.isActiveThread())
          )
            return;
          let d = new Date(
              null !==
                (i =
                  null === (n = u.threadMetadata) || void 0 === n
                    ? void 0
                    : n.archiveTimestamp) && void 0 !== i
                ? i
                : 0
            ).getTime(),
            c = Date.now() - d;
          c < 5e3 && s.default.resort(u.parent_id);
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              CHANNEL_DELETE: this.handleChannelDelete,
              MESSAGE_CREATE: this.handleMessageCreate,
            });
        }
      }
      var d = new u();
    },
    801290: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return L;
          },
        }),
        n("222007");
      var i = n("917351"),
        a = n.n(i),
        l = n("938850"),
        s = n("151426"),
        r = n("95410"),
        o = n("689988"),
        u = n("700507"),
        d = n("76393"),
        c = n("235004"),
        f = n("271938"),
        E = n("42887"),
        h = n("891760"),
        _ = n("536692"),
        C = n("504385"),
        S = n("872173"),
        g = n("353927");
      let T = e => "AudioContextSettingsMigrated:".concat(e),
        m = e =>
          e === g.MediaEngineContextTypes.STREAM
            ? l.AudioSettingsDefaultVolumes.STREAM
            : l.AudioSettingsDefaultVolumes.USER;
      function p() {
        (0, h.shouldReadWriteAudioSettings)() &&
          !(function () {
            let e = r.default.get(T(f.default.getId()));
            !e &&
              S.PreloadedUserSettingsActionCreators.updateAsync(
                "audioContextSettings",
                e => {
                  let t = !1;
                  for (let [n, i] of Object.entries(
                    E.default.getState().settingsByContext
                  )) {
                    let a = (0, C.coerceAudioContextForProto)(n);
                    if (null == a) continue;
                    let l = e[a],
                      s = String(Date.now()),
                      r = {};
                    for (let [e, t] of Object.entries(i.localMutes))
                      r[e] = {
                        muted: t,
                        volume: m(n),
                        modifiedAt: s,
                        soundboardMuted: !1,
                      };
                    for (let [e, t] of Object.entries(i.localVolumes))
                      r[e] = {
                        muted: !1,
                        modifiedAt: s,
                        ...r[e],
                        volume: (0, C.snapVolumeToDefault)(t, n),
                      };
                    let o = Object.keys(l).length;
                    for (let [e, [n, i]] of Object.entries(r).entries()) {
                      let a = 300 - o - (e + 1) <= 0;
                      if (a) break;
                      null == l[n] && ((t = !0), (l[n] = i));
                    }
                  }
                  return r.default.set(T(f.default.getId()), !0), t;
                },
                S.UserSettingsDelay.AUTOMATED
              );
          })();
      }
      let I = a.debounce(() => {
          N();
        }, 2e3),
        A = a.debounce(u.remoteAudioSettingsUpdate, 500, { maxWait: 500 });
      function N() {
        S.PreloadedUserSettingsActionCreators.updateAsync(
          "audioContextSettings",
          e => {
            let t = !1;
            return (
              (0, _.drainPendingAudioSettings)((n, i, a) => {
                let l = (function (e, t, n, i) {
                  var a, l, r, o, u;
                  let d =
                      !(arguments.length > 4) ||
                      void 0 === arguments[4] ||
                      arguments[4],
                    c = (0, C.coerceAudioContextForProto)(n);
                  if (null == c) return !1;
                  let f = e[c];
                  if (
                    ((f[t] =
                      null !== (a = f[t]) && void 0 !== a
                        ? a
                        : ((l = n),
                          s.AudioContextSetting.create({
                            muted: !1,
                            volume: m(l),
                          }))),
                    i(f[t]),
                    (f[t].modifiedAt = String(Date.now())),
                    d)
                  ) {
                    (r = f),
                      (o = t),
                      (u = n),
                      r[o].volume !== m(u) ||
                        r[o].muted ||
                        r[o].soundboardMuted ||
                        delete r[o];
                  }
                  return (
                    !(function (e) {
                      let t = Object.entries(e),
                        n = t.length;
                      if (n <= 300) return;
                      let i = t.sort((e, t) => {
                          let [n, { modifiedAt: i }] = e,
                            [a, { modifiedAt: l }] = t;
                          return Number(i) - Number(l);
                        }),
                        a = n - 300;
                      for (let t = 0; t < a; t++) {
                        let [n] = i[t];
                        delete e[n];
                      }
                    })(f),
                    !0
                  );
                })(e, i, n, e => {
                  Object.assign(e, a);
                });
                t = t || l;
              }),
              t
            );
          },
          S.UserSettingsDelay.INFREQUENT_USER_ACTION
        );
      }
      function O(e) {
        var t, n, i;
        let { context: a, userId: l, volume: s } = e;
        if (l === f.default.getId() || !(0, h.shouldReadWriteAudioSettings)())
          return;
        let r = d.default.getRemoteSessionId();
        null != r &&
          A(r, l, a, { muted: E.default.isLocalMute(l, a), volume: s }),
          (t = a),
          (n = l),
          (i = s),
          (0, _.updatePendingSettings)(t, n, { volume: i }),
          I();
      }
      function v(e) {
        let { context: t, userId: n } = e;
        if (n !== f.default.getId()) {
          if ((0, h.shouldReadWriteAudioSettings)()) {
            var i, a, l;
            (i = t),
              (a = n),
              (l = E.default.isLocalMute(n, t)),
              (0, _.updatePendingSettings)(i, a, { muted: l }),
              I.cancel(),
              N();
          }
        }
      }
      function R(e) {
        let { context: t, userId: n } = e;
        if (n !== f.default.getId()) {
          if ((0, h.shouldReadWriteAudioSettings)()) {
            var i, a, l;
            (i = t),
              (a = n),
              (l = c.default.isLocalSoundboardMuted(n)),
              (0, _.updatePendingSettings)(i, a, { soundboardMuted: l }),
              I.cancel(),
              N();
          }
        }
      }
      class M extends o.default {
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: p,
              AUDIO_SET_LOCAL_VOLUME: O,
              AUDIO_TOGGLE_LOCAL_MUTE: v,
              AUDIO_TOGGLE_LOCAL_SOUNDBOARD_MUTE: R,
            });
        }
      }
      var L = new M();
    },
    679404: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return L;
          },
        }),
        n("424973"),
        n("222007");
      var i = n("917351"),
        a = n.n(i),
        l = n("713349"),
        s = n("95410"),
        r = n("689988"),
        o = n("342564"),
        u = n("605393"),
        d = n("385976"),
        c = n("469607"),
        f = n("865372"),
        E = n("319781"),
        h = n("718517"),
        _ = n("872173"),
        C = n("374363"),
        S = n("116949"),
        g = n("397336");
      let T = "lastFrecencySavedTime",
        m = Math.random() * (5 * h.default.Millis.MINUTE),
        p =
          1 * h.default.Millis.DAY +
          Math.floor(Math.random() * (1 * h.default.Millis.HOUR)),
        I = null,
        A = Date.now();
      class N extends r.default {
        _initialize() {
          _.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({
            hasChanges: () => !1,
            processProto: () => {
              M(!0);
            },
          }),
            _.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({
              hasChanges: () =>
                f.default.hasPendingUsage() &&
                C.default.hasLoaded(
                  g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                ),
              processProto: e => {
                if (!!f.default.hasPendingUsage())
                  C.default.hasLoaded(
                    g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                  ) &&
                    ((e.stickerFrecency = l.StickerFrecency.create()),
                    (e.stickerFrecency.stickers = (0, S.serializeUsageHistory)(
                      f.default.stickerFrecencyWithoutFetchingLatest
                        .usageHistory,
                      100
                    )));
              },
            }),
            _.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({
              hasChanges: () =>
                d.default.hasPendingUsage() &&
                C.default.hasLoaded(
                  g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                ),
              processProto: e => {
                if (!!d.default.hasPendingUsage())
                  C.default.hasLoaded(
                    g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                  ) &&
                    ((e.emojiFrecency = l.EmojiFrecency.create()),
                    (e.emojiFrecency.emojis = (0, S.serializeUsageHistory)(
                      d.default.emojiFrecencyWithoutFetchingLatest.usageHistory,
                      100
                    )));
              },
            }),
            _.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({
              hasChanges: () =>
                c.default.hasPendingUsage() &&
                C.default.hasLoaded(
                  g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                ),
              processProto: e => {
                if (!!c.default.hasPendingUsage())
                  C.default.hasLoaded(
                    g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                  ) &&
                    !a.isEmpty(c.default.playedSoundHistory) &&
                    ((e.playedSoundFrecency = l.PlayedSoundFrecency.create()),
                    (e.playedSoundFrecency.playedSounds = (0,
                    S.serializeUsageHistory)(
                      c.default.playedSoundHistory,
                      100
                    )));
              },
            }),
            _.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({
              hasChanges: () =>
                o.default.hasPendingUsage() &&
                C.default.hasLoaded(
                  g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                ),
              processProto: e => {
                if (!!o.default.hasPendingUsage())
                  C.default.hasLoaded(
                    g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                  ) &&
                    ((e.applicationCommandFrecency =
                      l.ApplicationCommandFrecency.create()),
                    (e.applicationCommandFrecency.applicationCommands = (0,
                    S.serializeUsageHistory)(
                      o.default.getCommandFrecencyWithoutLoadingLatest()
                        .usageHistory,
                      500
                    )));
              },
            }),
            _.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({
              hasChanges: () =>
                u.default.hasPendingUsage() &&
                C.default.hasLoaded(
                  g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                ),
              processProto: e => {
                if (!!u.default.hasPendingUsage())
                  C.default.hasLoaded(
                    g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                  ) &&
                    ((e.applicationFrecency = l.ApplicationFrecency.create()),
                    (e.applicationFrecency.applications = (0,
                    S.serializeUsageHistory)(
                      u.default.getApplicationFrecencyWithoutLoadingLatest()
                        .usageHistory,
                      u.FREQUENCY_ITEM_LIMIT
                    )));
              },
            }),
            _.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({
              hasChanges: () =>
                E.default.hasPendingUsage() &&
                C.default.hasLoaded(
                  g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                ),
              processProto: e => {
                if (!!E.default.hasPendingUsage())
                  C.default.hasLoaded(
                    g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
                  ) &&
                    ((e.guildAndChannelFrecency =
                      l.GuildAndChannelFrecency.create()),
                    (e.guildAndChannelFrecency.guildAndChannels = (0,
                    S.serializeUsageHistory)(
                      E.default.frecencyWithoutFetchingLatest.usageHistory,
                      E.MAX_NUM_SELECTED_ITEMS
                    )));
              },
            });
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              POST_CONNECTION_OPEN: O,
              CONNECTION_RESUMED: O,
              CONNECTION_CLOSED: v,
            });
        }
      }
      function O() {
        var e;
        (A = null !== (e = s.default.get(T)) && void 0 !== e ? e : Date.now()),
          M(!1);
      }
      function v() {
        clearTimeout(I), (I = null);
      }
      async function R() {
        (A = Date.now()),
          M(!0),
          !C.default.hasLoaded(
            g.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS
          ) &&
            (f.default.hasPendingUsage() ||
              d.default.hasPendingUsage() ||
              o.default.hasPendingUsage() ||
              u.default.hasPendingUsage() ||
              E.default.hasPendingUsage()) &&
            (await _.FrecencyUserSettingsActionCreators.loadIfNecessary()),
          a.forEach(_.UserSettingsActionCreatorsByType, e => {
            e.markDirtyIfHasPendingChange();
          });
      }
      function M(e) {
        e && ((A = Date.now()), s.default.set(T, A)),
          null != I && clearTimeout(I);
        let t = Date.now() - A;
        I = setTimeout(R, Math.max(m, p - t));
      }
      var L = new N();
    },
    357168: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return S;
          },
        }),
        n("222007");
      var i = n("862337"),
        a = n("819689"),
        l = n("987317"),
        s = n("689988"),
        r = n("191225"),
        o = n("42203"),
        u = n("101125"),
        d = n("800762"),
        c = n("316133"),
        f = n("782340");
      let E = 18e4;
      function h() {
        let e = d.default.getCurrentClientVoiceChannelId(null);
        if (null == e) return !1;
        let t = o.default.getChannel(e);
        if (null == t || !t.isPrivate()) return !1;
        let n = t.recipients.length;
        if (n > 1) return !1;
        let i = c.default.countVoiceStatesForChannel(e);
        if (i > 1) return !1;
        let a = r.default.getSelfEmbeddedActivityForChannel(e);
        if (null != a) return !1;
        let l = null != u.default.getBroadcast();
        return !l && !0;
      }
      function _() {
        if (!h()) return;
        let e = d.default.getCurrentClientVoiceChannelId(null);
        null != e &&
          (a.default.sendBotMessage(
            e,
            f.default.Messages.BOT_CALL_IDLE_DISCONNECT_2.format({ number: 3 })
          ),
          l.default.selectVoiceChannel(null));
      }
      class C extends s.default {
        constructor(...e) {
          super(...e),
            (this.idleTimeout = new i.Timeout()),
            (this.handleConnectionClosed = () => {
              this.idleTimeout.stop();
            }),
            (this.handleEmbeddedActivityDisconnect = () => {
              h() && this.idleTimeout.start(E, _, !0);
            }),
            (this.handleVoiceStateUpdates = () => {
              if (!h()) {
                this.idleTimeout.stop();
                return;
              }
              this.idleTimeout.start(E, _, !1);
            }),
            (this.actions = {
              VOICE_STATE_UPDATES: this.handleVoiceStateUpdates,
              CONNECTION_CLOSED: this.handleConnectionClosed,
              EMBEDDED_ACTIVITY_DISCONNECT:
                this.handleEmbeddedActivityDisconnect,
            });
        }
      }
      var S = new C();
    },
    310045: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          shouldImmediatelyRequestVoicePermissions: function () {
            return S;
          },
          default: function () {
            return T;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("928609"),
        l = n("325861"),
        s = n("808422"),
        r = n("628454"),
        o = n("271938"),
        u = n("42203"),
        d = n("42887"),
        c = n("945956"),
        f = n("850296"),
        E = n("49111"),
        h = n("180524");
      let _ = null;
      function C() {
        a.default.requestPermission(h.NativePermissionTypes.AUDIO).then(e => {
          e && (0, f.default)(!0);
        }),
          d.default.getMode() === E.InputModes.PUSH_TO_TALK &&
            a.default.requestPermission(
              h.NativePermissionTypes.INPUT_MONITORING
            );
      }
      function S(e, t) {
        var n;
        let i =
          null === (n = u.default.getChannel(t)) || void 0 === n
            ? void 0
            : n.isListenModeCapable();
        if (!i) return !0;
        let a = l.default.isSpeaker(e, t);
        return a;
      }
      class g extends i.default {
        handleVoiceChannelSelect(e) {
          let { channelId: t } = e;
          null == t && (_ = null);
        }
        handleVoiceStateUpdates(e) {
          let { voiceStates: t } = e;
          t.forEach(e => {
            let { userId: t, channelId: n } = e;
            if (null == n) return;
            let i = o.default.getId() === t;
            if (!i || null == c.default.getRTCConnectionId() || _ === n) return;
            let a = S(t, n);
            if (a) {
              (_ = n), C();
              return;
            }
            let l = (function (e) {
              let t = (0, s.getAudienceRequestToSpeakState)(e),
                n =
                  t ===
                  s.RequestToSpeakStates
                    .REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;
              return n;
            })(new r.default(e));
            l && ((_ = n), C());
          });
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              VOICE_STATE_UPDATES: this.handleVoiceStateUpdates,
              VOICE_CHANNEL_SELECT: this.handleVoiceChannelSelect,
            });
        }
      }
      var T = new g();
    },
    850296: function (e, t, n) {
      "use strict";
      function i(e) {}
      n.r(t),
        n.d(t, {
          default: function () {
            return i;
          },
        });
    },
    818766: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          sendVoiceChannelActivityNotification: function () {
            return l;
          },
        });
      var i = n("872717"),
        a = n("49111");
      function l(e, t) {
        i.default.post({
          url: a.Endpoints.VOICE_CHANNEL_NOTIFICATIONS(e),
          query: { first_user: t },
        });
      }
    },
    778727: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return d;
          },
        }),
        n("222007");
      var i = n("689988"),
        a = n("191145"),
        l = n("721281"),
        s = n("42203"),
        r = n("800762"),
        o = n("818766");
      class u extends i.default {
        handleVoiceChannelSelect(e) {
          let { channelId: t, guildId: n } = e;
          if (null == t || null == n) return;
          let i = s.default.getChannel(t);
          if (
            null != i &&
            (0, l.hasVoiceChannelActivityNotifsEnabled)(i) &&
            i.isGuildVoice()
          ) {
            let e = a.default.getParticipants(t).length,
              n = r.default.isInChannel(t),
              i = e === (n ? 1 : 0);
            i
              ? o.sendVoiceChannelActivityNotification(t, i)
              : e === (n ? 2 : 1) &&
                o.sendVoiceChannelActivityNotification(t, i);
          }
        }
        constructor(...e) {
          super(...e),
            (this.actions = {
              VOICE_CHANNEL_SELECT: this.handleVoiceChannelSelect,
            });
        }
      }
      var d = new u();
    },
    407117: function (e, t, n) {
      "use strict";
      n.r(t);
      var i = n("759843"),
        a = n("913144"),
        l = n("271938"),
        s = n("49111");
      (0, i.analyticsTrackingStoreMaker)({
        dispatcher: a.default,
        actionHandler: {
          CONNECTION_OPEN: e =>
            i.AnalyticsActionHandlers.handleConnectionOpen(e),
          OVERLAY_INITIALIZE: e =>
            i.AnalyticsActionHandlers.handleConnectionOpen(e),
          CURRENT_USER_UPDATE: e =>
            i.AnalyticsActionHandlers.handleConnectionOpen(e),
          CONNECTION_CLOSED: () =>
            i.AnalyticsActionHandlers.handleConnectionClosed(),
          FINGERPRINT: () => i.AnalyticsActionHandlers.handleFingerprint(),
          TRACK: e => i.AnalyticsActionHandlers.handleTrack(e),
        },
        TRACKING_URL: s.Endpoints.TRACK,
        waitFor: [l.default],
        getFingerprint: l.default.getFingerprint,
      });
    },
    130473: function (e, t, n) {
      "use strict";
      let i, a;
      n.r(t),
        n.d(t, {
          default: function () {
            return _;
          },
        }),
        n("808653");
      var l = n("446674"),
        s = n("95410"),
        r = n("913144"),
        o = n("42203"),
        u = n("305961");
      let d = "hideSuppressWarning",
        c = !1,
        f = !0,
        E = !1;
      class h extends l.default.Store {
        initialize() {
          E = s.default.get(d) || E;
        }
        isAFKChannel() {
          let e = o.default.getChannel(a);
          if (null == e) return !1;
          let t = u.default.getGuild(e.getGuildId());
          return null != t && e.id === t.afkChannelId;
        }
        shouldShowWarning() {
          var e;
          return (
            !(null === (e = o.default.getChannel(a)) || void 0 === e
              ? void 0
              : e.isGuildStageVoice()) && !f
          );
        }
      }
      h.displayName = "PermissionSpeakStore";
      var _ = new h(r.default, {
        CONNECTION_OPEN: function (e) {
          (i = e.sessionId), (c = !1);
        },
        CONNECTION_CLOSED: function () {
          (i = null), (a = null), (f = !0);
        },
        VOICE_STATE_UPDATES: function (e) {
          let { voiceStates: t } = e;
          return t.reduce(
            (e, t) =>
              i !== t.sessionId
                ? e
                : (c !== t.suppress && (f = !(c = t.suppress)),
                  a !== t.channelId && ((a = t.channelId), (f = !c)),
                  (E || null == t.channelId) && (f = !0),
                  !0),
            !1
          );
        },
        PERMISSION_CLEAR_SUPPRESS_WARNING: function (e) {
          let { forever: t } = e;
          (f = !0), t && ((E = !0), s.default.set(d, E));
        },
      });
    },
    622785: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return C;
          },
        });
      var i = n("446674"),
        a = n("913144"),
        l = n("271938"),
        s = n("42203"),
        r = n("42887"),
        o = n("957255"),
        u = n("945956"),
        d = n("800762"),
        c = n("49111");
      let f = !0,
        E = !0;
      function h() {
        let e;
        let t = u.default.getChannelId();
        if (null == t) e = !0;
        else {
          var n;
          let i = s.default.getChannel(t),
            a = d.default.getVoiceState(
              null == i ? void 0 : i.getGuildId(),
              l.default.getId()
            );
          e =
            r.default.getMode() !== c.InputModes.VOICE_ACTIVITY ||
            null == i ||
            i.isPrivate() ||
            i.isGuildStageVoice() ||
            o.default.can(c.Permissions.USE_VAD, i) ||
            null == (n = a) ||
            !!n.suppress ||
            null != n.requestToSpeakTimestamp ||
            !1;
        }
        if (f === e) return !1;
        (E = e),
          (f = e),
          a.default.dispatch({ type: "SET_VAD_PERMISSION", hasPermission: f });
      }
      class _ extends i.default.Store {
        initialize() {
          this.waitFor(o.default, r.default, u.default, d.default);
        }
        shouldShowWarning() {
          return !E;
        }
        canUseVoiceActivity() {
          return f;
        }
      }
      _.displayName = "PermissionVADStore";
      var C = new _(a.default, {
        RTC_CONNECTION_STATE: h,
        MEDIA_ENGINE_SET_AUDIO_ENABLED: h,
        AUDIO_SET_MODE: h,
        CHANNEL_UPDATES: h,
        THREAD_UPDATE: h,
        GUILD_ROLE_UPDATE: h,
        GUILD_MEMBER_UPDATE: h,
        IMPERSONATE_UPDATE: h,
        IMPERSONATE_STOP: h,
        VOICE_STATE_UPDATES: function (e) {
          let { voiceStates: t } = e;
          return t.some(e => {
            let { userId: t } = e;
            return t === l.default.getId() && h();
          });
        },
        AUDIO_TOGGLE_SELF_MUTE: function () {
          E = f;
        },
        PERMISSION_CLEAR_VAD_WARNING: function () {
          E = !0;
        },
      });
    },
    449501: function (e, t, n) {
      "use strict";
      let i, a;
      n.r(t),
        n.d(t, {
          default: function () {
            return h;
          },
        }),
        n("222007");
      var l = n("446674"),
        s = n("95410"),
        r = n("913144"),
        o = n("49111");
      let u = "PictureInPictureLocation",
        d = new Map(),
        c = o.PictureInPicturePositions.BOTTOM_RIGHT,
        f = {};
      class E extends l.default.Store {
        initialize() {
          c = s.default.get(u, o.PictureInPicturePositions.BOTTOM_RIGHT);
        }
        get pipWindow() {
          var e;
          return null == i && null == a
            ? null
            : d.get(null !== (e = null != i ? i : a) && void 0 !== e ? e : "");
        }
        get pipVideoWindow() {
          return null == i ? null : d.get(i);
        }
        get pipActivityWindow() {
          return null == a ? null : d.get(a);
        }
        get pipWindows() {
          return d;
        }
        isEmbeddedActivityHidden() {
          return null == a;
        }
        getDockedRect(e) {
          return f[e];
        }
        isOpen(e) {
          return null != e && d.has(e);
        }
      }
      E.displayName = "PictureInPictureStore";
      var h = new E(r.default, {
        PICTURE_IN_PICTURE_OPEN: function (e) {
          var t, n;
          let { id: l, component: s, props: r } = e,
            u = d.get(l);
          if (null != u) return;
          let f = {
            id: l,
            component: s,
            position: null !== (t = r.position) && void 0 !== t ? t : c,
            props: r,
            docked: null !== (n = r.docked) && void 0 !== n && n,
          };
          d.set(l, f),
            s === o.PictureInPictureComponents.VIDEO
              ? null == i && (i = l)
              : s === o.PictureInPictureComponents.EMBED_IFRAME &&
                null == a &&
                (a = l);
        },
        PICTURE_IN_PICTURE_CLOSE: function (e) {
          let { id: t } = e;
          if (!d.has(t)) return !1;
          {
            d.delete(t);
            let e = Array.from(d.keys());
            i === t
              ? (i = e.find(e => {
                  let t = d.get(e);
                  return (
                    null != t &&
                    t.component === o.PictureInPictureComponents.VIDEO
                  );
                }))
              : a === t &&
                (a = e.find(e => {
                  let t = d.get(e);
                  return (
                    null != t &&
                    t.component === o.PictureInPictureComponents.EMBED_IFRAME
                  );
                }));
          }
        },
        PICTURE_IN_PICTURE_MOVE: function (e) {
          let { id: t, position: n } = e;
          if (null == t || (i !== t && a !== t)) return !1;
          {
            let e = new Map();
            d.forEach((t, i) => {
              e.set(i, { ...t, position: n });
            }),
              (d = e),
              (c = n),
              s.default.set(u, n);
          }
        },
        PICTURE_IN_PICTURE_HIDE: function (e) {
          let { id: t } = e;
          if (i !== t && a !== t) return !1;
          {
            let e = d.get(t);
            if (null == e) return !1;
            d.set(t, { ...e, hidden: !0 });
          }
        },
        PICTURE_IN_PICTURE_SHOW: function (e) {
          let { id: t } = e;
          if (i !== t && a !== t) return !1;
          {
            let e = d.get(t);
            if (null == e) return !1;
            d.set(t, { ...e, hidden: !1 });
          }
        },
        PICTURE_IN_PICTURE_UPDATE_RECT: function (e) {
          let { id: t, rect: n } = e;
          f[t] = n;
        },
        PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW: function (e) {
          let { id: t } = e,
            n = d.get(t);
          null != n &&
            (n.component === o.PictureInPictureComponents.VIDEO
              ? (i = t)
              : n.component === o.PictureInPictureComponents.EMBED_IFRAME &&
                (a = t));
        },
        LOGOUT: function () {
          (i = null), (a = null), (d = new Map());
        },
      });
    },
    608421: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        }),
        n("222007");
      var i = n("913144"),
        a = n("689988"),
        l = n("101125");
      class s extends a.default {
        constructor(...e) {
          super(...e), (this.stores = new Map().set(l.default, r));
        }
      }
      function r() {
        i.default.dispatch({
          type: "SELF_PRESENCE_STORE_UPDATE",
          status: l.default.getStatus(),
          activities: l.default.getActivities(),
        });
      }
      var o = new s();
    },
    783252: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return _;
          },
        }),
        n("222007");
      var i = n("913144"),
        a = n("689988"),
        l = n("271938"),
        s = n("366679"),
        r = n("42203"),
        o = n("18494"),
        u = n("123647"),
        d = n("49111");
      function c() {
        !(function () {
          let e = o.default.getVoiceChannelId(),
            t = s.default.bitrate;
          if (null == e) return;
          let n = r.default.getChannel(e);
          if (null != n)
            t !== n.bitrate &&
              i.default.dispatch({
                type: "SET_CHANNEL_BITRATE",
                bitrate: n.bitrate,
              });
        })(),
          !(function () {
            var e;
            let t = o.default.getVoiceChannelId(),
              n = u.default.mode;
            if (null == t) return;
            let a = r.default.getChannel(t);
            if (null == a) return;
            let l =
              null !== (e = a.videoQualityMode) && void 0 !== e
                ? e
                : d.VideoQualityMode.AUTO;
            n !== l &&
              i.default.dispatch({
                type: "SET_CHANNEL_VIDEO_QUALITY_MODE",
                mode: l,
              });
          })();
      }
      function f(e) {
        let { channels: t } = e;
        for (let e of t) o.default.getVoiceChannelId() === e.id && c();
      }
      function E(e) {
        let { voiceStates: t } = e;
        t.forEach(e => {
          l.default.getSessionId() === e.sessionId && c();
        });
      }
      class h extends a.default {
        constructor(...e) {
          super(...e),
            (this.actions = { CHANNEL_UPDATES: f, VOICE_STATE_UPDATES: E });
        }
      }
      var _ = new h();
    },
    471671: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return f;
          },
        }),
        n("222007");
      var i = n("627445"),
        a = n.n(i),
        l = n("446674"),
        s = n("913144"),
        r = n("816454");
      let o = new Map();
      function u(e) {
        let t = o.get(e);
        return null == t
          ? (console.warn("Window state not initialized", e),
            {
              isElementFullscreen: !1,
              focused: !1,
              windowSize: { width: 0, height: 0 },
              visible: !1,
            })
          : t;
      }
      class d extends l.default.Store {
        isFocused() {
          let e =
            arguments.length > 0 && void 0 !== arguments[0]
              ? arguments[0]
              : (0, r.getMainWindowId)();
          return u(e).focused;
        }
        isVisible() {
          let e =
            arguments.length > 0 && void 0 !== arguments[0]
              ? arguments[0]
              : (0, r.getMainWindowId)();
          return u(e).visible;
        }
        getFocusedWindowId() {
          let e = null;
          return (
            o.forEach((t, n) => {
              t.focused && (e = n);
            }),
            e
          );
        }
        isElementFullScreen() {
          let e =
            arguments.length > 0 && void 0 !== arguments[0]
              ? arguments[0]
              : (0, r.getMainWindowId)();
          return u(e).isElementFullscreen;
        }
        windowSize() {
          let e =
            arguments.length > 0 && void 0 !== arguments[0]
              ? arguments[0]
              : (0, r.getMainWindowId)();
          return u(e).windowSize;
        }
      }
      d.displayName = "WindowStore";
      let c = new d(s.default, {
        WINDOW_INIT: function (e) {
          a(!o.has(e.windowId), "Window initialized multiple times");
          let {
            width: t,
            height: n,
            isElementFullscreen: i,
            focused: l,
            visible: s,
          } = e;
          return (
            o.set(e.windowId, {
              windowSize: { width: t, height: n },
              isElementFullscreen: i,
              focused: l,
              visible: s,
            }),
            !0
          );
        },
        WINDOW_FULLSCREEN_CHANGE: function (e) {
          let t = u(e.windowId);
          return (
            t.isElementFullscreen !== e.isElementFullscreen &&
            (o.set(e.windowId, {
              ...t,
              isElementFullscreen: e.isElementFullscreen,
            }),
            !0)
          );
        },
        WINDOW_FOCUS: function (e) {
          let t = u(e.windowId);
          return (
            t.focused !== e.focused &&
            (o.set(e.windowId, { ...t, focused: e.focused }), !0)
          );
        },
        WINDOW_RESIZED: function (e) {
          let t = u(e.windowId);
          return (
            (t.windowSize.width !== e.width ||
              t.windowSize.height !== e.height) &&
            (o.set(e.windowId, {
              ...t,
              windowSize: { width: e.width, height: e.height },
            }),
            !0)
          );
        },
        WINDOW_UNLOAD: function (e) {
          return o.delete(e.windowId), !0;
        },
        WINDOW_VISIBILITY_CHANGE: function (e) {
          let t = u(e.windowId);
          return (
            t.visible !== e.visible &&
            (o.set(e.windowId, { ...t, visible: e.visible }), !0)
          );
        },
      });
      n.el("599110")
        .then(n.bind(n, "599110"))
        .then(e => {
          let { addExtraAnalyticsDecorator: t } = e;
          t(e => {
            e.client_app_state = c.isFocused() ? "focused" : "unfocused";
          });
        });
      var f = c;
    },
    551184: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return c;
          },
        });
      var i = n("37983"),
        a = n("884691"),
        l = n("414456"),
        s = n.n(l),
        r = n("77078"),
        o = n("98717");
      let u = { SMALL: o.sizeSmall, MEDIUM: o.sizeMedium, LARGE: o.sizeLarge };
      class d extends a.PureComponent {
        calculateScroll() {
          let e =
            arguments.length > 0 && void 0 !== arguments[0]
              ? arguments[0]
              : this._scroller;
          if (null == e) return;
          let { scrollTop: t } = e.getScrollerState(),
            { hideSeparator: n } = this.state;
          0 !== t || n
            ? t > 0 && n && this.setState({ hideSeparator: !1 })
            : this.setState({ hideSeparator: !0 });
        }
        getScroller() {
          return this._scroller;
        }
        renderChildren() {
          let { hideSeparator: e } = this.state;
          return a.Children.map(this.props.children, t =>
            a.isValidElement(t)
              ? t.type === r.ModalContent || t.type === r.ModalListContent
                ? a.cloneElement(t, {
                    scrollerRef: this.setRef,
                    onScroll: this.handleScroll,
                    onResize: this.handleScroll,
                  })
                : t.type === r.ModalHeader && e
                  ? a.cloneElement(t, { separator: !1 })
                  : t
              : t
          );
        }
        render() {
          let {
            className: e,
            children: t,
            tag: n,
            size: a,
            fullscreenOnMobile: l,
            ...r
          } = this.props;
          return (0, i.jsx)(n, {
            className: s(o.modal, e, a, { [o.fullscreenOnMobile]: l }),
            ...r,
            children: this.renderChildren(),
          });
        }
        constructor(e) {
          super(e),
            (this._scroller = null),
            (this.setRef = e => {
              (this._scroller = e), null != e && this.calculateScroll();
            }),
            (this.handleScroll = e => {
              this.calculateScroll();
              let { onScroll: t } = this.props;
              null == t || t(e);
            }),
            (this.state = { hideSeparator: !1 });
        }
      }
      (d.Header = r.ModalHeader),
        (d.Footer = r.ModalFooter),
        (d.Content = r.ModalContent),
        (d.ListContent = r.ModalListContent),
        (d.CloseButton = r.ModalCloseButton),
        (d.Sizes = u),
        (d.defaultProps = {
          fullscreenOnMobile: !0,
          size: u.SMALL,
          tag: "div",
        });
      var c = d;
    },
    867544: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("669491"),
        l = n("469563"),
        s = n("163725"),
        r = n("75196"),
        o = (0, l.replaceIcon)(
          function (e) {
            let {
              width: t = 24,
              height: n = 24,
              color: l = "currentColor",
              foregroundColor: s = a.default.unsafe_rawColors.RED_400.css,
              foreground: o,
              background: u,
              ...d
            } = e;
            return (0, i.jsxs)("svg", {
              ...(0, r.default)(d),
              width: t,
              height: n,
              viewBox: "0 0 24 24",
              children: [
                (0, i.jsx)("rect", {
                  fill: s,
                  className: o,
                  x: "2",
                  y: "21.2154",
                  width: "26",
                  height: "2",
                  transform: "rotate(-45 2 21.2154)",
                }),
                (0, i.jsx)("path", {
                  fill: l,
                  className: u,
                  fillRule: "evenodd",
                  clipRule: "evenodd",
                  d: "M10.1843 18.8115C10.7713 18.9328 11.3775 19 12 19C18.352 19 23 12 23 12C23 12 21.9643 10.4402 20.2026 8.79322L15.8265 13.1693C15.4393 14.4384 14.4382 15.4393 13.1694 15.8264L10.1843 18.8115ZM12.4818 8.02871C12.3238 8.00975 12.1631 8 12 8C9.791 8 8 9.79 8 12C8 12.1631 8.00975 12.3239 8.0287 12.4818L4.59645 15.914C2.35293 14.0375 1 12 1 12C1 12 5.648 5 12 5C13.0508 5 14.055 5.19157 14.9992 5.51132L12.4818 8.02871Z",
                }),
              ],
            });
          },
          s.EyeSlashIcon,
          void 0,
          { size: 24 }
        );
    },
    486952: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return r;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("469563"),
        l = n("276825"),
        s = n("75196"),
        r = (0, a.replaceIcon)(
          function (e) {
            let {
              width: t = 16,
              height: n = 16,
              color: a = "currentColor",
              ...l
            } = e;
            return (0, i.jsx)("svg", {
              ...(0, s.default)(l),
              width: t,
              height: n,
              viewBox: "0 0 16 15.2",
              children: (0, i.jsx)("path", {
                d: "M7.4,11.17,4,8.62,5,7.26l2,1.53L10.64,4l1.36,1Z",
                fill: a,
              }),
            });
          },
          l.CheckmarkSmallIcon,
          void 0,
          { size: 16 }
        );
    },
    306160: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          SUPPORTS_COPY: function () {
            return s;
          },
          copy: function () {
            return r;
          },
        }),
        n("70102");
      var i = n("281071"),
        a = n("773336"),
        l = n("50885");
      let s = (() => {
        if (a.isPlatformEmbedded) return null != l.default.copy;
        try {
          return (
            document.queryCommandEnabled("copy") ||
            document.queryCommandSupported("copy")
          );
        } catch (e) {
          return !1;
        }
      })();
      function r(e) {
        return (
          !!s && (a.isPlatformEmbedded ? (l.default.copy(e), !0) : i.copy(e))
        );
      }
    },
    103603: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          fit: function () {
            return u;
          },
          zoomFit: function () {
            return d;
          },
          getRatio: function () {
            return c;
          },
          getCoverRatio: function () {
            return f;
          },
          makeCssUrlString: function () {
            return E;
          },
          getPalette: function () {
            return _;
          },
          getPaletteForAvatar: function () {
            return C;
          },
          readFileAsBase64: function () {
            return g;
          },
          dataUriFileSize: function () {
            return T;
          },
          dataUrlToFile: function () {
            return m;
          },
          dataUrlToBlob: function () {
            return p;
          },
          isPNGAnimated: function () {
            return I;
          },
        }),
        n("424973"),
        n("101997"),
        n("311790"),
        n("477657"),
        n("811875"),
        n("90301"),
        n("652153"),
        n("28797"),
        n("817884"),
        n("597349"),
        n("667536"),
        n("690341"),
        n("70102");
      var i = n("627445"),
        a = n.n(i),
        l = n("917351"),
        s = n.n(l),
        r = n("48648"),
        o = n.n(r);
      function u(e) {
        let {
          width: t,
          height: n,
          maxWidth: i,
          maxHeight: a,
          minWidth: l = 0,
          minHeight: s = 0,
        } = e;
        if (t !== i || n !== a) {
          let e = t > i ? i / t : 1;
          (t = Math.max(Math.round(t * e), l)),
            (n = Math.max(Math.round(n * e), s));
          let r = n > a ? a / n : 1;
          (t = Math.max(Math.round(t * r), l)),
            (n = Math.max(Math.round(n * r), s));
        }
        return { width: t, height: n };
      }
      function d(e, t) {
        let n = Math.min(Math.round(0.65 * window.innerHeight), 2e3),
          i = Math.min(Math.round(0.75 * window.innerWidth), 2e3);
        return u({ width: e, height: t, maxWidth: i, maxHeight: n });
      }
      function c(e) {
        let { width: t, height: n, maxWidth: i, maxHeight: a } = e,
          l = 1;
        t > i && (l = i / t), (t = Math.round(t * l));
        let s = 1;
        return (n = Math.round(n * l)) > a && (s = a / n), Math.min(l * s, 1);
      }
      function f(e) {
        let { width: t, height: n, maxWidth: i, maxHeight: a } = e;
        return t === n ? 1 : Math.min(Math.max(i / t, a / n), 1);
      }
      function E(e) {
        return null == e || "" === e ? "none" : "url(".concat(e, ")");
      }
      let h = [[0, 0, 0]];
      function _(e, t, n) {
        let i = document.createElement("canvas"),
          a = i.getContext("2d");
        if (null == a) return h;
        let l = (i.width = 0 === e.width ? 128 : e.width),
          s = (i.height = 0 === e.height ? 128 : e.height);
        a.drawImage(e, 0, 0, l, s);
        let r = a.getImageData(0, 0, l, s).data,
          u = (function (e, t, n) {
            let i = [];
            for (let a = 0, l, s, r, o, u; a < t; a += n)
              (s = e[(l = 4 * a) + 0]),
                (r = e[l + 1]),
                (o = e[l + 2]),
                (void 0 === (u = e[l + 3]) || u >= 125) &&
                  !(s > 250 && r > 250 && o > 250) &&
                  i.push([s, r, o]);
            return i;
          })(r, l * s, n),
          d = o(u, t);
        return "boolean" == typeof d ? h : d.palette();
      }
      let C = e => ("number" == typeof e ? null : S(e)),
        S = s.memoize(
          e =>
            new Promise((t, n) => {
              let i = new Image();
              (i.crossOrigin = "Anonymous"),
                (i.onerror = e => {
                  n(e), (i.onerror = i.onload = null), (i = null);
                }),
                (i.onload = () => {
                  t(_(i, 5, 10)), (i.onerror = i.onload = null), (i = null);
                }),
                (i.src = e);
            })
        );
      function g(e) {
        return new Promise((t, n) => {
          let i = new FileReader();
          i.readAsDataURL(e),
            (i.onload = () => {
              a("string" == typeof i.result, "Result must be a string"),
                t(i.result);
            }),
            (i.onerror = e => n(e));
        });
      }
      function T(e) {
        let t = e.split(";base64,");
        return (
          a(2 === t.length, "Input data is not a valid image."),
          atob(t[1]).length
        );
      }
      async function m(e, t, n) {
        let i = p(e),
          a = await i.arrayBuffer();
        return new File([a], t, { type: n });
      }
      function p(e) {
        let t;
        t =
          e.split(",")[0].indexOf("base64") >= 0
            ? atob(e.split(",")[1])
            : btoa(e.split(",")[1]);
        let n = e.split(",")[0].split(":")[1].split(";")[0],
          i = new Uint8Array(t.length);
        for (var a = 0; a < t.length; a++) i[a] = t.charCodeAt(a);
        return new Blob([i], { type: n });
      }
      async function I(e) {
        var t;
        let n =
          null === (t = e.type) || void 0 === t ? void 0 : t.split(";")[0];
        if ("image/png" !== n) throw Error("File is not a PNG");
        let i = await e.text(),
          a = i.indexOf("IDAT");
        return (!!(a > 0) && -1 !== i.substring(0, a).indexOf("acTL")) || !1;
      }
    },
    642754: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          showPendingNotification: function () {
            return c;
          },
          showAcceptedNotification: function () {
            return f;
          },
        });
      var i = n("450911"),
        a = n("630086"),
        l = n("193990"),
        s = n("393414"),
        r = n("315102"),
        o = n("49111"),
        u = n("782340");
      function d(e, t, n) {
        l.default.showNotification(
          r.default.getUserAvatarURL(e),
          e.username,
          t,
          {},
          { omitViewTracking: !0, omitClickTracking: !0, tag: e.id, onClick: n }
        );
      }
      function c(e) {
        d(e, u.default.Messages.NOTIFICATION_PENDING_FRIEND_REQUEST, () => {
          {
            let { openUserProfileModal: t } = n("401642");
            t({ userId: e.id });
          }
          (0, s.transitionTo)(o.Routes.FRIENDS),
            a.default.setSection(o.FriendsSections.PENDING);
        });
      }
      function f(e) {
        d(e, u.default.Messages.NOTIFICATION_ACCEPTED_FRIEND_REQUEST, () => {
          i.default.openPrivateChannel(e.id);
        });
      }
    },
    799895: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return O;
          },
        }),
        n("222007"),
        n("860677");
      var i,
        a = n("917351"),
        l = n.n(a),
        s = n("597755"),
        r = n.n(s),
        o = n("49671"),
        u = n("385649"),
        d = n("102985"),
        c = n("599110"),
        f = n("773336"),
        E = n("709681"),
        h = n("50885"),
        _ = n("49111");
      let C = f.isPlatformEmbedded && (0, f.isWindows)(),
        S = C && 10 > parseFloat(o.default.os.release),
        g = !0;
      if (C && !S) {
        let [e, , t] = o.default.os.release.split(".");
        g = parseInt(e) > 10 || parseInt(t) >= 15063;
      }
      let T =
          (C && g) ||
          ("Chrome" === r.name && 47 > parseFloat(r.version)) ||
          ("Firefox" === r.name && 52 > parseFloat(r.version)),
        m = l.throttle(E.playSound, 1e3, { leading: !0 });
      function p() {
        h.default.flashFrame(!1);
      }
      C &&
        (window.addEventListener("focus", p),
        h.default.on("MAIN_WINDOW_FOCUS", p));
      let Notification = window.Notification;
      if (S) {
        let e = {};
        h.default.on("NOTIFICATION_CLICK", (t, n) => {
          let i = e[n];
          null != i && (i.onclick(), i.close());
        }),
          h.default.send("NOTIFICATIONS_CLEAR"),
          ((i = class {
            static requestPermission(e) {
              e();
            }
            close() {
              null != e[this.id] &&
                (delete e[this.id],
                h.default.send("NOTIFICATION_CLOSE", this.id),
                this.onclose());
            }
            constructor(t, { body: n, icon: i }) {
              (this.id = Notification._id++),
                (this.onshow = function () {}),
                (this.onclick = function () {}),
                (this.onclose = function () {}),
                (this.title = t),
                (this.body = n),
                (this.icon = i),
                setImmediate(() => this.onshow()),
                (e[this.id] = this),
                h.default.send("NOTIFICATION_SHOW", {
                  id: this.id,
                  title: this.title,
                  body: this.body,
                  icon: this.icon,
                });
            }
          }).permission = "granted"),
          (i._id = 0),
          (Notification = i);
      }
      function I() {
        return null != Notification && "granted" === Notification.permission;
      }
      function A(e) {
        let t =
          arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
        e.includes("message") ? m(e, t) : (0, E.playSound)(e, t);
      }
      function N(e) {
        return (
          (d.default.disableNotifications && null == e.overrideStreamerMode) ||
          !I() ||
          (f.isPlatformEmbedded && !h.default.shouldDisplayNotifications())
        );
      }
      var O = {
        hasPermission: I,
        requestPermission: function (e) {
          null != Notification &&
            Notification.requestPermission(() => {
              null != e && e(I());
            });
        },
        showNotification: function (e, t, n, i, a) {
          var s, r, o, d;
          let E;
          if (N(a)) {
            null != a.sound &&
              !1 !== a.playSoundIfDisabled &&
              A(a.sound, null !== (r = a.volume) && void 0 !== r ? r : 1);
            return;
          }
          null != a.sound &&
            A(a.sound, null !== (o = a.volume) && void 0 !== o ? o : 1);
          let S =
            null !== (d = null == a ? void 0 : a.tag) && void 0 !== d
              ? d
              : null;
          (0, f.isLinux)() && (n = l.escape(n));
          let m = { icon: e, body: n, tag: S, silent: !0 };
          C && u.default.taskbarFlash && h.default.flashFrame(!0);
          try {
            E = new Notification(t, m);
          } catch (e) {
            return null;
          }
          return (null === (s = a.onShown) || void 0 === s || s.call(a),
          !a.omitViewTracking &&
            c.default.track(_.AnalyticEvents.NOTIFICATION_VIEWED, i),
          (E.onclick = () => {
            var e;
            f.isPlatformEmbedded
              ? h.default.focus()
              : (window.focus(), E.close()),
              !a.omitClickTracking &&
                c.default.track(_.AnalyticEvents.NOTIFICATION_CLICKED, i),
              null === (e = a.onClick) || void 0 === e || e.call(a);
          }),
          T && setTimeout(() => E.close(), 5e3),
          g)
            ? E
            : {
                close() {
                  var e;
                  null == E ||
                    null === (e = E.onclose) ||
                    void 0 === e ||
                    e.call(E);
                },
              };
        },
        disabled: N,
      };
    },
    309557: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          CheckmarkSmallIcon: function () {
            return s;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("669491"),
        l = n("82169");
      let s = e => {
        let {
          width: t = 24,
          height: n = 24,
          color: s = a.default.colors.INTERACTIVE_NORMAL,
          colorClass: r = "",
          ...o
        } = e;
        return (0, i.jsx)("svg", {
          ...(0, l.default)(o),
          xmlns: "http://www.w3.org/2000/svg",
          width: t,
          height: n,
          fill: "none",
          viewBox: "0 0 24 24",
          children: (0, i.jsx)("path", {
            fill: "string" == typeof s ? s : s.css,
            fillRule: "evenodd",
            d: "M18.7 7.3a1 1 0 0 1 0 1.4l-8 8a1 1 0 0 1-1.4 0l-4-4a1 1 0 1 1 1.4-1.4l3.3 3.29 7.3-7.3a1 1 0 0 1 1.4 0Z",
            clipRule: "evenodd",
            className: r,
          }),
        });
      };
    },
    962821: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          EyeSlashIcon: function () {
            return s;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("669491"),
        l = n("82169");
      let s = e => {
        let {
          width: t = 24,
          height: n = 24,
          color: s = a.default.colors.INTERACTIVE_NORMAL,
          colorClass: r = "",
          ...o
        } = e;
        return (0, i.jsxs)("svg", {
          ...(0, l.default)(o),
          xmlns: "http://www.w3.org/2000/svg",
          width: t,
          height: n,
          fill: "none",
          viewBox: "0 0 24 24",
          children: [
            (0, i.jsx)("path", {
              fill: "string" == typeof s ? s : s.css,
              d: "M1.3 21.3a1 1 0 1 0 1.4 1.4l20-20a1 1 0 0 0-1.4-1.4l-20 20ZM3.16 16.05c.18.24.53.26.74.05l.72-.72c.18-.18.2-.45.05-.66a15.7 15.7 0 0 1-1.43-2.52.48.48 0 0 1 0-.4c.4-.9 1.18-2.37 2.37-3.72C7.13 6.38 9.2 5 12 5c.82 0 1.58.12 2.28.33.18.05.38 0 .52-.13l.8-.8c.25-.25.18-.67-.15-.79A9.79 9.79 0 0 0 12 3C4.89 3 1.73 10.11 1.11 11.7a.83.83 0 0 0 0 .6c.25.64.9 2.15 2.05 3.75Z",
              className: r,
            }),
            (0, i.jsx)("path", {
              fill: "string" == typeof s ? s : s.css,
              d: "M8.18 10.81c-.13.43.36.65.67.34l2.3-2.3c.31-.31.09-.8-.34-.67a4 4 0 0 0-2.63 2.63ZM12.85 15.15c-.31.31-.09.8.34.67a4.01 4.01 0 0 0 2.63-2.63c.13-.43-.36-.65-.67-.34l-2.3 2.3Z",
              className: r,
            }),
            (0, i.jsx)("path", {
              fill: "string" == typeof s ? s : s.css,
              d: "M9.72 18.67a.52.52 0 0 0-.52.13l-.8.8c-.25.25-.18.67.15.79 1.03.38 2.18.61 3.45.61 7.11 0 10.27-7.11 10.89-8.7a.83.83 0 0 0 0-.6c-.25-.64-.9-2.15-2.05-3.75a.49.49 0 0 0-.74-.05l-.72.72a.51.51 0 0 0-.05.66 15.7 15.7 0 0 1 1.43 2.52c.06.13.06.27 0 .4-.4.9-1.18 2.37-2.37 3.72C16.87 17.62 14.8 19 12 19c-.82 0-1.58-.12-2.28-.33Z",
              className: r,
            }),
          ],
        });
      };
    },
    129611: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          RefreshIcon: function () {
            return s;
          },
        });
      var i = n("37983");
      n("884691");
      var a = n("669491"),
        l = n("82169");
      let s = e => {
        let {
          width: t = 24,
          height: n = 24,
          color: s = a.default.colors.INTERACTIVE_NORMAL,
          colorClass: r = "",
          ...o
        } = e;
        return (0, i.jsx)("svg", {
          ...(0, l.default)(o),
          xmlns: "http://www.w3.org/2000/svg",
          width: t,
          height: n,
          fill: "none",
          viewBox: "0 0 24 24",
          children: (0, i.jsx)("path", {
            fill: "string" == typeof s ? s : s.css,
            d: "M21 2a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-6a1 1 0 1 1 0-2h3.93A8 8 0 0 0 6.97 5.78a1 1 0 0 1-1.26-1.56A9.98 9.98 0 0 1 20 6V3a1 1 0 0 1 1-1ZM3 22a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H5.07a8 8 0 0 0 11.96 2.22 1 1 0 1 1 1.26 1.56A9.99 9.99 0 0 1 4 18v3a1 1 0 0 1-1 1Z",
            className: r,
          }),
        });
      };
    },
    825573: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          fontsToPreload: function () {
            return i;
          },
        });
      let i = [
        "ggsans-400-normalitalic",
        "ggsans-700-bold",
        "ggsans-700-bolditalic",
        "notosans-400-normalitalic",
        "notosans-700-bold",
        "notosans-700-bolditalic",
      ];
    },
    811335: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return o;
          },
        });
      var i,
        a,
        l = n("44170");
      ((i = a || (a = {})).VERTICAL = "vertical"),
        (i.HORIZONTAL = "horizontal");
      let s = { open: !1, orientation: null };
      class r extends l.EventEmitter {
        get orientations() {
          return Object.values(a);
        }
        get state() {
          return s;
        }
        check() {
          let e =
              (function () {
                try {
                  return window.outerWidth - window.innerWidth;
                } catch (e) {
                  return 0;
                }
              })() > 160,
            t =
              (function () {
                try {
                  return window.outerHeight - window.innerHeight;
                } catch (e) {
                  return 0;
                }
              })() > 160,
            n = e ? "vertical" : "horizontal";
          if (
            !(t && e) &&
            ((function () {
              try {
                return window.Firebug.chrome.isInitialized;
              } catch (e) {
                return !1;
              }
            })() ||
              e ||
              t)
          ) {
            let e = s.open;
            (s = { open: !0, orientation: n }),
              (!e || s.orientation !== n) && this.emit("changed", s);
          } else s.open && ((s.open = !1), this.emit("changed", s));
        }
        constructor() {
          super(), setInterval(() => this.check(), 500);
        }
      }
      var o = r;
    },
    404073: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          default: function () {
            return s;
          },
        });
      var i = n("811335"),
        a = n("394846");
      function l(e) {
        let t =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
          n =
            "" !== e.Messages.XSSDefenses ? e.Messages.XSSDefenses : e.Messages;
        null != n.SELF_XSS_HEADER &&
          (console.log(
            "%c".concat(n.SELF_XSS_HEADER),
            "color: #5865f2; -webkit-text-stroke: 2px black; font-size: 72px; font-weight: bold;"
          ),
          console.log("%c".concat(n.SELF_XSS_LINE_1), "font-size: 16px;"),
          console.log(
            "%c".concat(n.SELF_XSS_LINE_2),
            "font-size: 18px; font-weight: bold; color: red;"
          ),
          t >= 4
            ? (console.log("%c".concat(n.SELF_XSS_LINE_3), "font-size: 16px;"),
              console.log(
                "%c".concat(
                  n.SELF_XSS_LINE_4.format({
                    url: ""
                      .concat(location.protocol)
                      .concat(window.GLOBAL_ENV.MARKETING_ENDPOINT, "/jobs"),
                  })
                ),
                "font-size: 16px;"
              ))
            : setTimeout(() => l(e, t + 1), 1e3));
      }
      var s = (e, t, n) => {
        if (null != n && "0.0.0" === n.remoteApp.getVersion()) return;
        let s = new i.default();
        if (null != n) {
          if (null != n.window.setDevtoolsCallbacks)
            n.window.setDevtoolsCallbacks(
              () => {
                t.hideToken(), l(e);
              },
              () => {
                t.showToken();
              }
            );
          else {
            let i = n.window.webContents;
            i.removeAllListeners("devtools-opened"),
              i.on("devtools-opened", () => {
                t.hideToken(), l(e);
              }),
              i.on("devtools-closed", t.showToken);
          }
        } else
          !a.isMobile &&
            !a.isTablet &&
            s.on("changed", n => {
              let { open: i } = n;
              i ? (t.hideToken(), l(e)) : t.showToken();
            });
        window.addEventListener("beforeunload", e => {
          e.isTrusted && t.showToken();
        });
      };
    },
    281071: function (e, t, n) {
      "use strict";
      function i(e) {
        let t = document.body;
        if (null == t)
          throw Error(
            "[Utils] ClipboardUtils.copy(): assert failed: document.body != null"
          );
        let n = document.createRange(),
          i = window.getSelection(),
          a = document.createElement("textarea");
        (a.value = e),
          (a.contentEditable = "true"),
          (a.style.visibility = "none"),
          t.appendChild(a),
          n.selectNodeContents(a),
          null == i || i.removeAllRanges(),
          null == i || i.addRange(n),
          a.focus(),
          a.setSelectionRange(0, e.length);
        let l = document.execCommand("copy");
        return t.removeChild(a), l;
      }
      n.r(t),
        n.d(t, {
          copy: function () {
            return i;
          },
        }),
        n("70102");
    },
    503586: function (e, t, n) {
      "use strict";
      n.r(t),
        n.d(t, {
          batchUpdates: function () {
            return a;
          },
        });
      var i = n("817736");
      function a(e) {
        (0, i.unstable_batchedUpdates)(e);
      }
    },
    190709: function (e, t, n) {
      "use strict";
      n.r(t), n("222007"), n("274635");
      var i = n("464324");
      n("985745");
      var a = n("383536"),
        l = n.n(a);
      (window.platform = l),
        null == window.ResizeObserver &&
          (window.ResizeObserver = i.ResizeObserver),
        "object" != typeof globalThis && (window.globalThis = window),
        (Map.prototype.toJSON = function () {
          return Array.from(this);
        }),
        (Set.prototype.toJSON = function () {
          return Array.from(this);
        });
      {
        class DOMPoint {
          static fromPoint(e) {
            return new DOMPoint(
              e.x,
              e.y,
              void 0 !== e.z ? e.z : 0,
              void 0 !== e.w ? e.w : 1
            );
          }
          matrixTransform(e) {
            return (e.is2D || e instanceof SVGMatrix) &&
              0 === this.z &&
              1 === this.w
              ? new DOMPoint(
                  this.x * e.a + this.y * e.c + e.e,
                  this.x * e.b + this.y * e.d + e.f,
                  0,
                  1
                )
              : new DOMPoint(
                  this.x * e.m11 +
                    this.y * e.m21 +
                    this.z * e.m31 +
                    this.w * e.m41,
                  this.x * e.m12 +
                    this.y * e.m22 +
                    this.z * e.m32 +
                    this.w * e.m42,
                  this.x * e.m13 +
                    this.y * e.m23 +
                    this.z * e.m33 +
                    this.w * e.m43,
                  this.x * e.m14 +
                    this.y * e.m24 +
                    this.z * e.m34 +
                    this.w * e.m44
                );
          }
          toJSON() {
            return { x: this.x, y: this.y, z: this.z, w: this.w };
          }
          constructor(e = 0, t = 0, n = 0, i = 1) {
            (this.x = e), (this.y = t), (this.z = n), (this.w = i);
          }
        }
        null == window.DOMPoint && (window.DOMPoint = DOMPoint);
      }
      {
        class DOMRect {
          static fromRect(e) {
            return new DOMRect(e.x, e.y, e.width, e.height);
          }
          get top() {
            return this.y;
          }
          get left() {
            return this.x;
          }
          get right() {
            return this.x + this.width;
          }
          get bottom() {
            return this.y + this.height;
          }
          toJSON() {
            return {
              x: this.x,
              y: this.y,
              width: this.width,
              height: this.height,
              top: this.top,
              left: this.left,
              right: this.right,
              bottom: this.bottom,
            };
          }
          constructor(e = 0, t = 0, n = 0, i = 0) {
            (this.x = e), (this.y = t), (this.width = n), (this.height = i);
          }
        }
        null == window.DOMRect && (window.DOMRect = DOMRect);
      }
      null == window.TextEncoder && n("705479");
    },
  },
]);
//# sourceMappingURL=63122.caf34fa22413007e3c82.js.map
